= Invalid execution results =
| ---------------------------------------- |
|        Thread 1         |    Thread 2    |
| ---------------------------------------- |
| triggerAndCheck(): true | operation(): 0 |
| ---------------------------------------- |

The following interleaving leads to the error:
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                           Thread 1                                                            |                                                                  Thread 2                                                                  |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| triggerAndCheck(): true                                                                                                       |                                                                                                                                            |
|   continueAndCheckIfFailed(): true at SingleSuspensionTraceReportingTest.triggerAndCheck(MultipleSuspensionsTests.kt:109)     |                                                                                                                                            |
|     counter ➜ AtomicInteger#1 at SingleSuspensionTraceReportingTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:113) |                                                                                                                                            |
|     AtomicInteger#1.set(1) at SingleSuspensionTraceReportingTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:113)    |                                                                                                                                            |
|     switch                                                                                                                    |                                                                                                                                            |
|                                                                                                                               | operation(): 0                                                                                                                             |
|                                                                                                                               |   suspendAndCauseFailure(): 0 at SingleSuspensionTraceReportingTest.operation(MultipleSuspensionsTests.kt:121)                             |
|                                                                                                                               |     counter ➜ AtomicInteger#1 at SingleSuspensionTraceReportingTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:126)                |
|                                                                                                                               |     AtomicInteger#1.get(): 1 at SingleSuspensionTraceReportingTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:126)                 |
|                                                                                                                               |     continuation1 = <cont> at SingleSuspensionTraceReportingTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:129)                   |
|                                                                                                                               |     <cont>.getOrThrow(): COROUTINE_SUSPENDED at SingleSuspensionTraceReportingTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:129) |
|                                                                                                                               |       result ➜ UNDECIDED at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:51)                                                         |
|                                                                                                                               |       result.compareAndSet(UNDECIDED, COROUTINE_SUSPENDED): true at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:53)                 |
|                                                                                                                               |       switch (reason: coroutine is suspended)                                                                                              |
|     continuation1 ➜ <cont> at SingleSuspensionTraceReportingTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:114)    |                                                                                                                                            |
|     <cont>.resumeWith(Unit#1) at SingleSuspensionTraceReportingTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:114) |                                                                                                                                            |
|     switch                                                                                                                    |                                                                                                                                            |
|                                                                                                                               |     fail = true at SingleSuspensionTraceReportingTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:131)                              |
|                                                                                                                               |   result: 0                                                                                                                                |
|     fail ➜ true at SingleSuspensionTraceReportingTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:115)               |                                                                                                                                            |
|   result: true                                                                                                                |                                                                                                                                            |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                           Thread 1                                                            |                                                                  Thread 2                                                                  |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| triggerAndCheck(): true                                                                                                       |                                                                                                                                            |
|   continueAndCheckIfFailed(): true at SingleSuspensionTraceReportingTest.triggerAndCheck(MultipleSuspensionsTests.kt:109)     |                                                                                                                                            |
|     counter ➜ AtomicInteger#1 at SingleSuspensionTraceReportingTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:113) |                                                                                                                                            |
|     AtomicInteger#1.set(1) at SingleSuspensionTraceReportingTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:113)    |                                                                                                                                            |
|     switch                                                                                                                    |                                                                                                                                            |
|                                                                                                                               | operation(): 0                                                                                                                             |
|                                                                                                                               |   suspendAndCauseFailure(): 0 at SingleSuspensionTraceReportingTest.operation(MultipleSuspensionsTests.kt:121)                             |
|                                                                                                                               |     counter ➜ AtomicInteger#1 at SingleSuspensionTraceReportingTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:126)                |
|                                                                                                                               |     AtomicInteger#1.get(): 1 at SingleSuspensionTraceReportingTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:126)                 |
|                                                                                                                               |     continuation1 = <cont> at SingleSuspensionTraceReportingTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:129)                   |
|                                                                                                                               |     <cont>.getOrThrow(): COROUTINE_SUSPENDED at SingleSuspensionTraceReportingTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:129) |
|                                                                                                                               |       result ➜ UNDECIDED at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:51)                                                         |
|                                                                                                                               |       result.compareAndSet(UNDECIDED, COROUTINE_SUSPENDED): true at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:53)                 |
|                                                                                                                               |       switch (reason: coroutine is suspended)                                                                                              |
|     continuation1 ➜ <cont> at SingleSuspensionTraceReportingTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:114)    |                                                                                                                                            |
|     <cont>.resumeWith(Unit#1) at SingleSuspensionTraceReportingTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:114) |                                                                                                                                            |
|       result ➜ COROUTINE_SUSPENDED at SafeContinuation.resumeWith(SafeContinuationJvm.kt:37)                                  |                                                                                                                                            |
|       result.compareAndSet(COROUTINE_SUSPENDED, RESUMED): true at SafeContinuation.resumeWith(SafeContinuationJvm.kt:40)      |                                                                                                                                            |
|     switch                                                                                                                    |                                                                                                                                            |
|                                                                                                                               |     fail = true at SingleSuspensionTraceReportingTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:131)                              |
|                                                                                                                               |   result: 0                                                                                                                                |
|     fail ➜ true at SingleSuspensionTraceReportingTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:115)               |                                                                                                                                            |
|   result: true                                                                                                                |                                                                                                                                            |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
