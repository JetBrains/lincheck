= Invalid execution results =
| ---------------------------------------- |
|        Thread 1         |    Thread 2    |
| ---------------------------------------- |
| triggerAndCheck(): true | operation(): 0 |
| ---------------------------------------- |

The following interleaving leads to the error:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                Thread 1                                                                |                                                                                                     Thread 2                                                                                                     |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| triggerAndCheck(): true                                                                                                                |                                                                                                                                                                                                                  |
|   continueAndCheckIfFailed(): true at SingleSuspensionPointTraceRepresentationTest.triggerAndCheck(MultipleSuspensionsTests.kt:36)     |                                                                                                                                                                                                                  |
|     counter ➜ AtomicInteger#1 at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:40) |                                                                                                                                                                                                                  |
|     AtomicInteger#1.set(1) at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:40)    |                                                                                                                                                                                                                  |
|     switch                                                                                                                             |                                                                                                                                                                                                                  |
|                                                                                                                                        | operation(): 0                                                                                                                                                                                                   |
|                                                                                                                                        |   $completion ➜ <cont> at SingleSuspensionPointTraceRepresentationTest.operation(MultipleSuspensionsTests.kt:48)                                                                                                 |
|                                                                                                                                        |   suspendAndCauseFailure(): 0 at SingleSuspensionPointTraceRepresentationTest.operation(MultipleSuspensionsTests.kt:48)                                                                                          |
|                                                                                                                                        |     it = COROUTINE_SUSPENDED at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:52)                                                                              |
|                                                                                                                                        |     counter ➜ AtomicInteger#1 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:53)                                                                             |
|                                                                                                                                        |     AtomicInteger#1.get(): 1 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:53)                                                                              |
|                                                                                                                                        |     $i$a$-suspendCoroutine-SingleSuspensionPointTraceRepresentationTest$suspendAndCauseFailure$2 = <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56) |
|                                                                                                                                        |     $i$a$-suspendCoroutine-SingleSuspensionPointTraceRepresentationTest$suspendAndCauseFailure$2 ➜ <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56) |
|                                                                                                                                        |     $result = <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                                                      |
|                                                                                                                                        |     $result ➜ <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                                                      |
|                                                                                                                                        |     $continuation = <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                                                |
|                                                                                                                                        |     $continuation ➜ <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                                                |
|                                                                                                                                        |     continuation1 = <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                                                |
|                                                                                                                                        |     $result ➜ <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                                                      |
|                                                                                                                                        |     <cont>.getOrThrow(): COROUTINE_SUSPENDED at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                              |
|                                                                                                                                        |       result ➜ UNDECIDED at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:51)                                                                                                                               |
|                                                                                                                                        |       result = UNDECIDED at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:51)                                                                                                                               |
|                                                                                                                                        |       result ➜ UNDECIDED at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:52)                                                                                                                               |
|                                                                                                                                        |       result.compareAndSet(UNDECIDED, COROUTINE_SUSPENDED): true at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:53)                                                                                       |
|                                                                                                                                        |     it ➜ COROUTINE_SUSPENDED at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                                              |
|                                                                                                                                        |     it ➜ COROUTINE_SUSPENDED at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:52)                                                                              |
|                                                                                                                                        |       switch (reason: coroutine is suspended)                                                                                                                                                                    |
|     continuation1 ➜ <cont> at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:41)    |                                                                                                                                                                                                                  |
|     <cont>.resumeWith(Unit) at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:41)   |                                                                                                                                                                                                                  |
|     switch                                                                                                                             |                                                                                                                                                                                                                  |
|                                                                                                                                        |   $result ➜ Unit at SingleSuspensionPointTraceRepresentationTest$suspendAndCauseFailure$1.invokeSuspend(MultipleSuspensionsTests.kt:0)                                                                           |
|                                                                                                                                        |   $this ➜ SingleSuspensionPointTraceRepresentationTest#1 at SingleSuspensionPointTraceRepresentationTest.access$suspendAndCauseFailure(MultipleSuspensionsTests.kt:0)                                            |
|                                                                                                                                        |   $completion ➜ <cont> at SingleSuspensionPointTraceRepresentationTest.access$suspendAndCauseFailure(MultipleSuspensionsTests.kt:0)                                                                              |
|                                                                                                                                        |   result: 0                                                                                                                                                                                                      |
|                                                                                                                                        |     it = COROUTINE_SUSPENDED at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:52)                                                                              |
|                                                                                                                                        |     fail = true at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:58)                                                                                           |
|     fail ➜ true at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:42)               |                                                                                                                                                                                                                  |
|   result: true                                                                                                                         |                                                                                                                                                                                                                  |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                Thread 1                                                                |                                                                                                     Thread 2                                                                                                     |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| triggerAndCheck(): true                                                                                                                |                                                                                                                                                                                                                  |
|   continueAndCheckIfFailed(): true at SingleSuspensionPointTraceRepresentationTest.triggerAndCheck(MultipleSuspensionsTests.kt:36)     |                                                                                                                                                                                                                  |
|     counter ➜ AtomicInteger#1 at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:40) |                                                                                                                                                                                                                  |
|     AtomicInteger#1.set(1) at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:40)    |                                                                                                                                                                                                                  |
|     switch                                                                                                                             |                                                                                                                                                                                                                  |
|                                                                                                                                        | operation(): 0                                                                                                                                                                                                   |
|                                                                                                                                        |   $completion ➜ <cont> at SingleSuspensionPointTraceRepresentationTest.operation(MultipleSuspensionsTests.kt:48)                                                                                                 |
|                                                                                                                                        |   suspendAndCauseFailure(): 0 at SingleSuspensionPointTraceRepresentationTest.operation(MultipleSuspensionsTests.kt:48)                                                                                          |
|                                                                                                                                        |     it = COROUTINE_SUSPENDED at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:52)                                                                              |
|                                                                                                                                        |     counter ➜ AtomicInteger#1 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:53)                                                                             |
|                                                                                                                                        |     AtomicInteger#1.get(): 1 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:53)                                                                              |
|                                                                                                                                        |     $i$a$-suspendCoroutine-SingleSuspensionPointTraceRepresentationTest$suspendAndCauseFailure$2 = <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56) |
|                                                                                                                                        |     $i$a$-suspendCoroutine-SingleSuspensionPointTraceRepresentationTest$suspendAndCauseFailure$2 ➜ <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56) |
|                                                                                                                                        |     $result = <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                                                      |
|                                                                                                                                        |     $result ➜ <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                                                      |
|                                                                                                                                        |     $continuation = <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                                                |
|                                                                                                                                        |     $continuation ➜ <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                                                |
|                                                                                                                                        |     continuation1 = <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                                                |
|                                                                                                                                        |     $result ➜ <cont> at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                                                      |
|                                                                                                                                        |     <cont>.getOrThrow(): COROUTINE_SUSPENDED at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                              |
|                                                                                                                                        |       result ➜ UNDECIDED at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:51)                                                                                                                               |
|                                                                                                                                        |       result = UNDECIDED at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:51)                                                                                                                               |
|                                                                                                                                        |       result ➜ UNDECIDED at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:52)                                                                                                                               |
|                                                                                                                                        |       result.compareAndSet(UNDECIDED, COROUTINE_SUSPENDED): true at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:53)                                                                                       |
|                                                                                                                                        |     it ➜ COROUTINE_SUSPENDED at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:56)                                                                              |
|                                                                                                                                        |     it ➜ COROUTINE_SUSPENDED at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:52)                                                                              |
|                                                                                                                                        |       switch (reason: coroutine is suspended)                                                                                                                                                                    |
|     continuation1 ➜ <cont> at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:41)    |                                                                                                                                                                                                                  |
|     <cont>.resumeWith(Unit) at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:41)   |                                                                                                                                                                                                                  |
|       result ➜ COROUTINE_SUSPENDED at SafeContinuation.resumeWith(SafeContinuationJvm.kt:37)                                           |                                                                                                                                                                                                                  |
|       cur = COROUTINE_SUSPENDED at SafeContinuation.resumeWith(SafeContinuationJvm.kt:37)                                              |                                                                                                                                                                                                                  |
|       cur ➜ COROUTINE_SUSPENDED at SafeContinuation.resumeWith(SafeContinuationJvm.kt:39)                                              |                                                                                                                                                                                                                  |
|       cur ➜ COROUTINE_SUSPENDED at SafeContinuation.resumeWith(SafeContinuationJvm.kt:40)                                              |                                                                                                                                                                                                                  |
|       result.compareAndSet(COROUTINE_SUSPENDED, RESUMED): true at SafeContinuation.resumeWith(SafeContinuationJvm.kt:40)               |                                                                                                                                                                                                                  |
|       result ➜ Unit at SafeContinuation.resumeWith(SafeContinuationJvm.kt:41)                                                          |                                                                                                                                                                                                                  |
|     switch                                                                                                                             |                                                                                                                                                                                                                  |
|                                                                                                                                        |   $result ➜ Unit at SingleSuspensionPointTraceRepresentationTest$suspendAndCauseFailure$1.invokeSuspend(MultipleSuspensionsTests.kt:0)                                                                           |
|                                                                                                                                        |   $this ➜ SingleSuspensionPointTraceRepresentationTest#1 at SingleSuspensionPointTraceRepresentationTest.access$suspendAndCauseFailure(MultipleSuspensionsTests.kt:0)                                            |
|                                                                                                                                        |   $completion ➜ <cont> at SingleSuspensionPointTraceRepresentationTest.access$suspendAndCauseFailure(MultipleSuspensionsTests.kt:0)                                                                              |
|                                                                                                                                        |   result: 0                                                                                                                                                                                                      |
|                                                                                                                                        |     it = COROUTINE_SUSPENDED at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:52)                                                                              |
|                                                                                                                                        |     fail = true at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:58)                                                                                           |
|     fail ➜ true at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:42)               |                                                                                                                                                                                                                  |
|   result: true                                                                                                                         |                                                                                                                                                                                                                  |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
