= Invalid execution results =
| ---------------------------------------- |
|        Thread 1         |    Thread 2    |
| ---------------------------------------- |
| triggerAndCheck(): true | operation(): 0 |
| ---------------------------------------- |

The following interleaving leads to the error:
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                  Thread 1                                                                   |                                                                              Thread 2                                                                              |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| triggerAndCheck(): true                                                                                                                     |                                                                                                                                                                    |
|   continueAndCheckIfFailed(): true at SingleSuspensionPointTraceRepresentationTest.triggerAndCheck(MultipleSuspensionsTests.kt:37)          |                                                                                                                                                                    |
|     counter ➜ AtomicInteger#1 at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:41)      |                                                                                                                                                                    |
|     counter.set(1) at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:41)                 |                                                                                                                                                                    |
|     switch                                                                                                                                  |                                                                                                                                                                    |
|                                                                                                                                             | operation(): 0                                                                                                                                                     |
|                                                                                                                                             |   suspendAndCauseFailure() [suspendable: Continuation#1]: 0 at SingleSuspensionPointTraceRepresentationTest.operation(MultipleSuspensionsTests.kt:49)              |
|                                                                                                                                             |     ResultKt.throwOnFailure(null) at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:52)                           |
|                                                                                                                                             |     counter ➜ AtomicInteger#1 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:54)                               |
|                                                                                                                                             |     counter.get(): 1 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:54)                                        |
|                                                                                                                                             |     continuation1 = Continuation#2 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:57)                          |
|                                                                                                                                             |     it.getOrThrow(): COROUTINE_SUSPENDED at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:57)                    |
|                                                                                                                                             |       result ➜ UNDECIDED at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:51)                                                                                 |
|                                                                                                                                             |       result.compareAndSet(UNDECIDED, COROUTINE_SUSPENDED): true at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:53)                                         |
|                                                                                                                                             |       DebugProbesKt.probeCoroutineSuspended(Continuation#3) at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:57) |
|                                                                                                                                             |       switch (reason: coroutine is suspended)                                                                                                                      |
|     continuation1 ➜ Continuation#2 at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:42) |                                                                                                                                                                    |
|     Result.constructor-impl(Unit) at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:42)  |                                                                                                                                                                    |
|     continuation1.resumeWith(Unit) at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:42) |                                                                                                                                                                    |
|     switch                                                                                                                                  |                                                                                                                                                                    |
|                                                                                                                                             |       ResultKt.throwOnFailure(Unit) at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:52)                         |
|                                                                                                                                             |       fail = true at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:59)                                           |
|                                                                                                                                             |       Boxing.boxInt(0): 0 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:60)                                   |
|                                                                                                                                             |   result: 0                                                                                                                                                        |
|     fail ➜ true at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:43)                    |                                                                                                                                                                    |
|   result: true                                                                                                                              |                                                                                                                                                                    |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                  Thread 1                                                                   |                                                                              Thread 2                                                                              |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| triggerAndCheck(): true                                                                                                                     |                                                                                                                                                                    |
|   continueAndCheckIfFailed(): true at SingleSuspensionPointTraceRepresentationTest.triggerAndCheck(MultipleSuspensionsTests.kt:37)          |                                                                                                                                                                    |
|     counter ➜ AtomicInteger#1 at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:41)      |                                                                                                                                                                    |
|     counter.set(1) at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:41)                 |                                                                                                                                                                    |
|     switch                                                                                                                                  |                                                                                                                                                                    |
|                                                                                                                                             | operation(): 0                                                                                                                                                     |
|                                                                                                                                             |   suspendAndCauseFailure() [suspendable: Continuation#1]: 0 at SingleSuspensionPointTraceRepresentationTest.operation(MultipleSuspensionsTests.kt:49)              |
|                                                                                                                                             |     ResultKt.throwOnFailure(null) at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:52)                           |
|                                                                                                                                             |     counter ➜ AtomicInteger#1 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:54)                               |
|                                                                                                                                             |     counter.get(): 1 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:54)                                        |
|                                                                                                                                             |     continuation1 = Continuation#2 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:57)                          |
|                                                                                                                                             |     it.getOrThrow(): COROUTINE_SUSPENDED at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:57)                    |
|                                                                                                                                             |       result ➜ UNDECIDED at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:51)                                                                                 |
|                                                                                                                                             |       result.compareAndSet(UNDECIDED, COROUTINE_SUSPENDED): true at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:53)                                         |
|                                                                                                                                             |       DebugProbesKt.probeCoroutineSuspended(Continuation#3) at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:57) |
|                                                                                                                                             |       switch (reason: coroutine is suspended)                                                                                                                      |
|     continuation1 ➜ Continuation#2 at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:42) |                                                                                                                                                                    |
|     Result.constructor-impl(Unit) at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:42)  |                                                                                                                                                                    |
|     continuation1.resumeWith(Unit) at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:42) |                                                                                                                                                                    |
|       result ➜ COROUTINE_SUSPENDED at SafeContinuation.resumeWith(SafeContinuationJvm.kt:37)                                                |                                                                                                                                                                    |
|       result.compareAndSet(COROUTINE_SUSPENDED, RESUMED): true at SafeContinuation.resumeWith(SafeContinuationJvm.kt:40)                    |                                                                                                                                                                    |
|       delegate.resumeWith(Unit) at SafeContinuation.resumeWith(SafeContinuationJvm.kt:41)                                                   |                                                                                                                                                                    |
|     switch                                                                                                                                  |                                                                                                                                                                    |
|                                                                                                                                             |       ResultKt.throwOnFailure(Unit) at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:52)                         |
|                                                                                                                                             |       fail = true at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:59)                                           |
|                                                                                                                                             |       Boxing.boxInt(0): 0 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:60)                                   |
|                                                                                                                                             |   result: 0                                                                                                                                                        |
|     fail ➜ true at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:43)                    |                                                                                                                                                                    |
|   result: true                                                                                                                              |                                                                                                                                                                    |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
