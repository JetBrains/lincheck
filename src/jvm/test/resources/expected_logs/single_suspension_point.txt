= Invalid execution results =
| ---------------------------------------- |
|        Thread 1         |    Thread 2    |
| ---------------------------------------- |
| triggerAndCheck(): true | operation(): 0 |
| ---------------------------------------- |

The following interleaving leads to the error:
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                   Thread 1                                                                   |                                                                       Thread 2                                                                        |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| triggerAndCheck(): true                                                                                                                      |                                                                                                                                                       |
|   continueAndCheckIfFailed(): true at SingleSuspensionPointTraceRepresentationTest.triggerAndCheck(MultipleSuspensionsTests.kt:37)           |                                                                                                                                                       |
|     counter ➜ AtomicInteger#1 at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:41)       |                                                                                                                                                       |
|     AtomicInteger#1.set(1) at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:41)          |                                                                                                                                                       |
|     switch                                                                                                                                   |                                                                                                                                                       |
|                                                                                                                                              | operation(): 0                                                                                                                                        |
|                                                                                                                                              |   suspendAndCauseFailure() [suspendable: Continuation#1]: 0 at SingleSuspensionPointTraceRepresentationTest.operation(MultipleSuspensionsTests.kt:49) |
|                                                                                                                                              |     counter ➜ AtomicInteger#1 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:54)                  |
|                                                                                                                                              |     AtomicInteger#1.get(): 1 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:54)                   |
|                                                                                                                                              |     continuation1 = Continuation#2 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:57)             |
|                                                                                                                                              |     $result.getOrThrow() at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:57)                       |
|                                                                                                                                              |       result ➜ UNDECIDED at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:51)                                                                    |
|                                                                                                                                              |       switch                                                                                                                                          |
|     continuation1 ➜ Continuation#2 at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:42)  |                                                                                                                                                       |
|     Continuation#2.resumeWith(Unit) at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:42) |                                                                                                                                                       |
|     switch                                                                                                                                   |                                                                                                                                                       |
|                                                                                                                                              |       result.compareAndSet(UNDECIDED, COROUTINE_SUSPENDED): false at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:53)                           |
|                                                                                                                                              |       result ➜ Unit at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:54)                                                                         |
|                                                                                                                                              |     fail = true at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:59)                                |
|                                                                                                                                              |   result: 0                                                                                                                                           |
|     fail ➜ true at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:43)                     |                                                                                                                                                       |
|   result: true                                                                                                                               |                                                                                                                                                       |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                   Thread 1                                                                   |                                                                       Thread 2                                                                        |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| triggerAndCheck(): true                                                                                                                      |                                                                                                                                                       |
|   continueAndCheckIfFailed(): true at SingleSuspensionPointTraceRepresentationTest.triggerAndCheck(MultipleSuspensionsTests.kt:37)           |                                                                                                                                                       |
|     counter ➜ AtomicInteger#1 at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:41)       |                                                                                                                                                       |
|     AtomicInteger#1.set(1) at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:41)          |                                                                                                                                                       |
|     switch                                                                                                                                   |                                                                                                                                                       |
|                                                                                                                                              | operation(): 0                                                                                                                                        |
|                                                                                                                                              |   suspendAndCauseFailure() [suspendable: Continuation#1]: 0 at SingleSuspensionPointTraceRepresentationTest.operation(MultipleSuspensionsTests.kt:49) |
|                                                                                                                                              |     counter ➜ AtomicInteger#1 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:54)                  |
|                                                                                                                                              |     AtomicInteger#1.get(): 1 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:54)                   |
|                                                                                                                                              |     continuation1 = Continuation#2 at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:57)             |
|                                                                                                                                              |     $result.getOrThrow() at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:57)                       |
|                                                                                                                                              |       result ➜ UNDECIDED at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:51)                                                                    |
|                                                                                                                                              |       switch                                                                                                                                          |
|     continuation1 ➜ Continuation#2 at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:42)  |                                                                                                                                                       |
|     Continuation#2.resumeWith(Unit) at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:42) |                                                                                                                                                       |
|       result ➜ UNDECIDED at SafeContinuation.resumeWith(SafeContinuationJvm.kt:37)                                                           |                                                                                                                                                       |
|       result.compareAndSet(UNDECIDED, Unit): true at SafeContinuation.resumeWith(SafeContinuationJvm.kt:39)                                  |                                                                                                                                                       |
|     switch                                                                                                                                   |                                                                                                                                                       |
|                                                                                                                                              |       result.compareAndSet(UNDECIDED, COROUTINE_SUSPENDED): false at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:53)                           |
|                                                                                                                                              |       result ➜ Unit at SafeContinuation.getOrThrow(SafeContinuationJvm.kt:54)                                                                         |
|                                                                                                                                              |     fail = true at SingleSuspensionPointTraceRepresentationTest.suspendAndCauseFailure(MultipleSuspensionsTests.kt:59)                                |
|                                                                                                                                              |   result: 0                                                                                                                                           |
|     fail ➜ true at SingleSuspensionPointTraceRepresentationTest.continueAndCheckIfFailed(MultipleSuspensionsTests.kt:43)                     |                                                                                                                                                       |
|   result: true                                                                                                                               |                                                                                                                                                       |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
