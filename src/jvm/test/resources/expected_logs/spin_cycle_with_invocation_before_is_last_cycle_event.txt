= The execution has hung, see the thread dump =
| ---------------------------- |
| Thread 1  |     Thread 2     |
| ---------------------------- |
| trigger() | causesSpinLock() |
| ---------------------------- |


The following interleaving leads to the error:
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                        Thread 1                                                         |                                                                  Thread 2                                                                  |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| trigger()                                                                                                               |                                                                                                                                            |
|   incrementAndGet(): 1 at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.trigger(FaaQueueSpinLockTest.kt:183) |                                                                                                                                            |
|   switch                                                                                                                |                                                                                                                                            |
|                                                                                                                         | causesSpinLock()                                                                                                                           |
|                                                                                                                         |   get(): 1 at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.causesSpinLock(FaaQueueSpinLockTest.kt:189)                         |
|                                                                                                                         |   deadSpinCycle() at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.causesSpinLock(FaaQueueSpinLockTest.kt:190)                  |
|                                                                                                                         |     getSharedVariable(): false at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.deadSpinCycle(FaaQueueSpinLockTest.kt:195)      |
|                                                                                                                         |     /* The following events repeat infinitely: */                                                                                          |
|                                                                                                                         |     compareAndSet(false,true): true at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.deadSpinCycle(FaaQueueSpinLockTest.kt:197) |
|                                                                                                                         |     getSharedVariable(): true at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.deadSpinCycle(FaaQueueSpinLockTest.kt:198)       |
|                                                                                                                         |     switch (reason: active lock detected)                                                                                                  |
|   decrementAndGet(): 0 at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.trigger(FaaQueueSpinLockTest.kt:184) |                                                                                                                                            |
|                                                                                                                         |     /* The following events repeat infinitely: */                                                                                          |
|                                                                                                                         |     compareAndSet(true,false): true at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.deadSpinCycle(FaaQueueSpinLockTest.kt:197) |
|                                                                                                                         |     getSharedVariable(): false at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.deadSpinCycle(FaaQueueSpinLockTest.kt:198)      |
|                                                                                                                         |     switch (reason: active lock detected)                                                                                                  |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock

Detailed trace:
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                        Thread 1                                                         |                                                                  Thread 2                                                                  |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| trigger()                                                                                                               |                                                                                                                                            |
|   incrementAndGet(): 1 at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.trigger(FaaQueueSpinLockTest.kt:183) |                                                                                                                                            |
|   switch                                                                                                                |                                                                                                                                            |
|                                                                                                                         | causesSpinLock()                                                                                                                           |
|                                                                                                                         |   get(): 1 at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.causesSpinLock(FaaQueueSpinLockTest.kt:189)                         |
|                                                                                                                         |   deadSpinCycle() at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.causesSpinLock(FaaQueueSpinLockTest.kt:190)                  |
|                                                                                                                         |     getSharedVariable(): false at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.deadSpinCycle(FaaQueueSpinLockTest.kt:195)      |
|                                                                                                                         |       get(): false at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.getSharedVariable(FaaQueueSpinLockTest.kt:202)              |
|                                                                                                                         |     /* The following events repeat infinitely: */                                                                                          |
|                                                                                                                         |     compareAndSet(false,true): true at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.deadSpinCycle(FaaQueueSpinLockTest.kt:197) |
|                                                                                                                         |     getSharedVariable(): true at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.deadSpinCycle(FaaQueueSpinLockTest.kt:198)       |
|                                                                                                                         |       get(): true at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.getSharedVariable(FaaQueueSpinLockTest.kt:202)               |
|                                                                                                                         |     switch (reason: active lock detected)                                                                                                  |
|   decrementAndGet(): 0 at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.trigger(FaaQueueSpinLockTest.kt:184) |                                                                                                                                            |
|                                                                                                                         |     /* The following events repeat infinitely: */                                                                                          |
|                                                                                                                         |     compareAndSet(true,false): true at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.deadSpinCycle(FaaQueueSpinLockTest.kt:197) |
|                                                                                                                         |     getSharedVariable(): false at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.deadSpinCycle(FaaQueueSpinLockTest.kt:198)      |
|                                                                                                                         |       get(): false at SpinCycleLastExecutionIsFirstInMethodCallBeforeCycleTest.getSharedVariable(FaaQueueSpinLockTest.kt:202)              |
|                                                                                                                         |     switch (reason: active lock detected)                                                                                                  |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock
