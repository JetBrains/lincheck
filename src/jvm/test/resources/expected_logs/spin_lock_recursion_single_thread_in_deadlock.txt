= The execution has hung, see the thread dump =
| ---------------------------- |
| Thread 1  |     Thread 2     |
| ---------------------------- |
| trigger() | causesSpinLock() |
| ---------------------------- |


The following interleaving leads to the error:
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                         Thread 1                                         |                                                        Thread 2                                                        |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|   trigger()                                                                              |                                                                                                                        |
|     incrementAndGet(): 1 at RecursiveSpinLockTest.trigger(RecursiveSpinLocksTests.kt:82) |                                                                                                                        |
|     switch                                                                               |                                                                                                                        |
|                                                                                          |   causesSpinLock()                                                                                                     |
|                                                                                          |     get(): 1 at RecursiveSpinLockTest.causesSpinLock(RecursiveSpinLocksTests.kt:88)                                    |
|                                                                                          |     /* The following events recursively repeat infinitely: */                                                          |
|                                                                                          | ┌╶> deadSpinCycleRecursive() at RecursiveSpinLockTest.causesSpinLock(RecursiveSpinLocksTests.kt:89)                    |
|                                                                                          | |     getSharedVariable(): false at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)        |
|                                                                                          | |     compareAndSet(false,true): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96)   |
|                                                                                          | |     getSharedVariable(): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)         |
|                                                                                          | |     compareAndSet(true,false): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96)   |
|                                                                                          | |     getSharedVariable(): false at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)        |
|                                                                                          | |     compareAndSet(false,true): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96)   |
|                                                                                          | |     getSharedVariable(): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)         |
|                                                                                          | |     compareAndSet(true,false): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96)   |
|                                                                                          | └╶╶╶╶╶/* The next call would cause infinite recursion spin-lock, switch to avoid it */                                 |
|                                                                                          |       switch (reason: active recursive lock detected)                                                                  |
|     decrementAndGet(): 0 at RecursiveSpinLockTest.trigger(RecursiveSpinLocksTests.kt:83) |                                                                                                                        |
|                                                                                          |       /* The following events recursively repeat infinitely: */                                                        |
|                                                                                          |   ┌╶> deadSpinCycleRecursive() at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:98)          |
|                                                                                          |   |     getSharedVariable(): false at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)      |
|                                                                                          |   |     compareAndSet(false,true): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96) |
|                                                                                          |   |     getSharedVariable(): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)       |
|                                                                                          |   |     compareAndSet(true,false): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96) |
|                                                                                          |   |     getSharedVariable(): false at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)      |
|                                                                                          |   |     compareAndSet(false,true): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96) |
|                                                                                          |   |     getSharedVariable(): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)       |
|                                                                                          |   |     compareAndSet(true,false): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96) |
|                                                                                          |   └╶╶╶╶╶/* The next call would cause infinite recursion spin-lock, switch to avoid it */                               |
|                                                                                          |         switch (reason: active recursive lock detected)                                                                |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock

Detailed trace:
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                         Thread 1                                         |                                                        Thread 2                                                        |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|   trigger()                                                                              |                                                                                                                        |
|     incrementAndGet(): 1 at RecursiveSpinLockTest.trigger(RecursiveSpinLocksTests.kt:82) |                                                                                                                        |
|     switch                                                                               |                                                                                                                        |
|                                                                                          |   causesSpinLock()                                                                                                     |
|                                                                                          |     get(): 1 at RecursiveSpinLockTest.causesSpinLock(RecursiveSpinLocksTests.kt:88)                                    |
|                                                                                          |     /* The following events recursively repeat infinitely: */                                                          |
|                                                                                          | ┌╶> deadSpinCycleRecursive() at RecursiveSpinLockTest.causesSpinLock(RecursiveSpinLocksTests.kt:89)                    |
|                                                                                          | |     getSharedVariable(): false at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)        |
|                                                                                          | |       get(): false at RecursiveSpinLockTest.getSharedVariable(RecursiveSpinLocksTests.kt:101)                        |
|                                                                                          | |     compareAndSet(false,true): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96)   |
|                                                                                          | |     getSharedVariable(): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)         |
|                                                                                          | |       get(): true at RecursiveSpinLockTest.getSharedVariable(RecursiveSpinLocksTests.kt:101)                         |
|                                                                                          | |     compareAndSet(true,false): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96)   |
|                                                                                          | |     getSharedVariable(): false at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)        |
|                                                                                          | |       get(): false at RecursiveSpinLockTest.getSharedVariable(RecursiveSpinLocksTests.kt:101)                        |
|                                                                                          | |     compareAndSet(false,true): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96)   |
|                                                                                          | |     getSharedVariable(): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)         |
|                                                                                          | |       get(): true at RecursiveSpinLockTest.getSharedVariable(RecursiveSpinLocksTests.kt:101)                         |
|                                                                                          | |     compareAndSet(true,false): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96)   |
|                                                                                          | └╶╶╶╶╶/* The next call would cause infinite recursion spin-lock, switch to avoid it */                                 |
|                                                                                          |       switch (reason: active recursive lock detected)                                                                  |
|     decrementAndGet(): 0 at RecursiveSpinLockTest.trigger(RecursiveSpinLocksTests.kt:83) |                                                                                                                        |
|                                                                                          |       /* The following events recursively repeat infinitely: */                                                        |
|                                                                                          |   ┌╶> deadSpinCycleRecursive() at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:98)          |
|                                                                                          |   |     getSharedVariable(): false at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)      |
|                                                                                          |   |       get(): false at RecursiveSpinLockTest.getSharedVariable(RecursiveSpinLocksTests.kt:101)                      |
|                                                                                          |   |     compareAndSet(false,true): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96) |
|                                                                                          |   |     getSharedVariable(): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)       |
|                                                                                          |   |       get(): true at RecursiveSpinLockTest.getSharedVariable(RecursiveSpinLocksTests.kt:101)                       |
|                                                                                          |   |     compareAndSet(true,false): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96) |
|                                                                                          |   |     getSharedVariable(): false at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)      |
|                                                                                          |   |       get(): false at RecursiveSpinLockTest.getSharedVariable(RecursiveSpinLocksTests.kt:101)                      |
|                                                                                          |   |     compareAndSet(false,true): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96) |
|                                                                                          |   |     getSharedVariable(): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:95)       |
|                                                                                          |   |       get(): true at RecursiveSpinLockTest.getSharedVariable(RecursiveSpinLocksTests.kt:101)                       |
|                                                                                          |   |     compareAndSet(true,false): true at RecursiveSpinLockTest.deadSpinCycleRecursive(RecursiveSpinLocksTests.kt:96) |
|                                                                                          |   └╶╶╶╶╶/* The next call would cause infinite recursion spin-lock, switch to avoid it */                               |
|                                                                                          |         switch (reason: active recursive lock detected)                                                                |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock
