Wow! You've caught a bug in Lincheck.
We kindly ask to provide an issue here: https://github.com/JetBrains/lincheck/issues,
attaching a stack trace printed below and the code that causes the error.

Exception stacktrace:
java.lang.NullPointerException
	at kotlin.Result.isSuccess-impl(Result.kt:32)
	at org.jetbrains.kotlinx.lincheck.strategy.managed.SnapshotTracker.trackArrayCell(SnapshotTracker.kt:87)
	at org.jetbrains.kotlinx.lincheck.strategy.managed.ManagedStrategy.updateSnapshotOnArrayElementAccess(ManagedStrategy.kt:1510)
	at org.jetbrains.kotlinx.lincheck.strategy.managed.ManagedStrategy.beforeWriteArrayElement(ManagedStrategy.kt:1344)
	at sun.nio.ch.lincheck.Injections.beforeWriteArray(Injections.java:380)
	at java.base/java.util.ArrayList.add(ArrayList.java:487)
	at java.base/java.util.ArrayList.add(ArrayList.java:499)
	at org.jetbrains.kotlinx.lincheck_test.representation.UnsafeCollectionSwitchPointTest.add2(StdLibRepresentationTests.kt:70)
	at org.jetbrains.kotlinx.lincheck.runner.TestThreadExecution9.run(Unknown Source)
	at org.jetbrains.kotlinx.lincheck.runner.FixedActiveThreadsExecutor.testThreadRunnable$lambda$10(FixedActiveThreadsExecutor.kt:171)
	at java.base/java.lang.Thread.run(Thread.java:829)
