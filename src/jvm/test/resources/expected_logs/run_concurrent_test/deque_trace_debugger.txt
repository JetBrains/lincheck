= Concurrent test failed =

java.lang.IllegalStateException: Check failed.
	at org.jetbrains.kotlinx.lincheck_test.representation.IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:377)
	at org.jetbrains.kotlinx.lincheck_test.representation.IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:361)
	at org.jetbrains.kotlinx.lincheck_test.representation.BaseRunConcurrentRepresentationTest.testRunWithModelChecker$lambda$1$lambda$0(RunConcurrentRepresentationTests.kt:51)
	at java.base/java.lang.Thread.run(Unknown Source)

The following interleaving leads to the error:
| ------------------------------------------------------------------------------------------------------------------------- |
|                      Main Thread                       |                Thread 1                 |        Thread 2        |
| ------------------------------------------------------------------------------------------------------------------------- |
| $this_runCatching.block(): threw IllegalStateException |                                         |                        |
|   block(): threw IllegalStateException                 |                                         |                        |
|     r1.element = -1                                    |                                         |                        |
|     r2.element = -1                                    |                                         |                        |
|     deque.addLast(1)                                   |                                         |                        |
|     Array<Thread>#1[0] = Thread#1                      |                                         |                        |
|     Array<Thread>#1[1] = Thread#2                      |                                         |                        |
|     CollectionsKt.listOf(Array<Thread>#1): ArrayList#1 |                                         |                        |
|     ArrayList#1.forEach()                              |                                         |                        |
|       iterator(): ArrayItr#1                           |                                         |                        |
|       ArrayItr#1.hasNext(): true                       |                                         |                        |
|       ArrayItr#1.next(): Thread#1                      |                                         |                        |
|       forEach$Lambda()                                 |                                         |                        |
|       ArrayItr#1.hasNext(): true                       |                                         |                        |
|       switch                                           |                                         |                        |
|                                                        | run()                                   |                        |
|                                                        |   $deque.pollFirst(): 1                 |                        |
|                                                        |     first(): Node#1                     |                        |
|                                                        |     p.item ➜ null                       |                        |
|                                                        |     p.next ➜ Node#2                     |                        |
|                                                        |     p.item ➜ 1                          |                        |
|                                                        |     first.prev ➜ null                   |                        |
|                                                        |     switch                              |                        |
|       ArrayItr#1.next(): Thread#2                      |                                         |                        |
|       forEach$Lambda()                                 |                                         |                        |
|       ArrayItr#1.hasNext(): false                      |                                         |                        |
|     ArrayList#1.forEach()                              |                                         |                        |
|       iterator(): ArrayItr#2                           |                                         |                        |
|       ArrayItr#2.hasNext(): true                       |                                         |                        |
|       ArrayItr#2.next(): Thread#1                      |                                         |                        |
|       switch (reason: waiting for Thread 1 to finish)  |                                         |                        |
|                                                        |                                         | run()                  |
|                                                        |                                         |   $deque.addFirst(0)   |
|                                                        |                                         |   $deque.peekLast(): 1 |
|                                                        |                                         |   r2 = 1               |
|                                                        |     p.item.compareAndSet(1, null): true |                        |
|                                                        |     unlink(Node#2)                      |                        |
|                                                        |   r1 = 1                                |                        |
|       forEach$Lambda()                                 |                                         |                        |
|       ArrayItr#2.hasNext(): true                       |                                         |                        |
|       ArrayItr#2.next(): Thread#2                      |                                         |                        |
|       forEach$Lambda()                                 |                                         |                        |
|       ArrayItr#2.hasNext(): false                      |                                         |                        |
|     r1.element ➜ 1                                     |                                         |                        |
|     r2.element ➜ 1                                     |                                         |                        |
|   result: IllegalStateException #1                     |                                         |                        |
| ------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|                                                                                    Main Thread                                                                                    |                                                                      Thread 1                                                                      |                                                                     Thread 2                                                                      |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| $this_runCatching.block(): threw IllegalStateException at BaseRunConcurrentRepresentationTest.testRunWithModelChecker$lambda$1$lambda$0(RunConcurrentRepresentationTests.kt:51)   |                                                                                                                                                    |                                                                                                                                                   |
|   block(): threw IllegalStateException at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:361)                 |                                                                                                                                                    |                                                                                                                                                   |
|     r1.element = -1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:364)                                    |                                                                                                                                                    |                                                                                                                                                   |
|     r2.element = -1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:365)                                    |                                                                                                                                                    |                                                                                                                                                   |
|     deque.addLast(1) at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:366)                                   |                                                                                                                                                    |                                                                                                                                                   |
|       linkLast(1) at ConcurrentLinkedDeque.addLast(ConcurrentLinkedDeque.java:840)                                                                                                |                                                                                                                                                    |                                                                                                                                                   |
|         newNode(1): Node#2 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:347)                                                                                      |                                                                                                                                                    |                                                                                                                                                   |
|           node.item.set(1) at ConcurrentLinkedDeque.newNode(ConcurrentLinkedDeque.java:307)                                                                                       |                                                                                                                                                    |                                                                                                                                                   |
|         tail ➜ Node#1 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:351)                                                                                           |                                                                                                                                                    |                                                                                                                                                   |
|         p.next ➜ null at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:352)                                                                                           |                                                                                                                                                    |                                                                                                                                                   |
|         p.prev ➜ null at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:357)                                                                                           |                                                                                                                                                    |                                                                                                                                                   |
|         newNode.prev.set(Node#1) at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:361)                                                                                |                                                                                                                                                    |                                                                                                                                                   |
|         p.next.compareAndSet(null, Node#2): true at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:362)                                                                |                                                                                                                                                    |                                                                                                                                                   |
|     Array<Thread>#1[0] = Thread#1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:374)                      |                                                                                                                                                    |                                                                                                                                                   |
|     Array<Thread>#1[1] = Thread#2 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:374)                      |                                                                                                                                                    |                                                                                                                                                   |
|     CollectionsKt.listOf(Array<Thread>#1): ArrayList#1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:374) |                                                                                                                                                    |                                                                                                                                                   |
|       ArraysKt.asList(Array<Thread>#1): ArrayList#1 at CollectionsKt__CollectionsKt.<unknown method>(Collections.kt:81)                                                           |                                                                                                                                                    |                                                                                                                                                   |
|         ArraysUtilJVM.asList(Array<Thread>#1): ArrayList#1 at ArraysKt___ArraysJvmKt.<unknown method>(_ArraysJvm.kt:133)                                                          |                                                                                                                                                    |                                                                                                                                                   |
|           Arrays.asList(Array<Thread>#1): ArrayList#1 at ArraysUtilJVM.asList(ArraysUtilJVM.java:13)                                                                              |                                                                                                                                                    |                                                                                                                                                   |
|     ArrayList#1.forEach() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:375)                              |                                                                                                                                                    |                                                                                                                                                   |
|       iterator(): ArrayItr#1 at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                              |                                                                                                                                                    |                                                                                                                                                   |
|       ArrayItr#1.hasNext(): true at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                          |                                                                                                                                                    |                                                                                                                                                   |
|         cursor ➜ 0 at Arrays.ArrayItr.hasNext(Arrays.java:4238)                                                                                                                   |                                                                                                                                                    |                                                                                                                                                   |
|       ArrayItr#1.next(): Thread#1 at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                         |                                                                                                                                                    |                                                                                                                                                   |
|         cursor ➜ 0 at Arrays.ArrayItr.next(Arrays.java:4243)                                                                                                                      |                                                                                                                                                    |                                                                                                                                                   |
|         cursor = 1 at Arrays.ArrayItr.next(Arrays.java:4247)                                                                                                                      |                                                                                                                                                    |                                                                                                                                                   |
|         Array<Thread>#1[0] ➜ Thread#1 at Arrays.ArrayItr.next(Arrays.java:4248)                                                                                                   |                                                                                                                                                    |                                                                                                                                                   |
|       forEach$Lambda() at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                                    |                                                                                                                                                    |                                                                                                                                                   |
|         Thread#1.start() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:375)                               |                                                                                                                                                    |                                                                                                                                                   |
|       ArrayItr#1.hasNext(): true at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                          |                                                                                                                                                    |                                                                                                                                                   |
|         cursor ➜ 1 at Arrays.ArrayItr.hasNext(Arrays.java:4238)                                                                                                                   |                                                                                                                                                    |                                                                                                                                                   |
|       switch                                                                                                                                                                      |                                                                                                                                                    |                                                                                                                                                   |
|                                                                                                                                                                                   | run()                                                                                                                                              |                                                                                                                                                   |
|                                                                                                                                                                                   |   $deque.pollFirst(): 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:368) |                                                                                                                                                   |
|                                                                                                                                                                                   |     first(): Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:915)                                                             |                                                                                                                                                   |
|                                                                                                                                                                                   |       head ➜ Node#1 at ConcurrentLinkedDeque.first(ConcurrentLinkedDeque.java:712)                                                                 |                                                                                                                                                   |
|                                                                                                                                                                                   |       p.prev ➜ null at ConcurrentLinkedDeque.first(ConcurrentLinkedDeque.java:713)                                                                 |                                                                                                                                                   |
|                                                                                                                                                                                   |     p.item ➜ null at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:917)                                                               |                                                                                                                                                   |
|                                                                                                                                                                                   |     p.next ➜ Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:925)                                                             |                                                                                                                                                   |
|                                                                                                                                                                                   |     p.item ➜ 1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:917)                                                                  |                                                                                                                                                   |
|                                                                                                                                                                                   |     first.prev ➜ null at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:919)                                                           |                                                                                                                                                   |
|                                                                                                                                                                                   |     switch                                                                                                                                         |                                                                                                                                                   |
|       ArrayItr#1.next(): Thread#2 at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                         |                                                                                                                                                    |                                                                                                                                                   |
|         cursor ➜ 1 at Arrays.ArrayItr.next(Arrays.java:4243)                                                                                                                      |                                                                                                                                                    |                                                                                                                                                   |
|         cursor = 2 at Arrays.ArrayItr.next(Arrays.java:4247)                                                                                                                      |                                                                                                                                                    |                                                                                                                                                   |
|         Array<Thread>#1[1] ➜ Thread#2 at Arrays.ArrayItr.next(Arrays.java:4248)                                                                                                   |                                                                                                                                                    |                                                                                                                                                   |
|       forEach$Lambda() at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                                    |                                                                                                                                                    |                                                                                                                                                   |
|         Thread#2.start() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:375)                               |                                                                                                                                                    |                                                                                                                                                   |
|       ArrayItr#1.hasNext(): false at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                         |                                                                                                                                                    |                                                                                                                                                   |
|         cursor ➜ 2 at Arrays.ArrayItr.hasNext(Arrays.java:4238)                                                                                                                   |                                                                                                                                                    |                                                                                                                                                   |
|     ArrayList#1.forEach() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:376)                              |                                                                                                                                                    |                                                                                                                                                   |
|       iterator(): ArrayItr#2 at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                              |                                                                                                                                                    |                                                                                                                                                   |
|       ArrayItr#2.hasNext(): true at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                          |                                                                                                                                                    |                                                                                                                                                   |
|         cursor ➜ 0 at Arrays.ArrayItr.hasNext(Arrays.java:4238)                                                                                                                   |                                                                                                                                                    |                                                                                                                                                   |
|       ArrayItr#2.next(): Thread#1 at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                         |                                                                                                                                                    |                                                                                                                                                   |
|         cursor ➜ 0 at Arrays.ArrayItr.next(Arrays.java:4243)                                                                                                                      |                                                                                                                                                    |                                                                                                                                                   |
|         cursor = 1 at Arrays.ArrayItr.next(Arrays.java:4247)                                                                                                                      |                                                                                                                                                    |                                                                                                                                                   |
|         Array<Thread>#1[0] ➜ Thread#1 at Arrays.ArrayItr.next(Arrays.java:4248)                                                                                                   |                                                                                                                                                    |                                                                                                                                                   |
|       switch (reason: waiting for Thread 1 to finish)                                                                                                                             |                                                                                                                                                    |                                                                                                                                                   |
|                                                                                                                                                                                   |                                                                                                                                                    | run()                                                                                                                                             |
|                                                                                                                                                                                   |                                                                                                                                                    |   $deque.addFirst(0) at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:371)   |
|                                                                                                                                                                                   |                                                                                                                                                    |     linkFirst(0) at ConcurrentLinkedDeque.addFirst(ConcurrentLinkedDeque.java:827)                                                                |
|                                                                                                                                                                                   |                                                                                                                                                    |       newNode(0): Node#3 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:315)                                                       |
|                                                                                                                                                                                   |                                                                                                                                                    |         node.item.set(0) at ConcurrentLinkedDeque.newNode(ConcurrentLinkedDeque.java:307)                                                         |
|                                                                                                                                                                                   |                                                                                                                                                    |       head ➜ Node#1 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:319)                                                            |
|                                                                                                                                                                                   |                                                                                                                                                    |       p.prev ➜ null at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:320)                                                            |
|                                                                                                                                                                                   |                                                                                                                                                    |       p.next ➜ Node#2 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:325)                                                          |
|                                                                                                                                                                                   |                                                                                                                                                    |       newNode.next.set(Node#1) at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:329)                                                 |
|                                                                                                                                                                                   |                                                                                                                                                    |       p.prev.compareAndSet(null, Node#3): true at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:330)                                 |
|                                                                                                                                                                                   |                                                                                                                                                    |   $deque.peekLast(): 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:372) |
|                                                                                                                                                                                   |                                                                                                                                                    |     last(): Node#2 at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:887)                                                              |
|                                                                                                                                                                                   |                                                                                                                                                    |       tail ➜ Node#1 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:737)                                                                 |
|                                                                                                                                                                                   |                                                                                                                                                    |       p.next ➜ Node#2 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:738)                                                               |
|                                                                                                                                                                                   |                                                                                                                                                    |       q.next ➜ null at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:738)                                                                 |
|                                                                                                                                                                                   |                                                                                                                                                    |       tail.compareAndSet(Node#1, Node#2): true at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:746)                                      |
|                                                                                                                                                                                   |                                                                                                                                                    |     p.item ➜ 1 at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:888)                                                                  |
|                                                                                                                                                                                   |                                                                                                                                                    |     last.next ➜ null at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:894)                                                            |
|                                                                                                                                                                                   |                                                                                                                                                    |   r2 = 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:372)               |
|                                                                                                                                                                                   |     p.item.compareAndSet(1, null): true at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:920)                                         |                                                                                                                                                   |
|                                                                                                                                                                                   |     unlink(Node#2) at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:921)                                                              |                                                                                                                                                   |
|                                                                                                                                                                                   |       x.prev ➜ Node#1 at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:386)                                                              |                                                                                                                                                   |
|                                                                                                                                                                                   |       x.next ➜ null at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:387)                                                                |                                                                                                                                                   |
|                                                                                                                                                                                   |       unlinkLast(Node#2, Node#1) at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:391)                                                   |                                                                                                                                                   |
|                                                                                                                                                                                   |         p.item ➜ null at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:531)                                                          |                                                                                                                                                   |
|                                                                                                                                                                                   |         p.prev ➜ Node#3 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:531)                                                        |                                                                                                                                                   |
|                                                                                                                                                                                   |         p.item ➜ 0 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:531)                                                             |                                                                                                                                                   |
|                                                                                                                                                                                   |         p.next ➜ Node#1 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:532)                                                        |                                                                                                                                                   |
|                                                                                                                                                                                   |         last.prev.compareAndSet(Node#1, Node#3): true at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:533)                          |                                                                                                                                                   |
|                                                                                                                                                                                   |         skipDeletedSuccessors(Node#3) at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:534)                                          |                                                                                                                                                   |
|                                                                                                                                                                                   |           x.next ➜ Node#1 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:652)                                           |                                                                                                                                                   |
|                                                                                                                                                                                   |           p.item ➜ null at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:659)                                             |                                                                                                                                                   |
|                                                                                                                                                                                   |           p.next ➜ Node#2 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:661)                                           |                                                                                                                                                   |
|                                                                                                                                                                                   |           p.item ➜ null at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:659)                                             |                                                                                                                                                   |
|                                                                                                                                                                                   |           p.next ➜ null at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:661)                                             |                                                                                                                                                   |
|                                                                                                                                                                                   |           p.prev ➜ Node#3 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:663)                                           |                                                                                                                                                   |
|                                                                                                                                                                                   |           x.next.compareAndSet(Node#1, Node#2): true at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:674)                |                                                                                                                                                   |
|                                                                                                                                                                                   |         last.next ➜ null at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:535)                                                       |                                                                                                                                                   |
|                                                                                                                                                                                   |         p.prev ➜ null at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:535)                                                          |                                                                                                                                                   |
|                                                                                                                                                                                   |         p.next ➜ Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:535)                                                        |                                                                                                                                                   |
|                                                                                                                                                                                   |         updateHead() at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:539)                                                           |                                                                                                                                                   |
|                                                                                                                                                                                   |           head ➜ Node#1 at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:569)                                                        |                                                                                                                                                   |
|                                                                                                                                                                                   |           head.item ➜ null at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:569)                                                     |                                                                                                                                                   |
|                                                                                                                                                                                   |           h.prev ➜ Node#3 at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:569)                                                      |                                                                                                                                                   |
|                                                                                                                                                                                   |           p.prev ➜ null at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:571)                                                        |                                                                                                                                                   |
|                                                                                                                                                                                   |           head.compareAndSet(Node#1, Node#3): true at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:575)                             |                                                                                                                                                   |
|                                                                                                                                                                                   |         updateTail() at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:540)                                                           |                                                                                                                                                   |
|                                                                                                                                                                                   |           tail ➜ Node#2 at ConcurrentLinkedDeque.updateTail(ConcurrentLinkedDeque.java:599)                                                        |                                                                                                                                                   |
|                                                                                                                                                                                   |           tail.item ➜ null at ConcurrentLinkedDeque.updateTail(ConcurrentLinkedDeque.java:599)                                                     |                                                                                                                                                   |
|                                                                                                                                                                                   |           t.next ➜ null at ConcurrentLinkedDeque.updateTail(ConcurrentLinkedDeque.java:599)                                                        |                                                                                                                                                   |
|                                                                                                                                                                                   |         o.prev.setRelease(Node#1) at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:543)                                              |                                                                                                                                                   |
|                                                                                                                                                                                   |         nextTerminator(): Node#4 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:544)                                               |                                                                                                                                                   |
|                                                                                                                                                                                   |         o.next.setRelease(Node#4) at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:544)                                              |                                                                                                                                                   |
|                                                                                                                                                                                   |   r1 = 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:368)                |                                                                                                                                                   |
|       forEach$Lambda() at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                                    |                                                                                                                                                    |                                                                                                                                                   |
|         Thread#1.join() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:376)                                |                                                                                                                                                    |                                                                                                                                                   |
|       ArrayItr#2.hasNext(): true at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                          |                                                                                                                                                    |                                                                                                                                                   |
|         cursor ➜ 1 at Arrays.ArrayItr.hasNext(Arrays.java:4238)                                                                                                                   |                                                                                                                                                    |                                                                                                                                                   |
|       ArrayItr#2.next(): Thread#2 at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                         |                                                                                                                                                    |                                                                                                                                                   |
|         cursor ➜ 1 at Arrays.ArrayItr.next(Arrays.java:4243)                                                                                                                      |                                                                                                                                                    |                                                                                                                                                   |
|         cursor = 2 at Arrays.ArrayItr.next(Arrays.java:4247)                                                                                                                      |                                                                                                                                                    |                                                                                                                                                   |
|         Array<Thread>#1[1] ➜ Thread#2 at Arrays.ArrayItr.next(Arrays.java:4248)                                                                                                   |                                                                                                                                                    |                                                                                                                                                   |
|       forEach$Lambda() at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                                    |                                                                                                                                                    |                                                                                                                                                   |
|         Thread#2.join() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:376)                                |                                                                                                                                                    |                                                                                                                                                   |
|       ArrayItr#2.hasNext(): false at CollectionsKt___CollectionsKt.<unknown method>(_Collections.kt:1869)                                                                         |                                                                                                                                                    |                                                                                                                                                   |
|         cursor ➜ 2 at Arrays.ArrayItr.hasNext(Arrays.java:4238)                                                                                                                   |                                                                                                                                                    |                                                                                                                                                   |
|     r1.element ➜ 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:377)                                     |                                                                                                                                                    |                                                                                                                                                   |
|     r2.element ➜ 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.<unknown method>(RunConcurrentRepresentationTests.kt:377)                                     |                                                                                                                                                    |                                                                                                                                                   |
|   result: IllegalStateException #1                                                                                                                                                |                                                                                                                                                    |                                                                                                                                                   |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
