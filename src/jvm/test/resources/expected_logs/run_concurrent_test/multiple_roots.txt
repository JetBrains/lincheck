= Concurrent test failed =

java.lang.IllegalStateException: Check failed.
	at org.jetbrains.kotlinx.lincheck_test.representation.MultipleRootsInRunConcurrent.multipleRootsTest$lambda$3$lambda$2(MultipleRootsInRunConcurrent.kt:31)
	at java.base/java.lang.Thread.run(Unknown Source)

The following interleaving leads to the error:
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                              Main Thread                                                               |                                                         Thread 1                                                         |                                                         Thread 2                                                         |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| thread(block = Lambda#2): Thread#1 at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda(MultipleRootsInRunConcurrent.kt:25) |                                                                                                                          |                                                                                                                          |
| thread(block = Lambda#3): Thread#2 at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda(MultipleRootsInRunConcurrent.kt:26) |                                                                                                                          |                                                                                                                          |
| switch (reason: waiting for Thread 1 to finish)                                                                                        |                                                                                                                          |                                                                                                                          |
|                                                                                                                                        |                                                                                                                          | run()                                                                                                                    |
|                                                                                                                                        |                                                                                                                          |   counter ➜ 0 at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda$lambda(MultipleRootsInRunConcurrent.kt:26) |
|                                                                                                                                        |                                                                                                                          |   switch                                                                                                                 |
|                                                                                                                                        | run()                                                                                                                    |                                                                                                                          |
|                                                                                                                                        |   counter ➜ 0 at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda$lambda(MultipleRootsInRunConcurrent.kt:25) |                                                                                                                          |
|                                                                                                                                        |   counter = 1 at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda$lambda(MultipleRootsInRunConcurrent.kt:25) |                                                                                                                          |
|                                                                                                                                        |                                                                                                                          |   counter = 1 at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda$lambda(MultipleRootsInRunConcurrent.kt:26) |
| Thread#1.join() at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda(MultipleRootsInRunConcurrent.kt:28)                    |                                                                                                                          |                                                                                                                          |
| Thread#2.join() at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda(MultipleRootsInRunConcurrent.kt:29)                    |                                                                                                                          |                                                                                                                          |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                              Main Thread                                                               |                                                         Thread 1                                                         |                                                         Thread 2                                                         |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| thread(block = Lambda#2): Thread#1 at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda(MultipleRootsInRunConcurrent.kt:25) |                                                                                                                          |                                                                                                                          |
| thread(block = Lambda#3): Thread#2 at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda(MultipleRootsInRunConcurrent.kt:26) |                                                                                                                          |                                                                                                                          |
| switch (reason: waiting for Thread 1 to finish)                                                                                        |                                                                                                                          |                                                                                                                          |
|                                                                                                                                        |                                                                                                                          | run()                                                                                                                    |
|                                                                                                                                        |                                                                                                                          |   counter ➜ 0 at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda$lambda(MultipleRootsInRunConcurrent.kt:26) |
|                                                                                                                                        |                                                                                                                          |   switch                                                                                                                 |
|                                                                                                                                        | run()                                                                                                                    |                                                                                                                          |
|                                                                                                                                        |   counter ➜ 0 at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda$lambda(MultipleRootsInRunConcurrent.kt:25) |                                                                                                                          |
|                                                                                                                                        |   counter = 1 at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda$lambda(MultipleRootsInRunConcurrent.kt:25) |                                                                                                                          |
|                                                                                                                                        |                                                                                                                          |   counter = 1 at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda$lambda(MultipleRootsInRunConcurrent.kt:26) |
| Thread#1.join() at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda(MultipleRootsInRunConcurrent.kt:28)                    |                                                                                                                          |                                                                                                                          |
| Thread#2.join() at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda(MultipleRootsInRunConcurrent.kt:29)                    |                                                                                                                          |                                                                                                                          |
| counter.element ➜ 1 at MultipleRootsInRunConcurrent.multipleRootsTest$lambda$lambda(MultipleRootsInRunConcurrent.kt:31)                |                                                                                                                          |                                                                                                                          |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
