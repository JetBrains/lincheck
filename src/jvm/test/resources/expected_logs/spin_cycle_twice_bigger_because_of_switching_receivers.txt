= The execution has hung, see the thread dump =
| ---------------------------- |
|    Thread 1     |  Thread 2  |
| ---------------------------- |
| spinLockCause() | spinLock() |
| ---------------------------- |


The following interleaving leads to the error:
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                           Thread 1                                                            |                                                       Thread 2                                                        |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| spinLockCause()                                                                                                               |                                                                                                                       |
|   incrementAndGet(): 1 at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockCause(SpinlockEventsCutTests.kt:395) |                                                                                                                       |
|   switch                                                                                                                      |                                                                                                                       |
|                                                                                                                               | spinLock()                                                                                                            |
|                                                                                                                               |   get(): 1 at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLock(SpinlockEventsCutTests.kt:401)          |
|                                                                                                                               |   spinLockActions() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLock(SpinlockEventsCutTests.kt:402) |
|                                                                                                                               |     /* The following events repeat infinitely: */                                                                     |
|                                                                                                                               | ┌╶> check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(SpinlockEventsCutTests.kt:411)  |
|                                                                                                                               | |   check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(SpinlockEventsCutTests.kt:411)  |
|                                                                                                                               | └╶╶ switch (reason: active lock detected)                                                                             |
|   decrementAndGet(): 0 at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockCause(SpinlockEventsCutTests.kt:396) |                                                                                                                       |
|                                                                                                                               |     /* The following events repeat infinitely: */                                                                     |
|                                                                                                                               | ┌╶> check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(SpinlockEventsCutTests.kt:411)  |
|                                                                                                                               | |   check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(SpinlockEventsCutTests.kt:411)  |
|                                                                                                                               | └╶╶ switch (reason: active lock detected)                                                                             |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock

Detailed trace:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                           Thread 1                                                            |                                                                 Thread 2                                                                  |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| spinLockCause()                                                                                                               |                                                                                                                                           |
|   incrementAndGet(): 1 at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockCause(SpinlockEventsCutTests.kt:395) |                                                                                                                                           |
|   switch                                                                                                                      |                                                                                                                                           |
|                                                                                                                               | spinLock()                                                                                                                                |
|                                                                                                                               |   get(): 1 at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLock(SpinlockEventsCutTests.kt:401)                              |
|                                                                                                                               |   spinLockActions() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLock(SpinlockEventsCutTests.kt:402)                     |
|                                                                                                                               |     /* The following events repeat infinitely: */                                                                                         |
|                                                                                                                               | ┌╶> check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(SpinlockEventsCutTests.kt:411)                      |
|                                                                                                                               | |     compareAndSet(2,1): false at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest$Descriptor.check(SpinlockEventsCutTests.kt:418) |
|                                                                                                                               | |   check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(SpinlockEventsCutTests.kt:411)                      |
|                                                                                                                               | |     compareAndSet(2,1): false at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest$Descriptor.check(SpinlockEventsCutTests.kt:418) |
|                                                                                                                               | └╶╶ switch (reason: active lock detected)                                                                                                 |
|   decrementAndGet(): 0 at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockCause(SpinlockEventsCutTests.kt:396) |                                                                                                                                           |
|                                                                                                                               |     /* The following events repeat infinitely: */                                                                                         |
|                                                                                                                               | ┌╶> check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(SpinlockEventsCutTests.kt:411)                      |
|                                                                                                                               | |     compareAndSet(2,1): false at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest$Descriptor.check(SpinlockEventsCutTests.kt:418) |
|                                                                                                                               | |   check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(SpinlockEventsCutTests.kt:411)                      |
|                                                                                                                               | |     compareAndSet(2,1): false at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest$Descriptor.check(SpinlockEventsCutTests.kt:418) |
|                                                                                                                               | └╶╶ switch (reason: active lock detected)                                                                                                 |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock
