= The execution has hung, see the thread dump =
| ---------------------------- |
|    Thread 1     |  Thread 2  |
| ---------------------------- |
| spinLockCause() | spinLock() |
| ---------------------------- |


The following interleaving leads to the error:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                               Thread 1                                                                |                                                           Thread 2                                                            |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| spinLockCause()                                                                                                                       |                                                                                                                               |
|   incrementAndGet(): 1 at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockCause(ParameterDependentSpinLockTests.kt:72) |                                                                                                                               |
|   switch                                                                                                                              |                                                                                                                               |
|                                                                                                                                       | spinLock()                                                                                                                    |
|                                                                                                                                       |   get(): 1 at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLock(ParameterDependentSpinLockTests.kt:78)          |
|                                                                                                                                       |   spinLockActions() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLock(ParameterDependentSpinLockTests.kt:79) |
|                                                                                                                                       |     /* The following events repeat infinitely: */                                                                             |
|                                                                                                                                       | ┌╶> check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(ParameterDependentSpinLockTests.kt:87)  |
|                                                                                                                                       | |   check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(ParameterDependentSpinLockTests.kt:87)  |
|                                                                                                                                       | └╶╶╶/* The next call would cause infinite spin-cycle, switch to avoid it */                                                   |
|                                                                                                                                       |     switch (reason: active lock detected)                                                                                     |
|   decrementAndGet(): 0 at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockCause(ParameterDependentSpinLockTests.kt:73) |                                                                                                                               |
|                                                                                                                                       |     /* The following events repeat infinitely: */                                                                             |
|                                                                                                                                       | ┌╶> check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(ParameterDependentSpinLockTests.kt:87)  |
|                                                                                                                                       | |   check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(ParameterDependentSpinLockTests.kt:87)  |
|                                                                                                                                       | └╶╶╶/* The next call would cause infinite spin-cycle, switch to avoid it */                                                   |
|                                                                                                                                       |     switch (reason: active lock detected)                                                                                     |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock

Detailed trace:
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                               Thread 1                                                                |                                                                     Thread 2                                                                      |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| spinLockCause()                                                                                                                       |                                                                                                                                                   |
|   incrementAndGet(): 1 at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockCause(ParameterDependentSpinLockTests.kt:72) |                                                                                                                                                   |
|   switch                                                                                                                              |                                                                                                                                                   |
|                                                                                                                                       | spinLock()                                                                                                                                        |
|                                                                                                                                       |   get(): 1 at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLock(ParameterDependentSpinLockTests.kt:78)                              |
|                                                                                                                                       |   spinLockActions() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLock(ParameterDependentSpinLockTests.kt:79)                     |
|                                                                                                                                       |     /* The following events repeat infinitely: */                                                                                                 |
|                                                                                                                                       | ┌╶> check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(ParameterDependentSpinLockTests.kt:87)                      |
|                                                                                                                                       | |     compareAndSet(1,2): false at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest$Descriptor.check(ParameterDependentSpinLockTests.kt:94) |
|                                                                                                                                       | |   check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(ParameterDependentSpinLockTests.kt:87)                      |
|                                                                                                                                       | |     compareAndSet(1,2): false at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest$Descriptor.check(ParameterDependentSpinLockTests.kt:94) |
|                                                                                                                                       | └╶╶╶/* The next call would cause infinite spin-cycle, switch to avoid it */                                                                       |
|                                                                                                                                       |     switch (reason: active lock detected)                                                                                                         |
|   decrementAndGet(): 0 at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockCause(ParameterDependentSpinLockTests.kt:73) |                                                                                                                                                   |
|                                                                                                                                       |     /* The following events repeat infinitely: */                                                                                                 |
|                                                                                                                                       | ┌╶> check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(ParameterDependentSpinLockTests.kt:87)                      |
|                                                                                                                                       | |     compareAndSet(1,2): false at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest$Descriptor.check(ParameterDependentSpinLockTests.kt:94) |
|                                                                                                                                       | |   check() at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest.spinLockActions(ParameterDependentSpinLockTests.kt:87)                      |
|                                                                                                                                       | |     compareAndSet(1,2): false at SpinCycleWithPeriodTwiceBiggerBySwitchingReceiversTest$Descriptor.check(ParameterDependentSpinLockTests.kt:94) |
|                                                                                                                                       | └╶╶╶/* The next call would cause infinite spin-cycle, switch to avoid it */                                                                       |
|                                                                                                                                       |     switch (reason: active lock detected)                                                                                                         |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock
