= Invalid execution results =
| ---------------------------------------------------- |
|     Thread 1     |             Thread 2              |
| ---------------------------------------------------- |
| isAbsurd(): true | cancelledOp() + cancel: CANCELLED |
| ---------------------------------------------------- |

The following interleaving leads to the error:
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                       Thread 1                                                       |                                                                                                      Thread 2                                                                                                      |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| isAbsurd(): true                                                                                                     |                                                                                                                                                                                                                    |
|   correct ➜ true at CoroutineCancellationTraceReportingTest.isAbsurd(CoroutineCancellationTraceReportingTest.kt:36)  |                                                                                                                                                                                                                    |
|   switch                                                                                                             |                                                                                                                                                                                                                    |
|                                                                                                                      | cancelledOp() + cancel: CANCELLED                                                                                                                                                                                  |
|                                                                                                                      |   $i$f$suspendCancellableCoroutine = 0 at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:28)                                                                       |
|                                                                                                                      |   $completion ➜ <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:48)                                                                                       |
|                                                                                                                      |   uCont$iv = <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:48)                                                                                          |
|                                                                                                                      |   $i$a$-suspendCoroutineUninterceptedOrReturn-CancellableContinuationKt$suspendCancellableCoroutine$2$iv = 0 at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:48) |
|                                                                                                                      |   uCont$iv ➜ <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:49)                                                                                          |
|                                                                                                                      |   cancellable$iv = <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:49)                                                                                    |
|                                                                                                                      |   cancellable$iv ➜ <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:55)                                                                                    |
|                                                                                                                      |   <cont>.initCancellability() at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:55)                                                                                |
|                                                                                                                      |   cancellable$iv ➜ <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:56)                                                                                    |
|                                                                                                                      |   cont = <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:56)                                                                                              |
|                                                                                                                      |   $i$a$-suspendCancellableCoroutine-CoroutineCancellationTraceReportingTest$cancelledOp$2 = 0 at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:56)                |
|                                                                                                                      |   cont ➜ <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:29)                                                                                              |
|                                                                                                                      |   <cont>.invokeOnCancellation(cancelledOp$2$1) at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:29)                                                               |
|                                                                                                                      |   cancellable$iv ➜ <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:57)                                                                                    |
|                                                                                                                      |   <cont>.getResult(): COROUTINE_SUSPENDED at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:57)                                                                    |
|                                                                                                                      |     isReusable(): false at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:297)                                                                                                               |
|                                                                                                                      |     isReusable = 0 at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:297)                                                                                                                    |
|                                                                                                                      |     trySuspend(): true at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:300)                                                                                                                |
|                                                                                                                      |     getParentHandle(): ChildContinuation#1 at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:310)                                                                                            |
|                                                                                                                      |     isReusable ➜ 0 at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:318)                                                                                                                    |
|                                                                                                                      |   $completion ➜ <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:48)                                                                                       |
|                                                                                                                      |   CANCELLED BEFORE RESUMPTION                                                                                                                                                                                      |
|                                                                                                                      |   this_$iv = <cont> at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:0)                                                                                                                        |
|                                                                                                                      |   atomicfu$handler$iv = AtomicReferenceFieldUpdaterImpl#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:0)                                                                                  |
|                                                                                                                      |   $i$f$loop$atomicfu = 0 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:0)                                                                                                                   |
|                                                                                                                      |   atomicfu$handler$iv ➜ AtomicReferenceFieldUpdaterImpl#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:0)                                                                                  |
|                                                                                                                      |   _state.get(): InvokeOnCancel#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:0)                                                                                                           |
|                                                                                                                      |   state = InvokeOnCancel#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:0)                                                                                                                 |
|                                                                                                                      |   $i$a$-loop$atomicfu-CancellableContinuationImpl$cancel$1 = 0 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:0)                                                                             |
|                                                                                                                      |   state ➜ InvokeOnCancel#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:206)                                                                                                               |
|                                                                                                                      |   cause ➜ Exception#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:208)                                                                                                                    |
|                                                                                                                      |   state ➜ InvokeOnCancel#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:208)                                                                                                               |
|                                                                                                                      |   update = CancelledContinuation#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:208)                                                                                                       |
|                                                                                                                      |   state ➜ InvokeOnCancel#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:209)                                                                                                               |
|                                                                                                                      |   update ➜ CancelledContinuation#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:209)                                                                                                       |
|                                                                                                                      |   _state.compareAndSet(InvokeOnCancel#1, CancelledContinuation#1): true at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:209)                                                                  |
|                                                                                                                      |   state ➜ InvokeOnCancel#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:211)                                                                                                               |
|                                                                                                                      |   state ➜ InvokeOnCancel#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:212)                                                                                                               |
|                                                                                                                      |   cause ➜ Exception#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:212)                                                                                                                    |
|                                                                                                                      |   <cont>.callCancelHandler(InvokeOnCancel#1, Exception#1) at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:212)                                                                                |
|                                                                                                                      |   <cont>.detachChildIfNonResuable() at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:216)                                                                                                      |
|                                                                                                                      |   <cont>.resumeMode ➜ 1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:217)                                                                                                                  |
|                                                                                                                      |   <cont>.dispatchResume(1) at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:217)                                                                                                               |
|                                                                                                                      |   result: CANCELLED                                                                                                                                                                                                |
|   correct ➜ false at CoroutineCancellationTraceReportingTest.isAbsurd(CoroutineCancellationTraceReportingTest.kt:36) |                                                                                                                                                                                                                    |
|   result: true                                                                                                       |                                                                                                                                                                                                                    |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                       Thread 1                                                       |                                                                                                      Thread 2                                                                                                      |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| isAbsurd(): true                                                                                                     |                                                                                                                                                                                                                    |
|   correct ➜ true at CoroutineCancellationTraceReportingTest.isAbsurd(CoroutineCancellationTraceReportingTest.kt:36)  |                                                                                                                                                                                                                    |
|   switch                                                                                                             |                                                                                                                                                                                                                    |
|                                                                                                                      | cancelledOp() + cancel: CANCELLED                                                                                                                                                                                  |
|                                                                                                                      |   $i$f$suspendCancellableCoroutine = 0 at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:28)                                                                       |
|                                                                                                                      |   $completion ➜ <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:48)                                                                                       |
|                                                                                                                      |   uCont$iv = <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:48)                                                                                          |
|                                                                                                                      |   $i$a$-suspendCoroutineUninterceptedOrReturn-CancellableContinuationKt$suspendCancellableCoroutine$2$iv = 0 at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:48) |
|                                                                                                                      |   uCont$iv ➜ <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:49)                                                                                          |
|                                                                                                                      |   cancellable$iv = <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:49)                                                                                    |
|                                                                                                                      |   cancellable$iv ➜ <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:55)                                                                                    |
|                                                                                                                      |   <cont>.initCancellability() at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:55)                                                                                |
|                                                                                                                      |     installParentHandle(): ChildContinuation#1 at CancellableContinuationImpl.initCancellability(CancellableContinuationImpl.kt:129)                                                                               |
|                                                                                                                      |       CombinedContext#1.get(Key#1): JobImpl#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:346)                                                                               |
|                                                                                                                      |         $this ➜ JobImpl#1 at Job$DefaultImpls.get(Job.kt:112)                                                                                                                                                      |
|                                                                                                                      |         key ➜ Key#1 at Job$DefaultImpls.get(Job.kt:112)                                                                                                                                                            |
|                                                                                                                      |         CoroutineContext$Element$DefaultImpls.get(JobImpl#1, Key#1): JobImpl#1 at Job$DefaultImpls.get(Job.kt:112)                                                                                                 |
|                                                                                                                      |           key ➜ Key#1 at CoroutineContext$Element$DefaultImpls.get(CoroutineContext.kt:0)                                                                                                                          |
|                                                                                                                      |           $this ➜ JobImpl#1 at CoroutineContext$Element$DefaultImpls.get(CoroutineContext.kt:67)                                                                                                                   |
|                                                                                                                      |           key ➜ Key#1 at CoroutineContext$Element$DefaultImpls.get(CoroutineContext.kt:67)                                                                                                                         |
|                                                                                                                      |           $this ➜ JobImpl#1 at CoroutineContext$Element$DefaultImpls.get(CoroutineContext.kt:67)                                                                                                                   |
|                                                                                                                      |           $this ➜ JobImpl#1 at CoroutineContext$Element$DefaultImpls.get(CoroutineContext.kt:67)                                                                                                                   |
|                                                                                                                      |       parent = JobImpl#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:346)                                                                                                    |
|                                                                                                                      |       parent ➜ JobImpl#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:348)                                                                                                    |
|                                                                                                                      |       handle = ChildContinuation#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:350)                                                                                          |
|                                                                                                                      |       $this$asHandler$iv = 0 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:350)                                                                                                |
|                                                                                                                      |       handle ➜ ChildContinuation#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:710)                                                                                          |
|                                                                                                                      |       Job$DefaultImpls.invokeOnCompletion(true, true, ChildContinuation#1): ChildContinuation#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:348)                             |
|                                                                                                                      |         <set-?> ➜ JobImpl#1 at JobNode.setJob(JobSupport.kt:1348)                                                                                                                                                  |
|                                                                                                                      |         ChildContinuation#1.job = JobImpl#1 at JobNode.setJob(JobSupport.kt:1348)                                                                                                                                  |
|                                                                                                                      |       $i$f$getAsHandler = ChildContinuation#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:348)                                                                               |
|                                                                                                                      |       $i$f$getAsHandler ➜ ChildContinuation#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:352)                                                                               |
|                                                                                                                      |       _parentHandle.compareAndSet(null, ChildContinuation#1): true at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:352)                                                          |
|                                                                                                                      |       $i$f$getAsHandler ➜ ChildContinuation#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:353)                                                                               |
|                                                                                                                      |     handle = ChildContinuation#1 at CancellableContinuationImpl.initCancellability(CancellableContinuationImpl.kt:129)                                                                                             |
|                                                                                                                      |     isCompleted(): false at CancellableContinuationImpl.initCancellability(CancellableContinuationImpl.kt:134)                                                                                                     |
|                                                                                                                      |       getState$kotlinx_coroutines_core(): Active#1 at CancellableContinuationImpl.isCompleted(CancellableContinuationImpl.kt:112)                                                                                  |
|                                                                                                                      |         _state.get(): Active#1 at CancellableContinuationImpl.getState$kotlinx_coroutines_core(CancellableContinuationImpl.kt:108)                                                                                 |
|                                                                                                                      |   cancellable$iv ➜ <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:56)                                                                                    |
|                                                                                                                      |   cont = <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:56)                                                                                              |
|                                                                                                                      |   $i$a$-suspendCancellableCoroutine-CoroutineCancellationTraceReportingTest$cancelledOp$2 = 0 at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:56)                |
|                                                                                                                      |   cont ➜ <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:29)                                                                                              |
|                                                                                                                      |   <cont>.invokeOnCancellation(cancelledOp$2$1) at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:29)                                                               |
|                                                                                                                      |     handler ➜ cancelledOp$2$1 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:398)                                                                                              |
|                                                                                                                      |     makeCancelHandler(cancelledOp$2$1): InvokeOnCancel#1 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:398)                                                                   |
|                                                                                                                      |       handler ➜ cancelledOp$2$1 at CancellableContinuationImpl.makeCancelHandler(CancellableContinuationImpl.kt:469)                                                                                               |
|                                                                                                                      |       handler ➜ cancelledOp$2$1 at CancellableContinuationImpl.makeCancelHandler(CancellableContinuationImpl.kt:469)                                                                                               |
|                                                                                                                      |     cancelHandler = InvokeOnCancel#1 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:398)                                                                                       |
|                                                                                                                      |     cancelHandler ➜ InvokeOnCancel#1 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:399)                                                                                       |
|                                                                                                                      |     invokeOnCancellationImpl(InvokeOnCancel#1) at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:399)                                                                             |
|                                                                                                                      |       handler ➜ InvokeOnCancel#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403)                                                                                       |
|                                                                                                                      |       atomicfu$handler$iv = AtomicReferenceFieldUpdaterImpl#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403)                                                          |
|                                                                                                                      |       $i$f$loop$atomicfu = 0 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403)                                                                                           |
|                                                                                                                      |       atomicfu$handler$iv ➜ AtomicReferenceFieldUpdaterImpl#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403)                                                          |
|                                                                                                                      |       _state.get(): Active#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403)                                                                                           |
|                                                                                                                      |       state = Active#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403)                                                                                                 |
|                                                                                                                      |       $i$a$-loop$atomicfu-CancellableContinuationImpl$invokeOnCancellationImpl$2 = 0 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403)                                   |
|                                                                                                                      |       state ➜ Active#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:405)                                                                                                 |
|                                                                                                                      |       state ➜ Active#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:407)                                                                                                 |
|                                                                                                                      |       handler ➜ InvokeOnCancel#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:407)                                                                                       |
|                                                                                                                      |       _state.compareAndSet(Active#1, InvokeOnCancel#1): true at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:407)                                                           |
|                                                                                                                      |   cancellable$iv ➜ <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:57)                                                                                    |
|                                                                                                                      |   <cont>.getResult(): COROUTINE_SUSPENDED at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:57)                                                                    |
|                                                                                                                      |     isReusable(): false at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:297)                                                                                                               |
|                                                                                                                      |       resumeMode ➜ 1 at CancellableContinuationImpl.isReusable(CancellableContinuationImpl.kt:141)                                                                                                                 |
|                                                                                                                      |       DispatchedTaskKt.isReusableMode(1): false at CancellableContinuationImpl.isReusable(CancellableContinuationImpl.kt:141)                                                                                      |
|                                                                                                                      |         $this$isReusableMode ➜ 1 at DispatchedTaskKt.isReusableMode(DispatchedTask.kt:48)                                                                                                                          |
|                                                                                                                      |     isReusable = 0 at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:297)                                                                                                                    |
|                                                                                                                      |     trySuspend(): true at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:300)                                                                                                                |
|                                                                                                                      |       this_$iv = <cont> at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:0)                                                                                                                |
|                                                                                                                      |       atomicfu$handler$iv = AtomicIntegerFieldUpdaterImpl#1 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:0)                                                                            |
|                                                                                                                      |       $i$f$loop$atomicfu = 0 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:0)                                                                                                           |
|                                                                                                                      |       atomicfu$handler$iv ➜ AtomicIntegerFieldUpdaterImpl#1 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:0)                                                                            |
|                                                                                                                      |       _decisionAndIndex.get(): 536870911 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:0)                                                                                               |
|                                                                                                                      |       cur = 536870911 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:0)                                                                                                                  |
|                                                                                                                      |       $i$a$-loop$atomicfu-CancellableContinuationImpl$trySuspend$1 = 0 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:0)                                                                 |
|                                                                                                                      |       cur ➜ 536870911 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:277)                                                                                                                |
|                                                                                                                      |       cur ➜ 536870911 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:278)                                                                                                                |
|                                                                                                                      |       cur ➜ 536870911 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:278)                                                                                                                |
|                                                                                                                      |       _decisionAndIndex.compareAndSet(536870911, 1073741823): true at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:278)                                                                   |
|                                                                                                                      |     getParentHandle(): ChildContinuation#1 at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:310)                                                                                            |
|                                                                                                                      |       _parentHandle.get(): ChildContinuation#1 at CancellableContinuationImpl.getParentHandle(CancellableContinuationImpl.kt:106)                                                                                  |
|                                                                                                                      |     isReusable ➜ 0 at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:318)                                                                                                                    |
|                                                                                                                      |   $completion ➜ <cont> at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:48)                                                                                       |
|                                                                                                                      |   CANCELLED BEFORE RESUMPTION                                                                                                                                                                                      |
|                                                                                                                      |   this_$iv = <cont> at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:0)                                                                                                                        |
|                                                                                                                      |   atomicfu$handler$iv = AtomicReferenceFieldUpdaterImpl#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:0)                                                                                  |
|                                                                                                                      |   $i$f$loop$atomicfu = 0 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:0)                                                                                                                   |
|                                                                                                                      |   atomicfu$handler$iv ➜ AtomicReferenceFieldUpdaterImpl#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:0)                                                                                  |
|                                                                                                                      |   _state.get(): InvokeOnCancel#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:0)                                                                                                           |
|                                                                                                                      |   state = InvokeOnCancel#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:0)                                                                                                                 |
|                                                                                                                      |   $i$a$-loop$atomicfu-CancellableContinuationImpl$cancel$1 = 0 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:0)                                                                             |
|                                                                                                                      |   state ➜ InvokeOnCancel#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:206)                                                                                                               |
|                                                                                                                      |   cause ➜ Exception#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:208)                                                                                                                    |
|                                                                                                                      |   state ➜ InvokeOnCancel#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:208)                                                                                                               |
|                                                                                                                      |   update = CancelledContinuation#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:208)                                                                                                       |
|                                                                                                                      |   state ➜ InvokeOnCancel#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:209)                                                                                                               |
|                                                                                                                      |   update ➜ CancelledContinuation#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:209)                                                                                                       |
|                                                                                                                      |   _state.compareAndSet(InvokeOnCancel#1, CancelledContinuation#1): true at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:209)                                                                  |
|                                                                                                                      |   state ➜ InvokeOnCancel#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:211)                                                                                                               |
|                                                                                                                      |   state ➜ InvokeOnCancel#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:212)                                                                                                               |
|                                                                                                                      |   cause ➜ Exception#1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:212)                                                                                                                    |
|                                                                                                                      |   <cont>.callCancelHandler(InvokeOnCancel#1, Exception#1) at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:212)                                                                                |
|                                                                                                                      |     this_$iv = <cont> at CancellableContinuationImpl.callCancelHandler(CancellableContinuationImpl.kt:249)                                                                                                         |
|                                                                                                                      |     $i$f$callCancelHandlerSafely = 0 at CancellableContinuationImpl.callCancelHandler(CancellableContinuationImpl.kt:249)                                                                                          |
|                                                                                                                      |     $i$a$-callCancelHandlerSafely-CancellableContinuationImpl$callCancelHandler$2 = 0 at CancellableContinuationImpl.callCancelHandler(CancellableContinuationImpl.kt:678)                                         |
|                                                                                                                      |     handler ➜ InvokeOnCancel#1 at CancellableContinuationImpl.callCancelHandler(CancellableContinuationImpl.kt:249)                                                                                                |
|                                                                                                                      |     cause ➜ Exception#1 at CancellableContinuationImpl.callCancelHandler(CancellableContinuationImpl.kt:249)                                                                                                       |
|                                                                                                                      |     InvokeOnCancel#1.invoke(Exception#1) at CancellableContinuationImpl.callCancelHandler(CancellableContinuationImpl.kt:249)                                                                                      |
|                                                                                                                      |       cause ➜ Exception#1 at InvokeOnCancel.invoke(CancellableContinuationImpl.kt:642)                                                                                                                             |
|                                                                                                                      |       cancelledOp$2$1.invoke(Exception#1) at InvokeOnCancel.invoke(CancellableContinuationImpl.kt:642)                                                                                                             |
|                                                                                                                      |         p1 ➜ Exception#1 at CoroutineCancellationTraceReportingTest$cancelledOp$2$1.invoke(CoroutineCancellationTraceReportingTest.kt:29)                                                                          |
|                                                                                                                      |         invoke(Exception#1) at CoroutineCancellationTraceReportingTest$cancelledOp$2$1.invoke(CoroutineCancellationTraceReportingTest.kt:29)                                                                       |
|                                                                                                                      |           CoroutineCancellationTraceReportingTest#1.setCorrect(false) at CoroutineCancellationTraceReportingTest$cancelledOp$2$1.invoke(CoroutineCancellationTraceReportingTest.kt:30)                             |
|                                                                                                                      |             <set-?> ➜ 0 at CoroutineCancellationTraceReportingTest.setCorrect(CoroutineCancellationTraceReportingTest.kt:23)                                                                                       |
|                                                                                                                      |             correct = false at CoroutineCancellationTraceReportingTest.setCorrect(CoroutineCancellationTraceReportingTest.kt:23)                                                                                   |
|                                                                                                                      |   <cont>.detachChildIfNonResuable() at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:216)                                                                                                      |
|                                                                                                                      |     isReusable(): false at CancellableContinuationImpl.detachChildIfNonResuable(CancellableContinuationImpl.kt:565)                                                                                                |
|                                                                                                                      |       resumeMode ➜ 1 at CancellableContinuationImpl.isReusable(CancellableContinuationImpl.kt:141)                                                                                                                 |
|                                                                                                                      |       DispatchedTaskKt.isReusableMode(1): false at CancellableContinuationImpl.isReusable(CancellableContinuationImpl.kt:141)                                                                                      |
|                                                                                                                      |         $this$isReusableMode ➜ 1 at DispatchedTaskKt.isReusableMode(DispatchedTask.kt:48)                                                                                                                          |
|                                                                                                                      |     detachChild$kotlinx_coroutines_core() at CancellableContinuationImpl.detachChildIfNonResuable(CancellableContinuationImpl.kt:565)                                                                              |
|                                                                                                                      |       getParentHandle(): ChildContinuation#1 at CancellableContinuationImpl.detachChild$kotlinx_coroutines_core(CancellableContinuationImpl.kt:572)                                                                |
|                                                                                                                      |         _parentHandle.get(): ChildContinuation#1 at CancellableContinuationImpl.getParentHandle(CancellableContinuationImpl.kt:106)                                                                                |
|                                                                                                                      |       handle = ChildContinuation#1 at CancellableContinuationImpl.detachChild$kotlinx_coroutines_core(CancellableContinuationImpl.kt:572)                                                                          |
|                                                                                                                      |       handle ➜ ChildContinuation#1 at CancellableContinuationImpl.detachChild$kotlinx_coroutines_core(CancellableContinuationImpl.kt:573)                                                                          |
|                                                                                                                      |       ChildContinuation#1.dispose() at CancellableContinuationImpl.detachChild$kotlinx_coroutines_core(CancellableContinuationImpl.kt:573)                                                                         |
|                                                                                                                      |         getJob(): JobImpl#1 at JobNode.dispose(JobSupport.kt:1351)                                                                                                                                                 |
|                                                                                                                      |           job ➜ JobImpl#1 at JobNode.getJob(JobSupport.kt:1348)                                                                                                                                                    |
|                                                                                                                      |       _parentHandle.set(NonDisposableHandle#1) at CancellableContinuationImpl.detachChild$kotlinx_coroutines_core(CancellableContinuationImpl.kt:574)                                                              |
|                                                                                                                      |   <cont>.resumeMode ➜ 1 at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:217)                                                                                                                  |
|                                                                                                                      |   <cont>.dispatchResume(1) at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:217)                                                                                                               |
|                                                                                                                      |     tryResume(): false at CancellableContinuationImpl.dispatchResume(CancellableContinuationImpl.kt:472)                                                                                                           |
|                                                                                                                      |       this_$iv = <cont> at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:0)                                                                                                                 |
|                                                                                                                      |       atomicfu$handler$iv = AtomicIntegerFieldUpdaterImpl#1 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:0)                                                                             |
|                                                                                                                      |       $i$f$loop$atomicfu = 0 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:0)                                                                                                            |
|                                                                                                                      |       atomicfu$handler$iv ➜ AtomicIntegerFieldUpdaterImpl#1 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:0)                                                                             |
|                                                                                                                      |       _decisionAndIndex.get(): 1073741823 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:0)                                                                                               |
|                                                                                                                      |       cur = 1073741823 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:0)                                                                                                                  |
|                                                                                                                      |       $i$a$-loop$atomicfu-CancellableContinuationImpl$tryResume$1 = 0 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:0)                                                                   |
|                                                                                                                      |       cur ➜ 1073741823 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:287)                                                                                                                |
|                                                                                                                      |     mode ➜ 1 at CancellableContinuationImpl.dispatchResume(CancellableContinuationImpl.kt:474)                                                                                                                     |
|                                                                                                                      |     DispatchedTaskKt.dispatch(<cont>, 1) at CancellableContinuationImpl.dispatchResume(CancellableContinuationImpl.kt:474)                                                                                         |
|                                                                                                                      |       mode ➜ 1 at DispatchedTaskKt.dispatch(DispatchedTask.kt:153)                                                                                                                                                 |
|                                                                                                                      |       $this$dispatch ➜ <cont> at DispatchedTaskKt.dispatch(DispatchedTask.kt:154)                                                                                                                                  |
|                                                                                                                      |       mode ➜ 1 at DispatchedTaskKt.dispatch(DispatchedTask.kt:155)                                                                                                                                                 |
|                                                                                                                      |       undispatched = 0 at DispatchedTaskKt.dispatch(DispatchedTask.kt:155)                                                                                                                                         |
|                                                                                                                      |       undispatched ➜ 0 at DispatchedTaskKt.dispatch(DispatchedTask.kt:156)                                                                                                                                         |
|                                                                                                                      |       $this$dispatch ➜ <cont> at DispatchedTaskKt.dispatch(DispatchedTask.kt:168)                                                                                                                                  |
|                                                                                                                      |       undispatched ➜ 0 at DispatchedTaskKt.dispatch(DispatchedTask.kt:168)                                                                                                                                         |
|                                                                                                                      |       DispatchedTaskKt.resume(<cont>, <cont>, false) at DispatchedTaskKt.dispatch(DispatchedTask.kt:168)                                                                                                           |
|                                                                                                                      |         $this$resume ➜ <cont> at DispatchedTaskKt.resume(DispatchedTask.kt:174)                                                                                                                                    |
|                                                                                                                      |         <cont>.takeState$kotlinx_coroutines_core(): CancelledContinuation#1 at DispatchedTaskKt.resume(DispatchedTask.kt:174)                                                                                      |
|                                                                                                                      |           getState$kotlinx_coroutines_core(): CancelledContinuation#1 at CancellableContinuationImpl.takeState$kotlinx_coroutines_core(CancellableContinuationImpl.kt:168)                                         |
|                                                                                                                      |             _state.get(): CancelledContinuation#1 at CancellableContinuationImpl.getState$kotlinx_coroutines_core(CancellableContinuationImpl.kt:108)                                                              |
|                                                                                                                      |         state = CancelledContinuation#1 at DispatchedTaskKt.resume(DispatchedTask.kt:174)                                                                                                                          |
|                                                                                                                      |         $this$resume ➜ <cont> at DispatchedTaskKt.resume(DispatchedTask.kt:175)                                                                                                                                    |
|                                                                                                                      |         state ➜ CancelledContinuation#1 at DispatchedTaskKt.resume(DispatchedTask.kt:175)                                                                                                                          |
|                                                                                                                      |         <cont>.getExceptionalResult$kotlinx_coroutines_core(CancelledContinuation#1): Exception#1 at DispatchedTaskKt.resume(DispatchedTask.kt:175)                                                                |
|                                                                                                                      |           state ➜ CancelledContinuation#1 at CancellableContinuationImpl.getExceptionalResult$kotlinx_coroutines_core(CancellableContinuationImpl.kt:613)                                                          |
|                                                                                                                      |           getExceptionalResult$kotlinx_coroutines_core(CancelledContinuation#1): Exception#1 at CancellableContinuationImpl.getExceptionalResult$kotlinx_coroutines_core(CancellableContinuationImpl.kt:613)       |
|                                                                                                                      |             state ➜ CancelledContinuation#1 at DispatchedTask.getExceptionalResult$kotlinx_coroutines_core(DispatchedTask.kt:81)                                                                                   |
|                                                                                                                      |             state ➜ CancelledContinuation#1 at DispatchedTask.getExceptionalResult$kotlinx_coroutines_core(DispatchedTask.kt:81)                                                                                   |
|                                                                                                                      |           it = Exception#1 at CancellableContinuationImpl.getExceptionalResult$kotlinx_coroutines_core(CancellableContinuationImpl.kt:613)                                                                         |
|                                                                                                                      |           $i$a$-let-CancellableContinuationImpl$getExceptionalResult$1 = 0 at CancellableContinuationImpl.getExceptionalResult$kotlinx_coroutines_core(CancellableContinuationImpl.kt:663)                         |
|                                                                                                                      |           continuation$iv = <cont> at CancellableContinuationImpl.getExceptionalResult$kotlinx_coroutines_core(CancellableContinuationImpl.kt:613)                                                                 |
|                                                                                                                      |           $i$f$recoverStackTrace = 0 at CancellableContinuationImpl.getExceptionalResult$kotlinx_coroutines_core(CancellableContinuationImpl.kt:613)                                                               |
|                                                                                                                      |           continuation$iv ➜ <cont> at CancellableContinuationImpl.getExceptionalResult$kotlinx_coroutines_core(CancellableContinuationImpl.kt:716)                                                                 |
|                                                                                                                      |           it ➜ Exception#1 at CancellableContinuationImpl.getExceptionalResult$kotlinx_coroutines_core(CancellableContinuationImpl.kt:716)                                                                         |
|                                                                                                                      |         exception = Exception#1 at DispatchedTaskKt.resume(DispatchedTask.kt:175)                                                                                                                                  |
|                                                                                                                      |         exception ➜ Exception#1 at DispatchedTaskKt.resume(DispatchedTask.kt:176)                                                                                                                                  |
|                                                                                                                      |         exception ➜ Exception#1 at DispatchedTaskKt.resume(DispatchedTask.kt:176)                                                                                                                                  |
|                                                                                                                      |         result = Failure#1 at DispatchedTaskKt.resume(DispatchedTask.kt:176)                                                                                                                                       |
|                                                                                                                      |         undispatched ➜ 0 at DispatchedTaskKt.resume(DispatchedTask.kt:178)                                                                                                                                         |
|                                                                                                                      |         delegate ➜ <cont> at DispatchedTaskKt.resume(DispatchedTask.kt:179)                                                                                                                                        |
|                                                                                                                      |         result ➜ Failure#1 at DispatchedTaskKt.resume(DispatchedTask.kt:179)                                                                                                                                       |
|                                                                                                                      |   result: CANCELLED                                                                                                                                                                                                |
|   correct ➜ false at CoroutineCancellationTraceReportingTest.isAbsurd(CoroutineCancellationTraceReportingTest.kt:36) |                                                                                                                                                                                                                    |
|   result: true                                                                                                       |                                                                                                                                                                                                                    |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
