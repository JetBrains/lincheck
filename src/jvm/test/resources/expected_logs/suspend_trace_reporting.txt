= Invalid execution results =
Parallel part:
| bar(): -1 | foo(): SUSPENDED + void |

= The following interleaving leads to the error =
Parallel part trace:
| bar()                                                                                                 |                                                                                                          |
|   barStarted.WRITE(true) at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:49)            |                                                                                                          |
|   lock(null): Unit@1 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:86)                |                                                                                                          |
|   switch                                                                                              |                                                                                                          |
|                                                                                                       | foo()                                                                                                    |
|                                                                                                       |   barStarted.READ: true at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:40)                |
|                                                                                                       |   canEnterForbiddenBlock.WRITE(true) at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:40)   |
|                                                                                                       |   lock(null): CoroutineSingletons@1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:75)    |
|                                                                                                       |     tryLock(null): false at MutexImpl.lock(Mutex.kt:188)                                                 |
|                                                                                                       |     lockSuspend(null): CoroutineSingletons@1 at MutexImpl.lock(Mutex.kt:190)                             |
|                                                                                                       |       _state.READ: Empty@1 at MutexImpl.lockSuspend(Mutex.kt:410)                                        |
|                                                                                                       |       _state.compareAndSet(Empty@1,LockedQueue@1): true at MutexImpl.lockSuspend(Mutex.kt:199)           |
|                                                                                                       |       _state.READ: LockedQueue@1 at MutexImpl.lockSuspend(Mutex.kt:410)                                  |
|                                                                                                       |       owner.READ: LOCKED at MutexImpl.lockSuspend(Mutex.kt:210)                                          |
|                                                                                                       |       getPrevNode(): LockedQueue@1 at MutexImpl.lockSuspend(Mutex.kt:416)                                |
|                                                                                                       |       tryCondAddNext(LockCont@1,LockedQueue@1,@1): 1 at MutexImpl.lockSuspend(Mutex.kt:417)              |
|                                                                                                       |       removeOnCancellation(<cont>,LockCont@1) at MutexImpl.lockSuspend(Mutex.kt:214)                     |
|                                                                                                       |       getResult(): CoroutineSingletons@1 at MutexImpl.lockSuspend(Mutex.kt:420)                          |
|                                                                                                       |         setupCancellation() at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:272) |
|                                                                                                       |         trySuspend(): true at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:273)  |
|                                                                                                       |   switch (reason: coroutine is suspended)                                                                |
|   counter.READ: 0 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:51)                   |                                                                                                          |
|   counter.WRITE(1) at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:51)                  |                                                                                                          |
|   unlock(null) at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:90)                      |                                                                                                          |
|   canEnterForbiddenBlock.READ: true at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:53) |                                                                                                          |
|   result: -1                                                                                          |                                                                                                          |
|   thread is finished                                                                                  |                                                                                                          |
|                                                                                                       |   counter.READ: 1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:42)                      |
|                                                                                                       |   counter.WRITE(2) at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:42)                     |
|                                                                                                       |   unlock(null) at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:79)                         |
|                                                                                                       |   canEnterForbiddenBlock.WRITE(false) at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:44)  |
|                                                                                                       |   result: SUSPENDED + void                                                                               |
|                                                                                                       |   thread is finished                                                                                     |

Detailed parallel part trace:
| bar()                                                                                                                                                                            |                                                                                                                                                            |
|   barStarted.WRITE(true) at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:49)                                                                                       |                                                                                                                                                            |
|   lock(null): Unit@1 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:86)                                                                                           |                                                                                                                                                            |
|     tryLock(null): true at MutexImpl.lock(Mutex.kt:188)                                                                                                                          |                                                                                                                                                            |
|       _state.READ: Empty@2 at MutexImpl.tryLock(Mutex.kt:404)                                                                                                                    |                                                                                                                                                            |
|       _state.compareAndSet(Empty@2,Empty@1): true at MutexImpl.tryLock(Mutex.kt:174)                                                                                             |                                                                                                                                                            |
|   switch                                                                                                                                                                         |                                                                                                                                                            |
|                                                                                                                                                                                  | foo()                                                                                                                                                      |
|                                                                                                                                                                                  |   barStarted.READ: true at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:40)                                                                  |
|                                                                                                                                                                                  |   canEnterForbiddenBlock.WRITE(true) at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:40)                                                     |
|                                                                                                                                                                                  |   lock(null): CoroutineSingletons@1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:75)                                                      |
|                                                                                                                                                                                  |     tryLock(null): false at MutexImpl.lock(Mutex.kt:188)                                                                                                   |
|                                                                                                                                                                                  |       _state.READ: Empty@1 at MutexImpl.tryLock(Mutex.kt:404)                                                                                              |
|                                                                                                                                                                                  |     lockSuspend(null): CoroutineSingletons@1 at MutexImpl.lock(Mutex.kt:190)                                                                               |
|                                                                                                                                                                                  |       _state.READ: Empty@1 at MutexImpl.lockSuspend(Mutex.kt:410)                                                                                          |
|                                                                                                                                                                                  |       _state.compareAndSet(Empty@1,LockedQueue@1): true at MutexImpl.lockSuspend(Mutex.kt:199)                                                             |
|                                                                                                                                                                                  |       _state.READ: LockedQueue@1 at MutexImpl.lockSuspend(Mutex.kt:410)                                                                                    |
|                                                                                                                                                                                  |       owner.READ: LOCKED at MutexImpl.lockSuspend(Mutex.kt:210)                                                                                            |
|                                                                                                                                                                                  |       getPrevNode(): LockedQueue@1 at MutexImpl.lockSuspend(Mutex.kt:416)                                                                                  |
|                                                                                                                                                                                  |         correctPrev(null): LockedQueue@1 at LockFreeLinkedListNode.getPrevNode(LockFreeLinkedList.kt:110)                                                  |
|                                                                                                                                                                                  |           _prev.READ: LockedQueue@1 at LockFreeLinkedListNode.correctPrev(LockFreeLinkedList.kt:569)                                                       |
|                                                                                                                                                                                  |           _next.READ: LockedQueue@1 at LockFreeLinkedListNode.correctPrev(LockFreeLinkedList.kt:573)                                                       |
|                                                                                                                                                                                  |       tryCondAddNext(LockCont@1,LockedQueue@1,@1): 1 at MutexImpl.lockSuspend(Mutex.kt:417)                                                                |
|                                                                                                                                                                                  |         _prev.lazySet(LockedQueue@1) at LockFreeLinkedListNode.tryCondAddNext(LockFreeLinkedList.kt:222)                                                   |
|                                                                                                                                                                                  |         _next.lazySet(LockedQueue@1) at LockFreeLinkedListNode.tryCondAddNext(LockFreeLinkedList.kt:223)                                                   |
|                                                                                                                                                                                  |         _next.compareAndSet(LockedQueue@1,@1): true at LockFreeLinkedListNode.tryCondAddNext(LockFreeLinkedList.kt:225)                                    |
|                                                                                                                                                                                  |         perform(LockedQueue@1): null at LockFreeLinkedListNode.tryCondAddNext(LockFreeLinkedList.kt:227)                                                   |
|                                                                                                                                                                                  |           _consensus.READ: NO_DECISION at AtomicOp.perform(Atomic.kt:94)                                                                                   |
|                                                                                                                                                                                  |           prepare(LockedQueue@1): null at AtomicOp.perform(Atomic.kt:96)                                                                                   |
|                                                                                                                                                                                  |             prepare(LockedQueue@1): null at MutexImpl$lockSuspend$$inlined$suspendCancellableCoroutineReusable$lambda$1.prepare(LockFreeLinkedList.kt:87)  |
|                                                                                                                                                                                  |               _state.READ: LockedQueue@1 at MutexImpl$lockSuspend$$inlined$suspendCancellableCoroutineReusable$lambda$1.prepare(LockFreeLinkedList.kt:668) |
|                                                                                                                                                                                  |           decide(null): null at AtomicOp.perform(Atomic.kt:96)                                                                                             |
|                                                                                                                                                                                  |             _consensus.READ: NO_DECISION at AtomicOp.decide(Atomic.kt:80)                                                                                  |
|                                                                                                                                                                                  |             _consensus.compareAndSet(NO_DECISION,null): true at AtomicOp.decide(Atomic.kt:82)                                                              |
|                                                                                                                                                                                  |           complete(LockedQueue@1,null) at AtomicOp.perform(Atomic.kt:99)                                                                                   |
|                                                                                                                                                                                  |             complete(LockedQueue@1,null) at LockFreeLinkedListNode$CondAddOp.complete(LockFreeLinkedList.kt:70)                                            |
|                                                                                                                                                                                  |               _next.compareAndSet(@1,LockCont@1): true at LockFreeLinkedListNode$CondAddOp.complete(LockFreeLinkedList.kt:78)                              |
|                                                                                                                                                                                  |               oldNext.READ: LockedQueue@1 at LockFreeLinkedListNode$CondAddOp.complete(LockFreeLinkedList.kt:80)                                           |
|                                                                                                                                                                                  |               access$finishAdd(LockCont@1,LockedQueue@1) at LockFreeLinkedListNode$CondAddOp.complete(LockFreeLinkedList.kt:80)                            |
|                                                                                                                                                                                  |                 finishAdd(LockedQueue@1) at LockFreeLinkedListNode.access$finishAdd(LockFreeLinkedList.kt:61)                                              |
|                                                                                                                                                                                  |                   _prev.READ: LockedQueue@1 at LockFreeLinkedListNode.finishAdd(LockFreeLinkedList.kt:678)                                                 |
|                                                                                                                                                                                  |                   getNext(): LockedQueue@1 at LockFreeLinkedListNode.finishAdd(LockFreeLinkedList.kt:543)                                                  |
|                                                                                                                                                                                  |                     _next.READ: LockedQueue@1 at LockFreeLinkedListNode.getNext(LockFreeLinkedList.kt:670)                                                 |
|                                                                                                                                                                                  |                   _prev.compareAndSet(LockedQueue@1,LockCont@1): true at LockFreeLinkedListNode.finishAdd(LockFreeLinkedList.kt:544)                       |
|                                                                                                                                                                                  |                   isRemoved(): false at LockFreeLinkedListNode.finishAdd(LockFreeLinkedList.kt:547)                                                        |
|                                                                                                                                                                                  |                     getNext(): LockedQueue@1 at LockFreeLinkedListNode.isRemoved(LockFreeLinkedList.kt:91)                                                 |
|                                                                                                                                                                                  |                       _next.READ: LockedQueue@1 at LockFreeLinkedListNode.getNext(LockFreeLinkedList.kt:670)                                               |
|                                                                                                                                                                                  |       removeOnCancellation(<cont>,LockCont@1) at MutexImpl.lockSuspend(Mutex.kt:214)                                                                       |
|                                                                                                                                                                                  |         invokeOnCancellation(RemoveOnCancel@1) at CancellableContinuationKt.removeOnCancellation(CancellableContinuation.kt:360)                           |
|                                                                                                                                                                                  |           _state.READ: Active@1 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:596)                                    |
|                                                                                                                                                                                  |           _state.compareAndSet(Active@1,RemoveOnCancel@1): true at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:303)    |
|                                                                                                                                                                                  |       getResult(): CoroutineSingletons@1 at MutexImpl.lockSuspend(Mutex.kt:420)                                                                            |
|                                                                                                                                                                                  |         setupCancellation() at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:272)                                                   |
|                                                                                                                                                                                  |           checkCompleted(): false at CancellableContinuationImpl.setupCancellation(CancellableContinuationImpl.kt:120)                                     |
|                                                                                                                                                                                  |             isCompleted(): false at CancellableContinuationImpl.checkCompleted(CancellableContinuationImpl.kt:137)                                         |
|                                                                                                                                                                                  |               getState$kotlinx_coroutines_core(): RemoveOnCancel@1 at CancellableContinuationImpl.isCompleted(CancellableContinuationImpl.kt:84)           |
|                                                                                                                                                                                  |                 _state.READ: RemoveOnCancel@1 at CancellableContinuationImpl.getState$kotlinx_coroutines_core(CancellableContinuationImpl.kt:80)           |
|                                                                                                                                                                                  |             resumeMode.READ: 2 at CancellableContinuationImpl.checkCompleted(CancellableContinuationImpl.kt:138)                                           |
|                                                                                                                                                                                  |           getParentHandle(): null at CancellableContinuationImpl.setupCancellation(CancellableContinuationImpl.kt:121)                                     |
|                                                                                                                                                                                  |             _parentHandle.READ: null at CancellableContinuationImpl.getParentHandle(CancellableContinuationImpl.kt:77)                                     |
|                                                                                                                                                                                  |         trySuspend(): true at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:273)                                                    |
|                                                                                                                                                                                  |           _decision.READ: 0 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:588)                                                  |
|                                                                                                                                                                                  |           _decision.compareAndSet(0,1): true at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:253)                                 |
|                                                                                                                                                                                  |   switch (reason: coroutine is suspended)                                                                                                                  |
|   counter.READ: 0 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:51)                                                                                              |                                                                                                                                                            |
|   counter.WRITE(1) at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:51)                                                                                             |                                                                                                                                                            |
|   unlock(null) at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:90)                                                                                                 |                                                                                                                                                            |
|     _state.READ: LockedQueue@1 at MutexImpl.unlock(Mutex.kt:432)                                                                                                                 |                                                                                                                                                            |
|     removeFirstOrNull(): LockCont@1 at MutexImpl.unlock(Mutex.kt:316)                                                                                                            |                                                                                                                                                            |
|       getNext(): LockCont@1 at LockFreeLinkedListNode.removeFirstOrNull(LockFreeLinkedList.kt:282)                                                                               |                                                                                                                                                            |
|         _next.READ: LockCont@1 at LockFreeLinkedListNode.getNext(LockFreeLinkedList.kt:670)                                                                                      |                                                                                                                                                            |
|       remove(): true at LockFreeLinkedListNode.removeFirstOrNull(LockFreeLinkedList.kt:284)                                                                                      |                                                                                                                                                            |
|         removeOrNext(): null at LockFreeLinkedListNode.remove(LockFreeLinkedList.kt:241)                                                                                         |                                                                                                                                                            |
|           getNext(): LockedQueue@1 at LockFreeLinkedListNode.removeOrNext(LockFreeLinkedList.kt:247)                                                                             |                                                                                                                                                            |
|             _next.READ: LockedQueue@1 at LockFreeLinkedListNode.getNext(LockFreeLinkedList.kt:670)                                                                               |                                                                                                                                                            |
|           removed(): Removed@1 at LockFreeLinkedListNode.removeOrNext(LockFreeLinkedList.kt:250)                                                                                 |                                                                                                                                                            |
|             _removedRef.READ: null at LockFreeLinkedListNode.removed(LockFreeLinkedList.kt:67)                                                                                   |                                                                                                                                                            |
|             _removedRef.lazySet(Removed@1) at LockFreeLinkedListNode.removed(LockFreeLinkedList.kt:67)                                                                           |                                                                                                                                                            |
|           _next.compareAndSet(LockedQueue@1,Removed@1): true at LockFreeLinkedListNode.removeOrNext(LockFreeLinkedList.kt:251)                                                   |                                                                                                                                                            |
|           correctPrev(null): LockedQueue@1 at LockFreeLinkedListNode.removeOrNext(LockFreeLinkedList.kt:253)                                                                     |                                                                                                                                                            |
|             _prev.READ: LockCont@1 at LockFreeLinkedListNode.correctPrev(LockFreeLinkedList.kt:569)                                                                              |                                                                                                                                                            |
|             _next.READ: Removed@1 at LockFreeLinkedListNode.correctPrev(LockFreeLinkedList.kt:573)                                                                               |                                                                                                                                                            |
|             _prev.READ: LockedQueue@1 at LockFreeLinkedListNode.correctPrev(LockFreeLinkedList.kt:603)                                                                           |                                                                                                                                                            |
|             _next.READ: LockCont@1 at LockFreeLinkedListNode.correctPrev(LockFreeLinkedList.kt:573)                                                                              |                                                                                                                                                            |
|             _next.READ: Removed@1 at LockFreeLinkedListNode.correctPrev(LockFreeLinkedList.kt:573)                                                                               |                                                                                                                                                            |
|             _next.compareAndSet(LockCont@1,LockedQueue@1): true at LockFreeLinkedListNode.correctPrev(LockFreeLinkedList.kt:597)                                                 |                                                                                                                                                            |
|             _next.READ: LockedQueue@1 at LockFreeLinkedListNode.correctPrev(LockFreeLinkedList.kt:573)                                                                           |                                                                                                                                                            |
|             _prev.compareAndSet(LockCont@1,LockedQueue@1): true at LockFreeLinkedListNode.correctPrev(LockFreeLinkedList.kt:579)                                                 |                                                                                                                                                            |
|     tryResumeLockWaiter(): RESUME_TOKEN at MutexImpl.unlock(Mutex.kt:321)                                                                                                        |                                                                                                                                                            |
|       tryResume(Unit@1,null,@1): RESUME_TOKEN at MutexImpl$LockCont.tryResumeLockWaiter(Mutex.kt:363)                                                                            |                                                                                                                                                            |
|         tryResumeImpl(Unit@1,null,@1): RESUME_TOKEN at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:471)                                                 |                                                                                                                                                            |
|           _state.READ: RemoveOnCancel@1 at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:600)                                                         |                                                                                                                                                            |
|           resumeMode.READ: 2 at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:428)                                                                    |                                                                                                                                                            |
|           _state.compareAndSet(RemoveOnCancel@1,CompletedContinuation@1): true at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:429)                  |                                                                                                                                                            |
|           detachChildIfNonResuable() at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:430)                                                            |                                                                                                                                                            |
|             detachChild$kotlinx_coroutines_core() at CancellableContinuationImpl.detachChildIfNonResuable(CancellableContinuationImpl.kt:453)                                    |                                                                                                                                                            |
|               getParentHandle(): null at CancellableContinuationImpl.detachChild$kotlinx_coroutines_core(CancellableContinuationImpl.kt:461)                                     |                                                                                                                                                            |
|                 _parentHandle.READ: null at CancellableContinuationImpl.getParentHandle(CancellableContinuationImpl.kt:77)                                                       |                                                                                                                                                            |
|               setParentHandle(NonDisposableHandle@1) at CancellableContinuationImpl.detachChild$kotlinx_coroutines_core(CancellableContinuationImpl.kt:463)                      |                                                                                                                                                            |
|                 _parentHandle.WRITE(NonDisposableHandle@1) at CancellableContinuationImpl.setParentHandle(CancellableContinuationImpl.kt:78)                                     |                                                                                                                                                            |
|     owner.WRITE(LOCKED) at MutexImpl.unlock(Mutex.kt:323)                                                                                                                        |                                                                                                                                                            |
|     completeResumeLockWaiter(RESUME_TOKEN) at MutexImpl.unlock(Mutex.kt:324)                                                                                                     |                                                                                                                                                            |
|       completeResume(RESUME_TOKEN) at MutexImpl$LockCont.completeResumeLockWaiter(Mutex.kt:367)                                                                                  |                                                                                                                                                            |
|         resumeMode.READ: 2 at CancellableContinuationImpl.completeResume(CancellableContinuationImpl.kt:479)                                                                     |                                                                                                                                                            |
|         dispatchResume(2) at CancellableContinuationImpl.completeResume(CancellableContinuationImpl.kt:479)                                                                      |                                                                                                                                                            |
|           tryResume(): false at CancellableContinuationImpl.dispatchResume(CancellableContinuationImpl.kt:360)                                                                   |                                                                                                                                                            |
|             _decision.READ: 1 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:590)                                                                       |                                                                                                                                                            |
|           dispatch(<cont>,2) at CancellableContinuationImpl.dispatchResume(CancellableContinuationImpl.kt:362)                                                                   |                                                                                                                                                            |
|             resume(<cont>,<cont>,false) at DispatchedTaskKt.dispatch(DispatchedTask.kt:166)                                                                                      |                                                                                                                                                            |
|               takeState$kotlinx_coroutines_core(): CompletedContinuation@1 at DispatchedTaskKt.resume(DispatchedTask.kt:173)                                                     |                                                                                                                                                            |
|                 getState$kotlinx_coroutines_core(): CompletedContinuation@1 at CancellableContinuationImpl.takeState$kotlinx_coroutines_core(CancellableContinuationImpl.kt:153) |                                                                                                                                                            |
|                   _state.READ: CompletedContinuation@1 at CancellableContinuationImpl.getState$kotlinx_coroutines_core(CancellableContinuationImpl.kt:80)                        |                                                                                                                                                            |
|   canEnterForbiddenBlock.READ: true at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:53)                                                                            |                                                                                                                                                            |
|   result: -1                                                                                                                                                                     |                                                                                                                                                            |
|   thread is finished                                                                                                                                                             |                                                                                                                                                            |
|                                                                                                                                                                                  |   counter.READ: 1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:42)                                                                        |
|                                                                                                                                                                                  |   counter.WRITE(2) at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:42)                                                                       |
|                                                                                                                                                                                  |   unlock(null) at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:79)                                                                           |
|                                                                                                                                                                                  |     _state.READ: LockedQueue@1 at MutexImpl.unlock(Mutex.kt:432)                                                                                           |
|                                                                                                                                                                                  |     removeFirstOrNull(): null at MutexImpl.unlock(Mutex.kt:316)                                                                                            |
|                                                                                                                                                                                  |       getNext(): LockedQueue@1 at LockFreeLinkedListNode.removeFirstOrNull(LockFreeLinkedList.kt:282)                                                      |
|                                                                                                                                                                                  |         _next.READ: LockedQueue@1 at LockFreeLinkedListNode.getNext(LockFreeLinkedList.kt:670)                                                             |
|                                                                                                                                                                                  |     _state.compareAndSet(LockedQueue@1,UnlockOp@1): true at MutexImpl.unlock(Mutex.kt:319)                                                                 |
|                                                                                                                                                                                  |     perform(MutexImpl@1): null at MutexImpl.unlock(Mutex.kt:319)                                                                                           |
|                                                                                                                                                                                  |       _consensus.READ: NO_DECISION at AtomicOp.perform(Atomic.kt:94)                                                                                       |
|                                                                                                                                                                                  |       prepare(MutexImpl@1): null at AtomicOp.perform(Atomic.kt:96)                                                                                         |
|                                                                                                                                                                                  |         prepare(MutexImpl@1): null at MutexImpl$UnlockOp.prepare(Mutex.kt:388)                                                                             |
|                                                                                                                                                                                  |           isEmpty(): true at MutexImpl$UnlockOp.prepare(Mutex.kt:392)                                                                                      |
|                                                                                                                                                                                  |             getNext(): LockedQueue@1 at LockFreeLinkedListHead.isEmpty(LockFreeLinkedList.kt:635)                                                          |
|                                                                                                                                                                                  |               _next.READ: LockedQueue@1 at LockFreeLinkedListNode.getNext(LockFreeLinkedList.kt:670)                                                       |
|                                                                                                                                                                                  |       decide(null): null at AtomicOp.perform(Atomic.kt:96)                                                                                                 |
|                                                                                                                                                                                  |         _consensus.READ: NO_DECISION at AtomicOp.decide(Atomic.kt:80)                                                                                      |
|                                                                                                                                                                                  |         _consensus.compareAndSet(NO_DECISION,null): true at AtomicOp.decide(Atomic.kt:82)                                                                  |
|                                                                                                                                                                                  |       complete(MutexImpl@1,null) at AtomicOp.perform(Atomic.kt:99)                                                                                         |
|                                                                                                                                                                                  |         complete(MutexImpl@1,null) at MutexImpl$UnlockOp.complete(Mutex.kt:388)                                                                            |
|                                                                                                                                                                                  |           _state.compareAndSet(UnlockOp@1,Empty@2): true at MutexImpl$UnlockOp.complete(Mutex.kt:396)                                                      |
|                                                                                                                                                                                  |   canEnterForbiddenBlock.WRITE(false) at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:44)                                                    |
|                                                                                                                                                                                  |   result: SUSPENDED + void                                                                                                                                 |
|                                                                                                                                                                                  |   thread is finished                                                                                                                                       |