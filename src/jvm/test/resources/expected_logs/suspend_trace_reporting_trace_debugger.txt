= Invalid execution results =
| ----------------------- |
|  Thread 1   | Thread 2  |
| ----------------------- |
| foo(): void | bar(): -1 |
| ----------------------- |

The following interleaving leads to the error:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                             Thread 1                                                                              |                                                                 Thread 2                                                                  |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                                                   | bar(): -1                                                                                                                                 |
|                                                                                                                                                                   |   $this$withLock_u24default$iv = <cont> at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:0)                                  |
|                                                                                                                                                                   |   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:0)                                  |
|                                                                                                                                                                   |   owner$iv = null at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:0)                                                        |
|                                                                                                                                                                   |   $i$f$withLock = COROUTINE_SUSPENDED at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:37)                                   |
|                                                                                                                                                                   |   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:37)                                 |
|                                                                                                                                                                   |   owner$iv ➜ null at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:37)                                                       |
|                                                                                                                                                                   |   barStarted = true at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:38)                                                     |
|                                                                                                                                                                   |   $i$a$-withLock$default-SuspendTraceReportingTest$bar$2 = MutexImpl#1 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:39)  |
|                                                                                                                                                                   |   $i$a$-withLock$default-SuspendTraceReportingTest$bar$2 ➜ MutexImpl#1 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194) |
|                                                                                                                                                                   |   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194)                                |
|                                                                                                                                                                   |   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194)                                |
|                                                                                                                                                                   |   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194)                                |
|                                                                                                                                                                   |   $i$a$-withLock$default-SuspendTraceReportingTest$bar$2 ➜ MutexImpl#1 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194) |
|                                                                                                                                                                   |   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194)                                |
|                                                                                                                                                                   |   lock.lock(null) at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194)                                                      |
|                                                                                                                                                                   |   $i$f$withLock ➜ COROUTINE_SUSPENDED at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194)                                  |
|                                                                                                                                                                   |   $result = 0 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:196)                                                          |
|                                                                                                                                                                   |   counter ➜ 0 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:40)                                                           |
|                                                                                                                                                                   |   $continuation = 0 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:40)                                                     |
|                                                                                                                                                                   |   $continuation ➜ 0 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:40)                                                     |
|                                                                                                                                                                   |   counter = 1 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:40)                                                           |
|                                                                                                                                                                   |   $continuation ➜ 0 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:40)                                                     |
|                                                                                                                                                                   |   $i$a$-withLock$default-SuspendTraceReportingTest$bar$2 ➜ MutexImpl#1 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:198) |
|                                                                                                                                                                   |   lock.unlock(null) at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:198)                                                    |
|                                                                                                                                                                   |     isLocked(): true at MutexImpl.unlock(Mutex.kt:213)                                                                                    |
|                                                                                                                                                                   |     owner.get(): null at MutexImpl.unlock(Mutex.kt:215)                                                                                   |
|                                                                                                                                                                   |     $i$a$-check-MutexImpl$unlock$1 = null at MutexImpl.unlock(Mutex.kt:215)                                                               |
|                                                                                                                                                                   |     $i$a$-check-MutexImpl$unlock$1 ➜ null at MutexImpl.unlock(Mutex.kt:216)                                                               |
|                                                                                                                                                                   |     $i$a$-check-MutexImpl$unlock$1 ➜ null at MutexImpl.unlock(Mutex.kt:218)                                                               |
|                                                                                                                                                                   |     owner ➜ null at MutexImpl.unlock(Mutex.kt:218)                                                                                        |
|                                                                                                                                                                   |     $i$a$-check-MutexImpl$unlock$1 ➜ null at MutexImpl.unlock(Mutex.kt:220)                                                               |
|                                                                                                                                                                   |     switch                                                                                                                                |
| foo()                                                                                                                                                             |                                                                                                                                           |
|   $this$withLock_u24default$iv = <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                          |                                                                                                                                           |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                          |                                                                                                                                           |
|   owner$iv = null at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                                                |                                                                                                                                           |
|   $i$f$withLock = COROUTINE_SUSPENDED at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                           |                                                                                                                                           |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                         |                                                                                                                                           |
|   owner$iv ➜ null at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                                               |                                                                                                                                           |
|   barStarted ➜ true at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:29)                                                                             |                                                                                                                                           |
|   canEnterForbiddenBlock = true at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:29)                                                                 |                                                                                                                                           |
|   $i$a$-withLock$default-SuspendTraceReportingTest$foo$2 = MutexImpl#1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:30)                          |                                                                                                                                           |
|   $i$a$-withLock$default-SuspendTraceReportingTest$foo$2 ➜ MutexImpl#1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                         |                                                                                                                                           |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                                                        |                                                                                                                                           |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                                                        |                                                                                                                                           |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                                                        |                                                                                                                                           |
|   $i$a$-withLock$default-SuspendTraceReportingTest$foo$2 ➜ MutexImpl#1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                         |                                                                                                                                           |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                                                        |                                                                                                                                           |
|   lock.lock(null): COROUTINE_SUSPENDED at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                                                         |                                                                                                                                           |
|     owner ➜ null at MutexImpl.lock(Mutex.kt:0)                                                                                                                    |                                                                                                                                           |
|     $completion ➜ <cont> at MutexImpl.lock(Mutex.kt:0)                                                                                                            |                                                                                                                                           |
|     MutexImpl.lock$suspendImpl(MutexImpl#1, null, <cont>): COROUTINE_SUSPENDED at MutexImpl.lock(Mutex.kt:0)                                                      |                                                                                                                                           |
|       $this ➜ MutexImpl#1 at MutexImpl.lock$suspendImpl(Mutex.kt:171)                                                                                             |                                                                                                                                           |
|       owner ➜ null at MutexImpl.lock$suspendImpl(Mutex.kt:171)                                                                                                    |                                                                                                                                           |
|       SuspendTraceReportingTest#1.lock.tryLock(null): false at MutexImpl.lock$suspendImpl(Mutex.kt:171)                                                           |                                                                                                                                           |
|       $this ➜ MutexImpl#1 at MutexImpl.lock$suspendImpl(Mutex.kt:172)                                                                                             |                                                                                                                                           |
|       owner ➜ null at MutexImpl.lock$suspendImpl(Mutex.kt:172)                                                                                                    |                                                                                                                                           |
|       $completion ➜ <cont> at MutexImpl.lock$suspendImpl(Mutex.kt:172)                                                                                            |                                                                                                                                           |
|       SuspendTraceReportingTest#1.lock.lockSuspend(null): COROUTINE_SUSPENDED at MutexImpl.lock$suspendImpl(Mutex.kt:172)                                         |                                                                                                                                           |
|         $i$f$suspendCancellableCoroutineReusable = 0 at MutexImpl.lockSuspend(Mutex.kt:175)                                                                       |                                                                                                                                           |
|         $completion ➜ <cont> at MutexImpl.lockSuspend(Mutex.kt:311)                                                                                               |                                                                                                                                           |
|         uCont$iv = <cont> at MutexImpl.lockSuspend(Mutex.kt:311)                                                                                                  |                                                                                                                                           |
|         $i$a$-suspendCoroutineUninterceptedOrReturn-CancellableContinuationKt$suspendCancellableCoroutineReusable$2$iv = 0 at MutexImpl.lockSuspend(Mutex.kt:311) |                                                                                                                                           |
|         uCont$iv ➜ <cont> at MutexImpl.lockSuspend(Mutex.kt:312)                                                                                                  |                                                                                                                                           |
|         CancellableContinuationKt.getOrCreateCancellableContinuation(<cont>): <cont> at MutexImpl.lockSuspend(Mutex.kt:312)                                       |                                                                                                                                           |
|         cancellable$iv = <cont> at MutexImpl.lockSuspend(Mutex.kt:312)                                                                                            |                                                                                                                                           |
|         cancellable$iv ➜ <cont> at MutexImpl.lockSuspend(Mutex.kt:314)                                                                                            |                                                                                                                                           |
|         cont = <cont> at MutexImpl.lockSuspend(Mutex.kt:314)                                                                                                      |                                                                                                                                           |
|         $i$a$-suspendCancellableCoroutineReusable-MutexImpl$lockSuspend$2 = 0 at MutexImpl.lockSuspend(Mutex.kt:314)                                              |                                                                                                                                           |
|         cont ➜ <cont> at MutexImpl.lockSuspend(Mutex.kt:176)                                                                                                      |                                                                                                                                           |
|         owner ➜ null at MutexImpl.lockSuspend(Mutex.kt:176)                                                                                                       |                                                                                                                                           |
|         contWithOwner = <cont> at MutexImpl.lockSuspend(Mutex.kt:176)                                                                                             |                                                                                                                                           |
|         contWithOwner ➜ <cont> at MutexImpl.lockSuspend(Mutex.kt:177)                                                                                             |                                                                                                                                           |
|         acquire(<cont>) at MutexImpl.lockSuspend(Mutex.kt:177)                                                                                                    |                                                                                                                                           |
|         cancellable$iv ➜ <cont> at MutexImpl.lockSuspend(Mutex.kt:321)                                                                                            |                                                                                                                                           |
|         <cont>.getResult(): COROUTINE_SUSPENDED at MutexImpl.lockSuspend(Mutex.kt:321)                                                                            |                                                                                                                                           |
|           isReusable(): false at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:297)                                                        |                                                                                                                                           |
|           isReusable = 0 at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:297)                                                             |                                                                                                                                           |
|           trySuspend(): true at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:300)                                                         |                                                                                                                                           |
|           getParentHandle(): null at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:310)                                                    |                                                                                                                                           |
|           installParentHandle(): ChildContinuation#1 at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:311)                                 |                                                                                                                                           |
|           isReusable ➜ 0 at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:318)                                                             |                                                                                                                                           |
|         $completion ➜ <cont> at MutexImpl.lockSuspend(Mutex.kt:311)                                                                                               |                                                                                                                                           |
|   $i$f$withLock ➜ COROUTINE_SUSPENDED at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                                                          |                                                                                                                                           |
|   $i$f$withLock ➜ COROUTINE_SUSPENDED at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                           |                                                                                                                                           |
|           switch (reason: coroutine is suspended)                                                                                                                 |                                                                                                                                           |
|                                                                                                                                                                   |     owner.compareAndSet(null, <NO_OWNER>): true at MutexImpl.unlock(Mutex.kt:220)                                                         |
|                                                                                                                                                                   |     release() at MutexImpl.unlock(Mutex.kt:222)                                                                                           |
|                                                                                                                                                                   |   canEnterForbiddenBlock ➜ true at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:42)                                         |
|                                                                                                                                                                   |   result: -1                                                                                                                              |
|   $result ➜ Unit at SuspendTraceReportingTest$foo$1.invokeSuspend(SuspendTraceReportingTest.kt:0)                                                                 |                                                                                                                                           |
|   $this$withLock_u24default$iv = <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                          |                                                                                                                                           |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                          |                                                                                                                                           |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                          |                                                                                                                                           |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                          |                                                                                                                                           |
|   owner$iv = Unit at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                                                |                                                                                                                                           |
|   $i$f$withLock = COROUTINE_SUSPENDED at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                           |                                                                                                                                           |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                         |                                                                                                                                           |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                         |                                                                                                                                           |
|   $i$a$-withLock$default-SuspendTraceReportingTest$foo$2 = MutexImpl#1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                          |                                                                                                                                           |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                         |                                                                                                                                           |
|   owner$iv ➜ Unit at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                                               |                                                                                                                                           |
|   owner$iv ➜ Unit at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                                               |                                                                                                                                           |
|   $result = 0 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:186)                                                                                  |                                                                                                                                           |
|   counter ➜ 1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:31)                                                                                   |                                                                                                                                           |
|   $continuation = 1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:31)                                                                             |                                                                                                                                           |
|   $continuation ➜ 1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:31)                                                                             |                                                                                                                                           |
|   counter = 2 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:31)                                                                                   |                                                                                                                                           |
|   $continuation ➜ 1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:31)                                                                             |                                                                                                                                           |
|   $i$a$-withLock$default-SuspendTraceReportingTest$foo$2 ➜ MutexImpl#1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:188)                         |                                                                                                                                           |
|   lock.unlock(null) at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:188)                                                                            |                                                                                                                                           |
|   canEnterForbiddenBlock = false at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:33)                                                                |                                                                                                                                           |
|   result: void                                                                                                                                                    |                                                                                                                                           |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                           Thread 1                                                                                           |                                                                                                     Thread 2                                                                                                      |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                                                                              | bar(): -1                                                                                                                                                                                                         |
|                                                                                                                                                                                              |   $this$withLock_u24default$iv = <cont> at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:0)                                                                                                          |
|                                                                                                                                                                                              |   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:0)                                                                                                          |
|                                                                                                                                                                                              |   owner$iv = null at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:0)                                                                                                                                |
|                                                                                                                                                                                              |   $i$f$withLock = COROUTINE_SUSPENDED at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:37)                                                                                                           |
|                                                                                                                                                                                              |   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:37)                                                                                                         |
|                                                                                                                                                                                              |   owner$iv ➜ null at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:37)                                                                                                                               |
|                                                                                                                                                                                              |   barStarted = true at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:38)                                                                                                                             |
|                                                                                                                                                                                              |   $i$a$-withLock$default-SuspendTraceReportingTest$bar$2 = MutexImpl#1 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:39)                                                                          |
|                                                                                                                                                                                              |   $i$a$-withLock$default-SuspendTraceReportingTest$bar$2 ➜ MutexImpl#1 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194)                                                                         |
|                                                                                                                                                                                              |   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194)                                                                                                        |
|                                                                                                                                                                                              |   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194)                                                                                                        |
|                                                                                                                                                                                              |   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194)                                                                                                        |
|                                                                                                                                                                                              |   $i$a$-withLock$default-SuspendTraceReportingTest$bar$2 ➜ MutexImpl#1 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194)                                                                         |
|                                                                                                                                                                                              |   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194)                                                                                                        |
|                                                                                                                                                                                              |   lock.lock(null) at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194)                                                                                                                              |
|                                                                                                                                                                                              |     owner ➜ null at MutexImpl.lock(Mutex.kt:0)                                                                                                                                                                    |
|                                                                                                                                                                                              |     $completion ➜ <cont> at MutexImpl.lock(Mutex.kt:0)                                                                                                                                                            |
|                                                                                                                                                                                              |     MutexImpl.lock$suspendImpl(MutexImpl#1, null, <cont>) at MutexImpl.lock(Mutex.kt:0)                                                                                                                           |
|                                                                                                                                                                                              |       $this ➜ MutexImpl#1 at MutexImpl.lock$suspendImpl(Mutex.kt:171)                                                                                                                                             |
|                                                                                                                                                                                              |       owner ➜ null at MutexImpl.lock$suspendImpl(Mutex.kt:171)                                                                                                                                                    |
|                                                                                                                                                                                              |       SuspendTraceReportingTest#1.lock.tryLock(null): true at MutexImpl.lock$suspendImpl(Mutex.kt:171)                                                                                                            |
|                                                                                                                                                                                              |         owner ➜ null at MutexImpl.tryLock(Mutex.kt:183)                                                                                                                                                           |
|                                                                                                                                                                                              |         tryLockImpl(null): 0 at MutexImpl.tryLock(Mutex.kt:183)                                                                                                                                                   |
|                                                                                                                                                                                              |           tryAcquire(): true at MutexImpl.tryLockImpl(Mutex.kt:189)                                                                                                                                               |
|                                                                                                                                                                                              |             _availablePermits.get(): 1 at SemaphoreImpl.tryAcquire(Semaphore.kt:159)                                                                                                                              |
|                                                                                                                                                                                              |             p = 1 at SemaphoreImpl.tryAcquire(Semaphore.kt:159)                                                                                                                                                   |
|                                                                                                                                                                                              |             p ➜ 1 at SemaphoreImpl.tryAcquire(Semaphore.kt:164)                                                                                                                                                   |
|                                                                                                                                                                                              |             p ➜ 1 at SemaphoreImpl.tryAcquire(Semaphore.kt:170)                                                                                                                                                   |
|                                                                                                                                                                                              |             p ➜ 1 at SemaphoreImpl.tryAcquire(Semaphore.kt:171)                                                                                                                                                   |
|                                                                                                                                                                                              |             p ➜ 1 at SemaphoreImpl.tryAcquire(Semaphore.kt:171)                                                                                                                                                   |
|                                                                                                                                                                                              |             _availablePermits.compareAndSet(1, 0): true at SemaphoreImpl.tryAcquire(Semaphore.kt:171)                                                                                                             |
|                                                                                                                                                                                              |           $i$a$-assert-MutexImpl$tryLockImpl$1 = 0 at MutexImpl.tryLockImpl(Mutex.kt:323)                                                                                                                         |
|                                                                                                                                                                                              |           owner.get(): <NO_OWNER> at MutexImpl.tryLockImpl(Mutex.kt:190)                                                                                                                                          |
|                                                                                                                                                                                              |           owner ➜ null at MutexImpl.tryLockImpl(Mutex.kt:191)                                                                                                                                                     |
|                                                                                                                                                                                              |           owner.set(null) at MutexImpl.tryLockImpl(Mutex.kt:191)                                                                                                                                                  |
|                                                                                                                                                                                              |   $i$f$withLock ➜ COROUTINE_SUSPENDED at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:194)                                                                                                          |
|                                                                                                                                                                                              |   $result = 0 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:196)                                                                                                                                  |
|                                                                                                                                                                                              |   counter ➜ 0 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:40)                                                                                                                                   |
|                                                                                                                                                                                              |   $continuation = 0 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:40)                                                                                                                             |
|                                                                                                                                                                                              |   $continuation ➜ 0 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:40)                                                                                                                             |
|                                                                                                                                                                                              |   counter = 1 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:40)                                                                                                                                   |
|                                                                                                                                                                                              |   $continuation ➜ 0 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:40)                                                                                                                             |
|                                                                                                                                                                                              |   $i$a$-withLock$default-SuspendTraceReportingTest$bar$2 ➜ MutexImpl#1 at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:198)                                                                         |
|                                                                                                                                                                                              |   lock.unlock(null) at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:198)                                                                                                                            |
|                                                                                                                                                                                              |     isLocked(): true at MutexImpl.unlock(Mutex.kt:213)                                                                                                                                                            |
|                                                                                                                                                                                              |       getAvailablePermits(): 0 at MutexImpl.isLocked(Mutex.kt:149)                                                                                                                                                |
|                                                                                                                                                                                              |         _availablePermits.get(): 0 at SemaphoreImpl.getAvailablePermits(Semaphore.kt:152)                                                                                                                         |
|                                                                                                                                                                                              |     owner.get(): null at MutexImpl.unlock(Mutex.kt:215)                                                                                                                                                           |
|                                                                                                                                                                                              |     $i$a$-check-MutexImpl$unlock$1 = null at MutexImpl.unlock(Mutex.kt:215)                                                                                                                                       |
|                                                                                                                                                                                              |     $i$a$-check-MutexImpl$unlock$1 ➜ null at MutexImpl.unlock(Mutex.kt:216)                                                                                                                                       |
|                                                                                                                                                                                              |     $i$a$-check-MutexImpl$unlock$1 ➜ null at MutexImpl.unlock(Mutex.kt:218)                                                                                                                                       |
|                                                                                                                                                                                              |     owner ➜ null at MutexImpl.unlock(Mutex.kt:218)                                                                                                                                                                |
|                                                                                                                                                                                              |     $i$a$-check-MutexImpl$unlock$1 ➜ null at MutexImpl.unlock(Mutex.kt:220)                                                                                                                                       |
|                                                                                                                                                                                              |     switch                                                                                                                                                                                                        |
| foo()                                                                                                                                                                                        |                                                                                                                                                                                                                   |
|   $this$withLock_u24default$iv = <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                                                     |                                                                                                                                                                                                                   |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                                                     |                                                                                                                                                                                                                   |
|   owner$iv = null at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                                                                           |                                                                                                                                                                                                                   |
|   $i$f$withLock = COROUTINE_SUSPENDED at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                                                      |                                                                                                                                                                                                                   |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                                                    |                                                                                                                                                                                                                   |
|   owner$iv ➜ null at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                                                                          |                                                                                                                                                                                                                   |
|   barStarted ➜ true at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:29)                                                                                                        |                                                                                                                                                                                                                   |
|   canEnterForbiddenBlock = true at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:29)                                                                                            |                                                                                                                                                                                                                   |
|   $i$a$-withLock$default-SuspendTraceReportingTest$foo$2 = MutexImpl#1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:30)                                                     |                                                                                                                                                                                                                   |
|   $i$a$-withLock$default-SuspendTraceReportingTest$foo$2 ➜ MutexImpl#1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                                                    |                                                                                                                                                                                                                   |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                                                                                   |                                                                                                                                                                                                                   |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                                                                                   |                                                                                                                                                                                                                   |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                                                                                   |                                                                                                                                                                                                                   |
|   $i$a$-withLock$default-SuspendTraceReportingTest$foo$2 ➜ MutexImpl#1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                                                    |                                                                                                                                                                                                                   |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                                                                                   |                                                                                                                                                                                                                   |
|   lock.lock(null): COROUTINE_SUSPENDED at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                                                                                    |                                                                                                                                                                                                                   |
|     owner ➜ null at MutexImpl.lock(Mutex.kt:0)                                                                                                                                               |                                                                                                                                                                                                                   |
|     $completion ➜ <cont> at MutexImpl.lock(Mutex.kt:0)                                                                                                                                       |                                                                                                                                                                                                                   |
|     MutexImpl.lock$suspendImpl(MutexImpl#1, null, <cont>): COROUTINE_SUSPENDED at MutexImpl.lock(Mutex.kt:0)                                                                                 |                                                                                                                                                                                                                   |
|       $this ➜ MutexImpl#1 at MutexImpl.lock$suspendImpl(Mutex.kt:171)                                                                                                                        |                                                                                                                                                                                                                   |
|       owner ➜ null at MutexImpl.lock$suspendImpl(Mutex.kt:171)                                                                                                                               |                                                                                                                                                                                                                   |
|       SuspendTraceReportingTest#1.lock.tryLock(null): false at MutexImpl.lock$suspendImpl(Mutex.kt:171)                                                                                      |                                                                                                                                                                                                                   |
|         owner ➜ null at MutexImpl.tryLock(Mutex.kt:183)                                                                                                                                      |                                                                                                                                                                                                                   |
|         tryLockImpl(null): 1 at MutexImpl.tryLock(Mutex.kt:183)                                                                                                                              |                                                                                                                                                                                                                   |
|           tryAcquire(): false at MutexImpl.tryLockImpl(Mutex.kt:189)                                                                                                                         |                                                                                                                                                                                                                   |
|             _availablePermits.get(): 0 at SemaphoreImpl.tryAcquire(Semaphore.kt:159)                                                                                                         |                                                                                                                                                                                                                   |
|             p = 0 at SemaphoreImpl.tryAcquire(Semaphore.kt:159)                                                                                                                              |                                                                                                                                                                                                                   |
|             p ➜ 0 at SemaphoreImpl.tryAcquire(Semaphore.kt:164)                                                                                                                              |                                                                                                                                                                                                                   |
|             p ➜ 0 at SemaphoreImpl.tryAcquire(Semaphore.kt:170)                                                                                                                              |                                                                                                                                                                                                                   |
|           owner ➜ null at MutexImpl.tryLockImpl(Mutex.kt:197)                                                                                                                                |                                                                                                                                                                                                                   |
|       $this ➜ MutexImpl#1 at MutexImpl.lock$suspendImpl(Mutex.kt:172)                                                                                                                        |                                                                                                                                                                                                                   |
|       owner ➜ null at MutexImpl.lock$suspendImpl(Mutex.kt:172)                                                                                                                               |                                                                                                                                                                                                                   |
|       $completion ➜ <cont> at MutexImpl.lock$suspendImpl(Mutex.kt:172)                                                                                                                       |                                                                                                                                                                                                                   |
|       SuspendTraceReportingTest#1.lock.lockSuspend(null): COROUTINE_SUSPENDED at MutexImpl.lock$suspendImpl(Mutex.kt:172)                                                                    |                                                                                                                                                                                                                   |
|         $i$f$suspendCancellableCoroutineReusable = 0 at MutexImpl.lockSuspend(Mutex.kt:175)                                                                                                  |                                                                                                                                                                                                                   |
|         $completion ➜ <cont> at MutexImpl.lockSuspend(Mutex.kt:311)                                                                                                                          |                                                                                                                                                                                                                   |
|         uCont$iv = <cont> at MutexImpl.lockSuspend(Mutex.kt:311)                                                                                                                             |                                                                                                                                                                                                                   |
|         $i$a$-suspendCoroutineUninterceptedOrReturn-CancellableContinuationKt$suspendCancellableCoroutineReusable$2$iv = 0 at MutexImpl.lockSuspend(Mutex.kt:311)                            |                                                                                                                                                                                                                   |
|         uCont$iv ➜ <cont> at MutexImpl.lockSuspend(Mutex.kt:312)                                                                                                                             |                                                                                                                                                                                                                   |
|         CancellableContinuationKt.getOrCreateCancellableContinuation(<cont>): <cont> at MutexImpl.lockSuspend(Mutex.kt:312)                                                                  |                                                                                                                                                                                                                   |
|           delegate ➜ <cont> at CancellableContinuationKt.getOrCreateCancellableContinuation(CancellableContinuation.kt:347)                                                                  |                                                                                                                                                                                                                   |
|           delegate ➜ <cont> at CancellableContinuationKt.getOrCreateCancellableContinuation(CancellableContinuation.kt:348)                                                                  |                                                                                                                                                                                                                   |
|         cancellable$iv = <cont> at MutexImpl.lockSuspend(Mutex.kt:312)                                                                                                                       |                                                                                                                                                                                                                   |
|         cancellable$iv ➜ <cont> at MutexImpl.lockSuspend(Mutex.kt:314)                                                                                                                       |                                                                                                                                                                                                                   |
|         cont = <cont> at MutexImpl.lockSuspend(Mutex.kt:314)                                                                                                                                 |                                                                                                                                                                                                                   |
|         $i$a$-suspendCancellableCoroutineReusable-MutexImpl$lockSuspend$2 = 0 at MutexImpl.lockSuspend(Mutex.kt:314)                                                                         |                                                                                                                                                                                                                   |
|         cont ➜ <cont> at MutexImpl.lockSuspend(Mutex.kt:176)                                                                                                                                 |                                                                                                                                                                                                                   |
|         owner ➜ null at MutexImpl.lockSuspend(Mutex.kt:176)                                                                                                                                  |                                                                                                                                                                                                                   |
|         contWithOwner = <cont> at MutexImpl.lockSuspend(Mutex.kt:176)                                                                                                                        |                                                                                                                                                                                                                   |
|         contWithOwner ➜ <cont> at MutexImpl.lockSuspend(Mutex.kt:177)                                                                                                                        |                                                                                                                                                                                                                   |
|         acquire(<cont>) at MutexImpl.lockSuspend(Mutex.kt:177)                                                                                                                               |                                                                                                                                                                                                                   |
|           this_$iv = MutexImpl#1 at SemaphoreImpl.acquire(Semaphore.kt:197)                                                                                                                  |                                                                                                                                                                                                                   |
|           $i$f$acquire = 0 at SemaphoreImpl.acquire(Semaphore.kt:197)                                                                                                                        |                                                                                                                                                                                                                   |
|           this_$iv ➜ MutexImpl#1 at SemaphoreImpl.acquire(Semaphore.kt:413)                                                                                                                  |                                                                                                                                                                                                                   |
|           decPermits(): 0 at SemaphoreImpl.acquire(Semaphore.kt:413)                                                                                                                         |                                                                                                                                                                                                                   |
|             _availablePermits.getAndDecrement(): 0 at SemaphoreImpl.decPermits(Semaphore.kt:237)                                                                                             |                                                                                                                                                                                                                   |
|             p = 0 at SemaphoreImpl.decPermits(Semaphore.kt:237)                                                                                                                              |                                                                                                                                                                                                                   |
|             p ➜ 0 at SemaphoreImpl.decPermits(Semaphore.kt:241)                                                                                                                              |                                                                                                                                                                                                                   |
|             p ➜ 0 at SemaphoreImpl.decPermits(Semaphore.kt:243)                                                                                                                              |                                                                                                                                                                                                                   |
|           p$iv = 0 at SemaphoreImpl.acquire(Semaphore.kt:413)                                                                                                                                |                                                                                                                                                                                                                   |
|           p$iv ➜ 0 at SemaphoreImpl.acquire(Semaphore.kt:415)                                                                                                                                |                                                                                                                                                                                                                   |
|           waiter ➜ <cont> at SemaphoreImpl.acquire(Semaphore.kt:420)                                                                                                                         |                                                                                                                                                                                                                   |
|           cont = <cont> at SemaphoreImpl.acquire(Semaphore.kt:420)                                                                                                                           |                                                                                                                                                                                                                   |
|           cont ➜ <cont> at SemaphoreImpl.acquire(Semaphore.kt:199)                                                                                                                           |                                                                                                                                                                                                                   |
|           cont ➜ <cont> at SemaphoreImpl.acquire(Semaphore.kt:199)                                                                                                                           |                                                                                                                                                                                                                   |
|           addAcquireToQueue(<cont>): true at SemaphoreImpl.acquire(Semaphore.kt:199)                                                                                                         |                                                                                                                                                                                                                   |
|             tail.get(): SemaphoreSegment#1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:286)                                                                                              |                                                                                                                                                                                                                   |
|             curTail = SemaphoreSegment#1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:286)                                                                                                |                                                                                                                                                                                                                   |
|             enqIdx.getAndIncrement(): 0 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:287)                                                                                                 |                                                                                                                                                                                                                   |
|             enqIdx = 0 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:287)                                                                                                                  |                                                                                                                                                                                                                   |
|             createNewSegment = createNewSegment$1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:288)                                                                                       |                                                                                                                                                                                                                   |
|             segment = AtomicReferenceFieldUpdaterImpl#1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:288)                                                                                 |                                                                                                                                                                                                                   |
|             enqIdx ➜ 0 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:289)                                                                                                                  |                                                                                                                                                                                                                   |
|             curTail ➜ SemaphoreSegment#1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:432)                                                                                                |                                                                                                                                                                                                                   |
|             createNewSegment ➜ createNewSegment$1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:432)                                                                                       |                                                                                                                                                                                                                   |
|             ConcurrentLinkedListKt.findSegmentInternal(SemaphoreSegment#1, 0, createNewSegment$1): SemaphoreSegment#1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:432)                   |                                                                                                                                                                                                                   |
|               $this$findSegmentInternal ➜ SemaphoreSegment#1 at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:25)                                                       |                                                                                                                                                                                                                   |
|               cur = SemaphoreSegment#1 at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:25)                                                                             |                                                                                                                                                                                                                   |
|               cur ➜ SemaphoreSegment#1 at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:26)                                                                             |                                                                                                                                                                                                                   |
|               id ➜ 0 at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:26)                                                                                               |                                                                                                                                                                                                                   |
|               cur ➜ SemaphoreSegment#1 at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:26)                                                                             |                                                                                                                                                                                                                   |
|               SemaphoreSegment#1.isRemoved(): false at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:26)                                                                |                                                                                                                                                                                                                   |
|                 cleanedAndPointers.get(): 131072 at Segment.isRemoved(ConcurrentLinkedList.kt:222)                                                                                           |                                                                                                                                                                                                                   |
|               cur ➜ SemaphoreSegment#1 at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:38)                                                                             |                                                                                                                                                                                                                   |
|               SegmentOrClosed.constructor-impl(SemaphoreSegment#1): SemaphoreSegment#1 at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:38)                             |                                                                                                                                                                                                                   |
|                 value ➜ SemaphoreSegment#1 at SegmentOrClosed.constructor-impl(ConcurrentLinkedList.kt:0)                                                                                    |                                                                                                                                                                                                                   |
|             SegmentOrClosed.isClosed-impl(SemaphoreSegment#1): false at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:433)                                                                    |                                                                                                                                                                                                                   |
|               arg0 ➜ SemaphoreSegment#1 at SegmentOrClosed.isClosed-impl(ConcurrentLinkedList.kt:261)                                                                                        |                                                                                                                                                                                                                   |
|             SegmentOrClosed.getSegment-impl(SemaphoreSegment#1): SemaphoreSegment#1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:433)                                                     |                                                                                                                                                                                                                   |
|               arg0 ➜ SemaphoreSegment#1 at SegmentOrClosed.getSegment-impl(ConcurrentLinkedList.kt:263)                                                                                      |                                                                                                                                                                                                                   |
|               arg0 ➜ SemaphoreSegment#1 at SegmentOrClosed.getSegment-impl(ConcurrentLinkedList.kt:263)                                                                                      |                                                                                                                                                                                                                   |
|             to$iv$iv = 0 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:433)                                                                                                                |                                                                                                                                                                                                                   |
|             $i$f$moveForward$atomicfu = 0 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:433)                                                                                               |                                                                                                                                                                                                                   |
|             segment ➜ AtomicReferenceFieldUpdaterImpl#1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:433)                                                                                 |                                                                                                                                                                                                                   |
|             tail.get(): SemaphoreSegment#1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:433)                                                                                              |                                                                                                                                                                                                                   |
|             $i$f$loop$atomicfu = SemaphoreSegment#1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:433)                                                                                     |                                                                                                                                                                                                                   |
|             cur$iv$iv = 0 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:433)                                                                                                               |                                                                                                                                                                                                                   |
|             $i$f$loop$atomicfu ➜ SemaphoreSegment#1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:434)                                                                                     |                                                                                                                                                                                                                   |
|             SegmentOrClosed.getSegment-impl(SemaphoreSegment#1): SemaphoreSegment#1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:290)                                                     |                                                                                                                                                                                                                   |
|               arg0 ➜ SemaphoreSegment#1 at SegmentOrClosed.getSegment-impl(ConcurrentLinkedList.kt:263)                                                                                      |                                                                                                                                                                                                                   |
|               arg0 ➜ SemaphoreSegment#1 at SegmentOrClosed.getSegment-impl(ConcurrentLinkedList.kt:263)                                                                                      |                                                                                                                                                                                                                   |
|             $i$a$-loop$atomicfu-ConcurrentLinkedListKt$moveForward$atomicfu$1$iv$iv = SemaphoreSegment#1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:289)                                |                                                                                                                                                                                                                   |
|             enqIdx ➜ 0 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:291)                                                                                                                  |                                                                                                                                                                                                                   |
|             segment = 0 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:291)                                                                                                                 |                                                                                                                                                                                                                   |
|             $i$a$-loop$atomicfu-ConcurrentLinkedListKt$moveForward$atomicfu$1$iv$iv ➜ SemaphoreSegment#1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:293)                                |                                                                                                                                                                                                                   |
|             segment ➜ 0 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:442)                                                                                                                 |                                                                                                                                                                                                                   |
|             waiter ➜ <cont> at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:442)                                                                                                             |                                                                                                                                                                                                                   |
|             SemaphoreSegment#1.acquirers[0].compareAndSet(null, <cont>): true at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:442)                                                           |                                                                                                                                                                                                                   |
|             waiter ➜ <cont> at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:294)                                                                                                             |                                                                                                                                                                                                                   |
|             $i$a$-loop$atomicfu-ConcurrentLinkedListKt$moveForward$atomicfu$1$iv$iv ➜ SemaphoreSegment#1 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:294)                                |                                                                                                                                                                                                                   |
|             segment ➜ 0 at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:294)                                                                                                                 |                                                                                                                                                                                                                   |
|             <cont>.invokeOnCancellation(SemaphoreSegment#1, 0) at SemaphoreImpl.addAcquireToQueue(Semaphore.kt:294)                                                                          |                                                                                                                                                                                                                   |
|               segment ➜ SemaphoreSegment#1 at MutexImpl$CancellableContinuationWithOwner.invokeOnCancellation(Mutex.kt:0)                                                                    |                                                                                                                                                                                                                   |
|               index ➜ 0 at MutexImpl$CancellableContinuationWithOwner.invokeOnCancellation(Mutex.kt:0)                                                                                       |                                                                                                                                                                                                                   |
|               <cont>.invokeOnCancellation(SemaphoreSegment#1, 0) at MutexImpl$CancellableContinuationWithOwner.invokeOnCancellation(Mutex.kt:0)                                              |                                                                                                                                                                                                                   |
|                 this_$iv = <cont> at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:0)                                                                      |                                                                                                                                                                                                                   |
|                 atomicfu$handler$iv = AtomicIntegerFieldUpdaterImpl#1 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:0)                                  |                                                                                                                                                                                                                   |
|                 $i$f$update$atomicfu = 0 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:0)                                                               |                                                                                                                                                                                                                   |
|                 atomicfu$handler$iv ➜ AtomicIntegerFieldUpdaterImpl#1 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:0)                                  |                                                                                                                                                                                                                   |
|                 _decisionAndIndex.get(): 536870911 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:0)                                                     |                                                                                                                                                                                                                   |
|                 it = 536870911 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:0)                                                                         |                                                                                                                                                                                                                   |
|                 $i$a$-update$atomicfu-CancellableContinuationImpl$invokeOnCancellation$1 = 0 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:0)           |                                                                                                                                                                                                                   |
|                 it ➜ 536870911 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:389)                                                                       |                                                                                                                                                                                                                   |
|                 it ➜ 536870911 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:392)                                                                       |                                                                                                                                                                                                                   |
|                 index ➜ 0 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:715)                                                                            |                                                                                                                                                                                                                   |
|                 it = 0 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:392)                                                                               |                                                                                                                                                                                                                   |
|                 atomicfu$handler$iv ➜ AtomicIntegerFieldUpdaterImpl#1 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:392)                                |                                                                                                                                                                                                                   |
|                 it ➜ 0 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:392)                                                                               |                                                                                                                                                                                                                   |
|                 _decisionAndIndex.compareAndSet(536870911, 0): true at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:392)                                  |                                                                                                                                                                                                                   |
|                 segment ➜ SemaphoreSegment#1 at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:394)                                                         |                                                                                                                                                                                                                   |
|                 invokeOnCancellationImpl(SemaphoreSegment#1) at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:394)                                         |                                                                                                                                                                                                                   |
|                   handler ➜ SemaphoreSegment#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403)                                                   |                                                                                                                                                                                                                   |
|                   handler ➜ SemaphoreSegment#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403)                                                   |                                                                                                                                                                                                                   |
|                   atomicfu$handler$iv = AtomicReferenceFieldUpdaterImpl#2 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403)                        |                                                                                                                                                                                                                   |
|                   $i$f$loop$atomicfu = 0 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403)                                                         |                                                                                                                                                                                                                   |
|                   atomicfu$handler$iv ➜ AtomicReferenceFieldUpdaterImpl#2 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403)                        |                                                                                                                                                                                                                   |
|                   _state.get(): Active#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403)                                                         |                                                                                                                                                                                                                   |
|                   state = Active#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403)                                                               |                                                                                                                                                                                                                   |
|                   $i$a$-loop$atomicfu-CancellableContinuationImpl$invokeOnCancellationImpl$2 = 0 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:403) |                                                                                                                                                                                                                   |
|                   state ➜ Active#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:405)                                                               |                                                                                                                                                                                                                   |
|                   state ➜ Active#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:407)                                                               |                                                                                                                                                                                                                   |
|                   handler ➜ SemaphoreSegment#1 at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:407)                                                   |                                                                                                                                                                                                                   |
|                   _state.compareAndSet(Active#1, SemaphoreSegment#1): true at CancellableContinuationImpl.invokeOnCancellationImpl(CancellableContinuationImpl.kt:407)                       |                                                                                                                                                                                                                   |
|         cancellable$iv ➜ <cont> at MutexImpl.lockSuspend(Mutex.kt:321)                                                                                                                       |                                                                                                                                                                                                                   |
|         <cont>.getResult(): COROUTINE_SUSPENDED at MutexImpl.lockSuspend(Mutex.kt:321)                                                                                                       |                                                                                                                                                                                                                   |
|           isReusable(): false at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:297)                                                                                   |                                                                                                                                                                                                                   |
|             resumeMode ➜ 1 at CancellableContinuationImpl.isReusable(CancellableContinuationImpl.kt:141)                                                                                     |                                                                                                                                                                                                                   |
|             DispatchedTaskKt.isReusableMode(1): false at CancellableContinuationImpl.isReusable(CancellableContinuationImpl.kt:141)                                                          |                                                                                                                                                                                                                   |
|               $this$isReusableMode ➜ 1 at DispatchedTaskKt.isReusableMode(DispatchedTask.kt:48)                                                                                              |                                                                                                                                                                                                                   |
|           isReusable = 0 at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:297)                                                                                        |                                                                                                                                                                                                                   |
|           trySuspend(): true at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:300)                                                                                    |                                                                                                                                                                                                                   |
|             this_$iv = <cont> at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:0)                                                                                    |                                                                                                                                                                                                                   |
|             atomicfu$handler$iv = AtomicIntegerFieldUpdaterImpl#1 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:0)                                                |                                                                                                                                                                                                                   |
|             $i$f$loop$atomicfu = 0 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:0)                                                                               |                                                                                                                                                                                                                   |
|             atomicfu$handler$iv ➜ AtomicIntegerFieldUpdaterImpl#1 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:0)                                                |                                                                                                                                                                                                                   |
|             _decisionAndIndex.get(): 0 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:0)                                                                           |                                                                                                                                                                                                                   |
|             cur = 0 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:0)                                                                                              |                                                                                                                                                                                                                   |
|             $i$a$-loop$atomicfu-CancellableContinuationImpl$trySuspend$1 = 0 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:0)                                     |                                                                                                                                                                                                                   |
|             cur ➜ 0 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:277)                                                                                            |                                                                                                                                                                                                                   |
|             cur ➜ 0 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:278)                                                                                            |                                                                                                                                                                                                                   |
|             cur ➜ 0 at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:278)                                                                                            |                                                                                                                                                                                                                   |
|             _decisionAndIndex.compareAndSet(0, 536870912): true at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:278)                                                |                                                                                                                                                                                                                   |
|           getParentHandle(): null at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:310)                                                                               |                                                                                                                                                                                                                   |
|             _parentHandle.get(): null at CancellableContinuationImpl.getParentHandle(CancellableContinuationImpl.kt:106)                                                                     |                                                                                                                                                                                                                   |
|           installParentHandle(): ChildContinuation#1 at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:311)                                                            |                                                                                                                                                                                                                   |
|             CombinedContext#1.get(Key#1): JobImpl#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:346)                                                   |                                                                                                                                                                                                                   |
|               $this ➜ JobImpl#1 at Job$DefaultImpls.get(Job.kt:112)                                                                                                                          |                                                                                                                                                                                                                   |
|               key ➜ Key#1 at Job$DefaultImpls.get(Job.kt:112)                                                                                                                                |                                                                                                                                                                                                                   |
|               CoroutineContext$Element$DefaultImpls.get(JobImpl#1, Key#1): JobImpl#1 at Job$DefaultImpls.get(Job.kt:112)                                                                     |                                                                                                                                                                                                                   |
|                 key ➜ Key#1 at CoroutineContext$Element$DefaultImpls.get(CoroutineContext.kt:0)                                                                                              |                                                                                                                                                                                                                   |
|                 $this ➜ JobImpl#1 at CoroutineContext$Element$DefaultImpls.get(CoroutineContext.kt:67)                                                                                       |                                                                                                                                                                                                                   |
|                 key ➜ Key#1 at CoroutineContext$Element$DefaultImpls.get(CoroutineContext.kt:67)                                                                                             |                                                                                                                                                                                                                   |
|                 $this ➜ JobImpl#1 at CoroutineContext$Element$DefaultImpls.get(CoroutineContext.kt:67)                                                                                       |                                                                                                                                                                                                                   |
|                 $this ➜ JobImpl#1 at CoroutineContext$Element$DefaultImpls.get(CoroutineContext.kt:67)                                                                                       |                                                                                                                                                                                                                   |
|             parent = JobImpl#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:346)                                                                        |                                                                                                                                                                                                                   |
|             parent ➜ JobImpl#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:348)                                                                        |                                                                                                                                                                                                                   |
|             handle = ChildContinuation#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:350)                                                              |                                                                                                                                                                                                                   |
|             $this$asHandler$iv = 0 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:350)                                                                    |                                                                                                                                                                                                                   |
|             handle ➜ ChildContinuation#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:710)                                                              |                                                                                                                                                                                                                   |
|             Job$DefaultImpls.invokeOnCompletion(true, true, ChildContinuation#1): ChildContinuation#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:348) |                                                                                                                                                                                                                   |
|               <set-?> ➜ JobImpl#1 at JobNode.setJob(JobSupport.kt:1348)                                                                                                                      |                                                                                                                                                                                                                   |
|               ChildContinuation#1.job = JobImpl#1 at JobNode.setJob(JobSupport.kt:1348)                                                                                                      |                                                                                                                                                                                                                   |
|             $i$f$getAsHandler = ChildContinuation#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:348)                                                   |                                                                                                                                                                                                                   |
|             $i$f$getAsHandler ➜ ChildContinuation#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:352)                                                   |                                                                                                                                                                                                                   |
|             _parentHandle.compareAndSet(null, ChildContinuation#1): true at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:352)                              |                                                                                                                                                                                                                   |
|             $i$f$getAsHandler ➜ ChildContinuation#1 at CancellableContinuationImpl.installParentHandle(CancellableContinuationImpl.kt:353)                                                   |                                                                                                                                                                                                                   |
|           isReusable ➜ 0 at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:318)                                                                                        |                                                                                                                                                                                                                   |
|         $completion ➜ <cont> at MutexImpl.lockSuspend(Mutex.kt:311)                                                                                                                          |                                                                                                                                                                                                                   |
|   $i$f$withLock ➜ COROUTINE_SUSPENDED at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:184)                                                                                     |                                                                                                                                                                                                                   |
|   $i$f$withLock ➜ COROUTINE_SUSPENDED at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                                                      |                                                                                                                                                                                                                   |
|           switch (reason: coroutine is suspended)                                                                                                                                            |                                                                                                                                                                                                                   |
|                                                                                                                                                                                              |     owner.compareAndSet(null, <NO_OWNER>): true at MutexImpl.unlock(Mutex.kt:220)                                                                                                                                 |
|                                                                                                                                                                                              |     release() at MutexImpl.unlock(Mutex.kt:222)                                                                                                                                                                   |
|                                                                                                                                                                                              |       _availablePermits.getAndIncrement(): -1 at SemaphoreImpl.release(Semaphore.kt:250)                                                                                                                          |
|                                                                                                                                                                                              |       p = -1 at SemaphoreImpl.release(Semaphore.kt:250)                                                                                                                                                           |
|                                                                                                                                                                                              |       p ➜ -1 at SemaphoreImpl.release(Semaphore.kt:253)                                                                                                                                                           |
|                                                                                                                                                                                              |       p ➜ -1 at SemaphoreImpl.release(Semaphore.kt:260)                                                                                                                                                           |
|                                                                                                                                                                                              |       tryResumeNextFromQueue(): true at SemaphoreImpl.release(Semaphore.kt:265)                                                                                                                                   |
|                                                                                                                                                                                              |         head.get(): SemaphoreSegment#1 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:319)                                                                                                                  |
|                                                                                                                                                                                              |         curHead = SemaphoreSegment#1 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:319)                                                                                                                    |
|                                                                                                                                                                                              |         deqIdx.getAndIncrement(): 0 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:320)                                                                                                                     |
|                                                                                                                                                                                              |         deqIdx = 0 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:320)                                                                                                                                      |
|                                                                                                                                                                                              |         deqIdx ➜ 0 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:321)                                                                                                                                      |
|                                                                                                                                                                                              |         id = 0 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:321)                                                                                                                                          |
|                                                                                                                                                                                              |         createNewSegment = createNewSegment$1 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:322)                                                                                                           |
|                                                                                                                                                                                              |         segment = AtomicReferenceFieldUpdaterImpl#3 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:322)                                                                                                     |
|                                                                                                                                                                                              |         curHead ➜ SemaphoreSegment#1 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:446)                                                                                                                    |
|                                                                                                                                                                                              |         id ➜ 0 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:446)                                                                                                                                          |
|                                                                                                                                                                                              |         createNewSegment ➜ createNewSegment$1 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:446)                                                                                                           |
|                                                                                                                                                                                              |         ConcurrentLinkedListKt.findSegmentInternal(SemaphoreSegment#1, 0, createNewSegment$1): SemaphoreSegment#1 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:446)                                       |
|                                                                                                                                                                                              |           $this$findSegmentInternal ➜ SemaphoreSegment#1 at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:25)                                                                                |
|                                                                                                                                                                                              |           cur = SemaphoreSegment#1 at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:25)                                                                                                      |
|                                                                                                                                                                                              |           cur ➜ SemaphoreSegment#1 at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:26)                                                                                                      |
|                                                                                                                                                                                              |           id ➜ 0 at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:26)                                                                                                                        |
|                                                                                                                                                                                              |           cur ➜ SemaphoreSegment#1 at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:26)                                                                                                      |
|                                                                                                                                                                                              |           SemaphoreSegment#1.isRemoved(): false at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:26)                                                                                         |
|                                                                                                                                                                                              |             cleanedAndPointers.get(): 131072 at Segment.isRemoved(ConcurrentLinkedList.kt:222)                                                                                                                    |
|                                                                                                                                                                                              |           cur ➜ SemaphoreSegment#1 at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:38)                                                                                                      |
|                                                                                                                                                                                              |           SegmentOrClosed.constructor-impl(SemaphoreSegment#1): SemaphoreSegment#1 at ConcurrentLinkedListKt.findSegmentInternal(ConcurrentLinkedList.kt:38)                                                      |
|                                                                                                                                                                                              |             value ➜ SemaphoreSegment#1 at SegmentOrClosed.constructor-impl(ConcurrentLinkedList.kt:0)                                                                                                             |
|                                                                                                                                                                                              |         SegmentOrClosed.isClosed-impl(SemaphoreSegment#1): false at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:447)                                                                                        |
|                                                                                                                                                                                              |           arg0 ➜ SemaphoreSegment#1 at SegmentOrClosed.isClosed-impl(ConcurrentLinkedList.kt:261)                                                                                                                 |
|                                                                                                                                                                                              |         SegmentOrClosed.getSegment-impl(SemaphoreSegment#1): SemaphoreSegment#1 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:447)                                                                         |
|                                                                                                                                                                                              |           arg0 ➜ SemaphoreSegment#1 at SegmentOrClosed.getSegment-impl(ConcurrentLinkedList.kt:263)                                                                                                               |
|                                                                                                                                                                                              |           arg0 ➜ SemaphoreSegment#1 at SegmentOrClosed.getSegment-impl(ConcurrentLinkedList.kt:263)                                                                                                               |
|                                                                                                                                                                                              |         segment ➜ AtomicReferenceFieldUpdaterImpl#3 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:447)                                                                                                     |
|                                                                                                                                                                                              |         head.get(): SemaphoreSegment#1 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:447)                                                                                                                  |
|                                                                                                                                                                                              |         SegmentOrClosed.getSegment-impl(SemaphoreSegment#1): SemaphoreSegment#1 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:324)                                                                         |
|                                                                                                                                                                                              |           arg0 ➜ SemaphoreSegment#1 at SegmentOrClosed.getSegment-impl(ConcurrentLinkedList.kt:263)                                                                                                               |
|                                                                                                                                                                                              |           arg0 ➜ SemaphoreSegment#1 at SegmentOrClosed.getSegment-impl(ConcurrentLinkedList.kt:263)                                                                                                               |
|                                                                                                                                                                                              |         SemaphoreSegment#1.cleanPrev() at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:325)                                                                                                                  |
|                                                                                                                                                                                              |           _prev.lazySet(null) at ConcurrentLinkedListNode.cleanPrev(ConcurrentLinkedList.kt:132)                                                                                                                  |
|                                                                                                                                                                                              |         id ➜ 0 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:326)                                                                                                                                          |
|                                                                                                                                                                                              |         deqIdx ➜ 0 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:327)                                                                                                                                      |
|                                                                                                                                                                                              |         segment = 0 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:327)                                                                                                                                     |
|                                                                                                                                                                                              |         segment ➜ 0 at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:456)                                                                                                                                     |
|                                                                                                                                                                                              |         SemaphoreSegment#1.acquirers[0].getAndSet(<PERMIT>): <cont> at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:456)                                                                                     |
|                                                                                                                                                                                              |         tryResumeAcquire(<cont>): true at SemaphoreImpl.tryResumeNextFromQueue(Semaphore.kt:340)                                                                                                                  |
|                                                                                                                                                                                              |           $this$tryResumeAcquire ➜ <cont> at SemaphoreImpl.tryResumeAcquire(Semaphore.kt:344)                                                                                                                     |
|                                                                                                                                                                                              |           $this$tryResumeAcquire ➜ <cont> at SemaphoreImpl.tryResumeAcquire(Semaphore.kt:346)                                                                                                                     |
|                                                                                                                                                                                              |           $this$tryResumeAcquire ➜ <cont> at SemaphoreImpl.tryResumeAcquire(Semaphore.kt:346)                                                                                                                     |
|                                                                                                                                                                                              |           $this$tryResumeAcquire ➜ <cont> at SemaphoreImpl.tryResumeAcquire(Semaphore.kt:347)                                                                                                                     |
|                                                                                                                                                                                              |           <cont>.tryResume(Unit, null, onCancellationRelease$1): <RESUME_TOKEN> at SemaphoreImpl.tryResumeAcquire(Semaphore.kt:347)                                                                               |
|                                                                                                                                                                                              |             value ➜ Unit at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:250)                                                                                                                    |
|                                                                                                                                                                                              |             idempotent ➜ null at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:250)                                                                                                               |
|                                                                                                                                                                                              |             onCancellation ➜ onCancellationRelease$1 at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:250)                                                                                        |
|                                                                                                                                                                                              |             tryResume(Unit, null, onCancellationRelease$1): <RESUME_TOKEN> at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:250)                                                                  |
|                                                                                                                                                                                              |               token = MutexImpl#1 at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:257)                                                                                                           |
|                                                                                                                                                                                              |               $i$a$-assert-MutexImpl$CancellableContinuationWithOwner$tryResume$1 = 0 at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:311)                                                       |
|                                                                                                                                                                                              |               token ➜ MutexImpl#1 at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:257)                                                                                                           |
|                                                                                                                                                                                              |               owner.get(): <NO_OWNER> at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:257)                                                                                                       |
|                                                                                                                                                                                              |               value ➜ Unit at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:258)                                                                                                                  |
|                                                                                                                                                                                              |               idempotent ➜ null at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:258)                                                                                                             |
|                                                                                                                                                                                              |               <cont>.tryResume(Unit, null, token$1): <RESUME_TOKEN> at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:258)                                                                         |
|                                                                                                                                                                                              |                 value ➜ Unit at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:582)                                                                                                         |
|                                                                                                                                                                                              |                 idempotent ➜ null at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:582)                                                                                                    |
|                                                                                                                                                                                              |                 onCancellation ➜ token$1 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:582)                                                                                             |
|                                                                                                                                                                                              |                 tryResumeImpl(Unit, null, token$1): <RESUME_TOKEN> at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:582)                                                                   |
|                                                                                                                                                                                              |                   this_$iv = <cont> at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:0)                                                                                                |
|                                                                                                                                                                                              |                   atomicfu$handler$iv = AtomicReferenceFieldUpdaterImpl#2 at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:0)                                                          |
|                                                                                                                                                                                              |                   $i$f$loop$atomicfu = 0 at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:0)                                                                                           |
|                                                                                                                                                                                              |                   atomicfu$handler$iv ➜ AtomicReferenceFieldUpdaterImpl#2 at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:0)                                                          |
|                                                                                                                                                                                              |                   _state.get(): SemaphoreSegment#1 at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:0)                                                                                 |
|                                                                                                                                                                                              |                   state = SemaphoreSegment#1 at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:0)                                                                                       |
|                                                                                                                                                                                              |                   $i$a$-loop$atomicfu-CancellableContinuationImpl$tryResumeImpl$1 = 0 at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:0)                                              |
|                                                                                                                                                                                              |                   state ➜ SemaphoreSegment#1 at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:538)                                                                                     |
|                                                                                                                                                                                              |                   state ➜ SemaphoreSegment#1 at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:540)                                                                                     |
|                                                                                                                                                                                              |                   proposedUpdate ➜ Unit at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:540)                                                                                          |
|                                                                                                                                                                                              |                   resumeMode ➜ 1 at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:540)                                                                                                 |
|                                                                                                                                                                                              |                   onCancellation ➜ token$1 at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:540)                                                                                       |
|                                                                                                                                                                                              |                   idempotent ➜ null at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:540)                                                                                              |
|                                                                                                                                                                                              |                   resumedState(SemaphoreSegment#1, Unit, 1, token$1, null): CompletedContinuation#1 at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:540)                              |
|                                                                                                                                                                                              |                     proposedUpdate ➜ Unit at CancellableContinuationImpl.resumedState(CancellableContinuationImpl.kt:484)                                                                                         |
|                                                                                                                                                                                              |                     resumeMode ➜ 1 at CancellableContinuationImpl.resumedState(CancellableContinuationImpl.kt:489)                                                                                                |
|                                                                                                                                                                                              |                     DispatchedTaskKt.isCancellableMode(1): true at CancellableContinuationImpl.resumedState(CancellableContinuationImpl.kt:489)                                                                   |
|                                                                                                                                                                                              |                       $this$isCancellableMode ➜ 1 at DispatchedTaskKt.isCancellableMode(DispatchedTask.kt:47)                                                                                                     |
|                                                                                                                                                                                              |                     onCancellation ➜ token$1 at CancellableContinuationImpl.resumedState(CancellableContinuationImpl.kt:490)                                                                                      |
|                                                                                                                                                                                              |                     proposedUpdate ➜ Unit at CancellableContinuationImpl.resumedState(CancellableContinuationImpl.kt:493)                                                                                         |
|                                                                                                                                                                                              |                     state ➜ SemaphoreSegment#1 at CancellableContinuationImpl.resumedState(CancellableContinuationImpl.kt:493)                                                                                    |
|                                                                                                                                                                                              |                     onCancellation ➜ token$1 at CancellableContinuationImpl.resumedState(CancellableContinuationImpl.kt:493)                                                                                      |
|                                                                                                                                                                                              |                     idempotent ➜ null at CancellableContinuationImpl.resumedState(CancellableContinuationImpl.kt:493)                                                                                             |
|                                                                                                                                                                                              |                   state ➜ SemaphoreSegment#1 at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:541)                                                                                     |
|                                                                                                                                                                                              |                   _state.compareAndSet(SemaphoreSegment#1, CompletedContinuation#1): true at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:541)                                        |
|                                                                                                                                                                                              |                   detachChildIfNonResuable() at CancellableContinuationImpl.tryResumeImpl(CancellableContinuationImpl.kt:542)                                                                                     |
|                                                                                                                                                                                              |                     isReusable(): false at CancellableContinuationImpl.detachChildIfNonResuable(CancellableContinuationImpl.kt:565)                                                                               |
|                                                                                                                                                                                              |                       resumeMode ➜ 1 at CancellableContinuationImpl.isReusable(CancellableContinuationImpl.kt:141)                                                                                                |
|                                                                                                                                                                                              |                       DispatchedTaskKt.isReusableMode(1): false at CancellableContinuationImpl.isReusable(CancellableContinuationImpl.kt:141)                                                                     |
|                                                                                                                                                                                              |                         $this$isReusableMode ➜ 1 at DispatchedTaskKt.isReusableMode(DispatchedTask.kt:48)                                                                                                         |
|                                                                                                                                                                                              |                     detachChild$kotlinx_coroutines_core() at CancellableContinuationImpl.detachChildIfNonResuable(CancellableContinuationImpl.kt:565)                                                             |
|                                                                                                                                                                                              |                       getParentHandle(): ChildContinuation#1 at CancellableContinuationImpl.detachChild$kotlinx_coroutines_core(CancellableContinuationImpl.kt:572)                                               |
|                                                                                                                                                                                              |                         _parentHandle.get(): ChildContinuation#1 at CancellableContinuationImpl.getParentHandle(CancellableContinuationImpl.kt:106)                                                               |
|                                                                                                                                                                                              |                       handle = ChildContinuation#1 at CancellableContinuationImpl.detachChild$kotlinx_coroutines_core(CancellableContinuationImpl.kt:572)                                                         |
|                                                                                                                                                                                              |                       handle ➜ ChildContinuation#1 at CancellableContinuationImpl.detachChild$kotlinx_coroutines_core(CancellableContinuationImpl.kt:573)                                                         |
|                                                                                                                                                                                              |                       ChildContinuation#1.dispose() at CancellableContinuationImpl.detachChild$kotlinx_coroutines_core(CancellableContinuationImpl.kt:573)                                                        |
|                                                                                                                                                                                              |                         getJob(): JobImpl#1 at JobNode.dispose(JobSupport.kt:1351)                                                                                                                                |
|                                                                                                                                                                                              |                           job ➜ JobImpl#1 at JobNode.getJob(JobSupport.kt:1348)                                                                                                                                   |
|                                                                                                                                                                                              |                       _parentHandle.set(NonDisposableHandle#1) at CancellableContinuationImpl.detachChild$kotlinx_coroutines_core(CancellableContinuationImpl.kt:574)                                             |
|                                                                                                                                                                                              |               token = <RESUME_TOKEN> at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:258)                                                                                                        |
|                                                                                                                                                                                              |               token ➜ <RESUME_TOKEN> at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:263)                                                                                                        |
|                                                                                                                                                                                              |               $i$a$-assert-MutexImpl$CancellableContinuationWithOwner$tryResume$1 = MutexImpl#1 at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:264)                                             |
|                                                                                                                                                                                              |               $i$a$-assert-MutexImpl$CancellableContinuationWithOwner$tryResume$2 = 0 at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:311)                                                       |
|                                                                                                                                                                                              |               $i$a$-assert-MutexImpl$CancellableContinuationWithOwner$tryResume$1 ➜ MutexImpl#1 at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:264)                                             |
|                                                                                                                                                                                              |               owner.get(): <NO_OWNER> at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:264)                                                                                                       |
|                                                                                                                                                                                              |               owner.set(null) at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:265)                                                                                                               |
|                                                                                                                                                                                              |               token ➜ <RESUME_TOKEN> at MutexImpl$CancellableContinuationWithOwner.tryResume(Mutex.kt:267)                                                                                                        |
|                                                                                                                                                                                              |           token = <RESUME_TOKEN> at SemaphoreImpl.tryResumeAcquire(Semaphore.kt:347)                                                                                                                              |
|                                                                                                                                                                                              |           token ➜ <RESUME_TOKEN> at SemaphoreImpl.tryResumeAcquire(Semaphore.kt:348)                                                                                                                              |
|                                                                                                                                                                                              |           $this$tryResumeAcquire ➜ <cont> at SemaphoreImpl.tryResumeAcquire(Semaphore.kt:349)                                                                                                                     |
|                                                                                                                                                                                              |           token ➜ <RESUME_TOKEN> at SemaphoreImpl.tryResumeAcquire(Semaphore.kt:349)                                                                                                                              |
|                                                                                                                                                                                              |           <cont>.completeResume(<RESUME_TOKEN>) at SemaphoreImpl.tryResumeAcquire(Semaphore.kt:349)                                                                                                               |
|                                                                                                                                                                                              |             token ➜ <RESUME_TOKEN> at MutexImpl$CancellableContinuationWithOwner.completeResume(Mutex.kt:0)                                                                                                       |
|                                                                                                                                                                                              |             <cont>.completeResume(<RESUME_TOKEN>) at MutexImpl$CancellableContinuationWithOwner.completeResume(Mutex.kt:0)                                                                                        |
|                                                                                                                                                                                              |               $i$a$-assert-CancellableContinuationImpl$completeResume$1 = 0 at CancellableContinuationImpl.completeResume(CancellableContinuationImpl.kt:663)                                                     |
|                                                                                                                                                                                              |               token ➜ <RESUME_TOKEN> at CancellableContinuationImpl.completeResume(CancellableContinuationImpl.kt:589)                                                                                            |
|                                                                                                                                                                                              |               resumeMode ➜ 1 at CancellableContinuationImpl.completeResume(CancellableContinuationImpl.kt:590)                                                                                                    |
|                                                                                                                                                                                              |               dispatchResume(1) at CancellableContinuationImpl.completeResume(CancellableContinuationImpl.kt:590)                                                                                                 |
|                                                                                                                                                                                              |                 tryResume(): false at CancellableContinuationImpl.dispatchResume(CancellableContinuationImpl.kt:472)                                                                                              |
|                                                                                                                                                                                              |                   this_$iv = <cont> at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:0)                                                                                                    |
|                                                                                                                                                                                              |                   atomicfu$handler$iv = AtomicIntegerFieldUpdaterImpl#1 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:0)                                                                |
|                                                                                                                                                                                              |                   $i$f$loop$atomicfu = 0 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:0)                                                                                               |
|                                                                                                                                                                                              |                   atomicfu$handler$iv ➜ AtomicIntegerFieldUpdaterImpl#1 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:0)                                                                |
|                                                                                                                                                                                              |                   _decisionAndIndex.get(): 536870912 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:0)                                                                                   |
|                                                                                                                                                                                              |                   cur = 536870912 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:0)                                                                                                      |
|                                                                                                                                                                                              |                   $i$a$-loop$atomicfu-CancellableContinuationImpl$tryResume$1 = 0 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:0)                                                      |
|                                                                                                                                                                                              |                   cur ➜ 536870912 at CancellableContinuationImpl.tryResume(CancellableContinuationImpl.kt:287)                                                                                                    |
|                                                                                                                                                                                              |                 mode ➜ 1 at CancellableContinuationImpl.dispatchResume(CancellableContinuationImpl.kt:474)                                                                                                        |
|                                                                                                                                                                                              |                 DispatchedTaskKt.dispatch(<cont>, 1) at CancellableContinuationImpl.dispatchResume(CancellableContinuationImpl.kt:474)                                                                            |
|                                                                                                                                                                                              |                   mode ➜ 1 at DispatchedTaskKt.dispatch(DispatchedTask.kt:153)                                                                                                                                    |
|                                                                                                                                                                                              |                   $this$dispatch ➜ <cont> at DispatchedTaskKt.dispatch(DispatchedTask.kt:154)                                                                                                                     |
|                                                                                                                                                                                              |                   mode ➜ 1 at DispatchedTaskKt.dispatch(DispatchedTask.kt:155)                                                                                                                                    |
|                                                                                                                                                                                              |                   undispatched = 0 at DispatchedTaskKt.dispatch(DispatchedTask.kt:155)                                                                                                                            |
|                                                                                                                                                                                              |                   undispatched ➜ 0 at DispatchedTaskKt.dispatch(DispatchedTask.kt:156)                                                                                                                            |
|                                                                                                                                                                                              |                   $this$dispatch ➜ <cont> at DispatchedTaskKt.dispatch(DispatchedTask.kt:168)                                                                                                                     |
|                                                                                                                                                                                              |                   undispatched ➜ 0 at DispatchedTaskKt.dispatch(DispatchedTask.kt:168)                                                                                                                            |
|                                                                                                                                                                                              |                   DispatchedTaskKt.resume(<cont>, <cont>, false) at DispatchedTaskKt.dispatch(DispatchedTask.kt:168)                                                                                              |
|                                                                                                                                                                                              |                     $this$resume ➜ <cont> at DispatchedTaskKt.resume(DispatchedTask.kt:174)                                                                                                                       |
|                                                                                                                                                                                              |                     <cont>.takeState$kotlinx_coroutines_core(): CompletedContinuation#1 at DispatchedTaskKt.resume(DispatchedTask.kt:174)                                                                         |
|                                                                                                                                                                                              |                       getState$kotlinx_coroutines_core(): CompletedContinuation#1 at CancellableContinuationImpl.takeState$kotlinx_coroutines_core(CancellableContinuationImpl.kt:168)                            |
|                                                                                                                                                                                              |                         _state.get(): CompletedContinuation#1 at CancellableContinuationImpl.getState$kotlinx_coroutines_core(CancellableContinuationImpl.kt:108)                                                 |
|                                                                                                                                                                                              |                     state = CompletedContinuation#1 at DispatchedTaskKt.resume(DispatchedTask.kt:174)                                                                                                             |
|                                                                                                                                                                                              |                     $this$resume ➜ <cont> at DispatchedTaskKt.resume(DispatchedTask.kt:175)                                                                                                                       |
|                                                                                                                                                                                              |                     state ➜ CompletedContinuation#1 at DispatchedTaskKt.resume(DispatchedTask.kt:175)                                                                                                             |
|                                                                                                                                                                                              |                     <cont>.getExceptionalResult$kotlinx_coroutines_core(CompletedContinuation#1): null at DispatchedTaskKt.resume(DispatchedTask.kt:175)                                                          |
|                                                                                                                                                                                              |                       state ➜ CompletedContinuation#1 at CancellableContinuationImpl.getExceptionalResult$kotlinx_coroutines_core(CancellableContinuationImpl.kt:613)                                             |
|                                                                                                                                                                                              |                       getExceptionalResult$kotlinx_coroutines_core(CompletedContinuation#1): null at CancellableContinuationImpl.getExceptionalResult$kotlinx_coroutines_core(CancellableContinuationImpl.kt:613) |
|                                                                                                                                                                                              |                         state ➜ CompletedContinuation#1 at DispatchedTask.getExceptionalResult$kotlinx_coroutines_core(DispatchedTask.kt:81)                                                                      |
|                                                                                                                                                                                              |                     exception = null at DispatchedTaskKt.resume(DispatchedTask.kt:175)                                                                                                                            |
|                                                                                                                                                                                              |                     exception ➜ null at DispatchedTaskKt.resume(DispatchedTask.kt:176)                                                                                                                            |
|                                                                                                                                                                                              |                     $this$resume ➜ <cont> at DispatchedTaskKt.resume(DispatchedTask.kt:176)                                                                                                                       |
|                                                                                                                                                                                              |                     state ➜ CompletedContinuation#1 at DispatchedTaskKt.resume(DispatchedTask.kt:176)                                                                                                             |
|                                                                                                                                                                                              |                     <cont>.getSuccessfulResult$kotlinx_coroutines_core(CompletedContinuation#1) at DispatchedTaskKt.resume(DispatchedTask.kt:176)                                                                 |
|                                                                                                                                                                                              |                       state ➜ CompletedContinuation#1 at CancellableContinuationImpl.getSuccessfulResult$kotlinx_coroutines_core(CancellableContinuationImpl.kt:605)                                              |
|                                                                                                                                                                                              |                       state ➜ CompletedContinuation#1 at CancellableContinuationImpl.getSuccessfulResult$kotlinx_coroutines_core(CancellableContinuationImpl.kt:606)                                              |
|                                                                                                                                                                                              |                     result = Unit at DispatchedTaskKt.resume(DispatchedTask.kt:176)                                                                                                                               |
|                                                                                                                                                                                              |                     undispatched ➜ 0 at DispatchedTaskKt.resume(DispatchedTask.kt:178)                                                                                                                            |
|                                                                                                                                                                                              |                     delegate ➜ <cont> at DispatchedTaskKt.resume(DispatchedTask.kt:179)                                                                                                                           |
|                                                                                                                                                                                              |                     result ➜ Unit at DispatchedTaskKt.resume(DispatchedTask.kt:179)                                                                                                                               |
|                                                                                                                                                                                              |   canEnterForbiddenBlock ➜ true at SuspendTraceReportingTest.bar(SuspendTraceReportingTest.kt:42)                                                                                                                 |
|                                                                                                                                                                                              |   result: -1                                                                                                                                                                                                      |
|   $result ➜ Unit at SuspendTraceReportingTest$foo$1.invokeSuspend(SuspendTraceReportingTest.kt:0)                                                                                            |                                                                                                                                                                                                                   |
|   $this$withLock_u24default$iv = <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                                                     |                                                                                                                                                                                                                   |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                                                     |                                                                                                                                                                                                                   |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                                                     |                                                                                                                                                                                                                   |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                                                     |                                                                                                                                                                                                                   |
|   owner$iv = Unit at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:0)                                                                                                           |                                                                                                                                                                                                                   |
|   $i$f$withLock = COROUTINE_SUSPENDED at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                                                      |                                                                                                                                                                                                                   |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                                                    |                                                                                                                                                                                                                   |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                                                    |                                                                                                                                                                                                                   |
|   $i$a$-withLock$default-SuspendTraceReportingTest$foo$2 = MutexImpl#1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                     |                                                                                                                                                                                                                   |
|   $this$withLock_u24default$iv ➜ <cont> at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                                                    |                                                                                                                                                                                                                   |
|   owner$iv ➜ Unit at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                                                                          |                                                                                                                                                                                                                   |
|   owner$iv ➜ Unit at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:28)                                                                                                          |                                                                                                                                                                                                                   |
|   $result = 0 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:186)                                                                                                             |                                                                                                                                                                                                                   |
|   counter ➜ 1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:31)                                                                                                              |                                                                                                                                                                                                                   |
|   $continuation = 1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:31)                                                                                                        |                                                                                                                                                                                                                   |
|   $continuation ➜ 1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:31)                                                                                                        |                                                                                                                                                                                                                   |
|   counter = 2 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:31)                                                                                                              |                                                                                                                                                                                                                   |
|   $continuation ➜ 1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:31)                                                                                                        |                                                                                                                                                                                                                   |
|   $i$a$-withLock$default-SuspendTraceReportingTest$foo$2 ➜ MutexImpl#1 at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:188)                                                    |                                                                                                                                                                                                                   |
|   lock.unlock(null) at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:188)                                                                                                       |                                                                                                                                                                                                                   |
|     isLocked(): true at MutexImpl.unlock(Mutex.kt:213)                                                                                                                                       |                                                                                                                                                                                                                   |
|       getAvailablePermits(): 0 at MutexImpl.isLocked(Mutex.kt:149)                                                                                                                           |                                                                                                                                                                                                                   |
|         _availablePermits.get(): 0 at SemaphoreImpl.getAvailablePermits(Semaphore.kt:152)                                                                                                    |                                                                                                                                                                                                                   |
|     owner.get(): null at MutexImpl.unlock(Mutex.kt:215)                                                                                                                                      |                                                                                                                                                                                                                   |
|     $i$a$-check-MutexImpl$unlock$1 = null at MutexImpl.unlock(Mutex.kt:215)                                                                                                                  |                                                                                                                                                                                                                   |
|     $i$a$-check-MutexImpl$unlock$1 ➜ null at MutexImpl.unlock(Mutex.kt:216)                                                                                                                  |                                                                                                                                                                                                                   |
|     $i$a$-check-MutexImpl$unlock$1 ➜ null at MutexImpl.unlock(Mutex.kt:218)                                                                                                                  |                                                                                                                                                                                                                   |
|     owner ➜ null at MutexImpl.unlock(Mutex.kt:218)                                                                                                                                           |                                                                                                                                                                                                                   |
|     $i$a$-check-MutexImpl$unlock$1 ➜ null at MutexImpl.unlock(Mutex.kt:220)                                                                                                                  |                                                                                                                                                                                                                   |
|     owner.compareAndSet(null, <NO_OWNER>): true at MutexImpl.unlock(Mutex.kt:220)                                                                                                            |                                                                                                                                                                                                                   |
|     release() at MutexImpl.unlock(Mutex.kt:222)                                                                                                                                              |                                                                                                                                                                                                                   |
|       _availablePermits.getAndIncrement(): 0 at SemaphoreImpl.release(Semaphore.kt:250)                                                                                                      |                                                                                                                                                                                                                   |
|       p = 0 at SemaphoreImpl.release(Semaphore.kt:250)                                                                                                                                       |                                                                                                                                                                                                                   |
|       p ➜ 0 at SemaphoreImpl.release(Semaphore.kt:253)                                                                                                                                       |                                                                                                                                                                                                                   |
|       p ➜ 0 at SemaphoreImpl.release(Semaphore.kt:260)                                                                                                                                       |                                                                                                                                                                                                                   |
|   canEnterForbiddenBlock = false at SuspendTraceReportingTest.foo(SuspendTraceReportingTest.kt:33)                                                                                           |                                                                                                                                                                                                                   |
|   result: void                                                                                                                                                                               |                                                                                                                                                                                                                   |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
