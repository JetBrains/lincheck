= Invalid execution results =
| ------------------------------------------------------------------------------- |
|                Thread 1                |                Thread 2                |
| ------------------------------------------------------------------------------- |
| operation1(): IllegalStateException #1 | operation2(): IllegalStateException #2 |
| ------------------------------------------------------------------------------- |

---
The number next to an exception name helps you find its stack trace provided after the interleaving section
---

The following interleaving leads to the error:
| --------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                  Thread 1                                                  |                Thread 2                |
| --------------------------------------------------------------------------------------------------------------------------------------------------- |
| operation1(): IllegalStateException #1                                                                     |                                        |
|   canEnterForbiddenSection.WRITE(true) at ExceptionsInOutputTest.operation1(ExceptionsInOutputTest.kt:26)  |                                        |
|   switch                                                                                                   |                                        |
|                                                                                                            | operation2(): IllegalStateException #2 |
|   canEnterForbiddenSection.WRITE(false) at ExceptionsInOutputTest.operation1(ExceptionsInOutputTest.kt:27) |                                        |
|   result: IllegalStateException #1                                                                         |                                        |
| --------------------------------------------------------------------------------------------------------------------------------------------------- |

Exception stack traces:
#1: java.lang.IllegalStateException
	at org.jetbrains.kotlinx.lincheck_test.representation.ExceptionsInOutputTest.operation1(ExceptionsInOutputTest.kt:28)

#2: java.lang.IllegalStateException
	at org.jetbrains.kotlinx.lincheck_test.representation.ExceptionsInOutputTest.operation2(ExceptionsInOutputTest.kt:32)

Detailed trace:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                  Thread 1                                                  |                                                 Thread 2                                                 |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| operation1(): IllegalStateException #1                                                                     |                                                                                                          |
|   canEnterForbiddenSection.WRITE(true) at ExceptionsInOutputTest.operation1(ExceptionsInOutputTest.kt:26)  |                                                                                                          |
|   switch                                                                                                   |                                                                                                          |
|                                                                                                            | operation2(): IllegalStateException #2                                                                   |
|                                                                                                            |   canEnterForbiddenSection.READ: true at ExceptionsInOutputTest.operation2(ExceptionsInOutputTest.kt:32) |
|                                                                                                            |   result: IllegalStateException #2                                                                       |
|   canEnterForbiddenSection.WRITE(false) at ExceptionsInOutputTest.operation1(ExceptionsInOutputTest.kt:27) |                                                                                                          |
|   result: IllegalStateException #1                                                                         |                                                                                                          |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |


= To reproduce exactly this test execution with the same scenarios, you can add this setting in your testing options configuration =
.withReproduceSettings("eyJyYW5kb21TZWVkR2VuZXJhdG9yU2VlZCI6LTYyODkwNTAyMjA3ODc0NTk0ODV9")

= You can add this scenario as a custom test. Insert this code in your testing options configuration =
.addCustomScenario {
	parallel {
		thread {
			actor(::operation1)
		}
		thread {
			actor(::operation2)
		}
	}
}
