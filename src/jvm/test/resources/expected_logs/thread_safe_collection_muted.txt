= Invalid execution results =
| ----------------- |
|     Thread 1      |
| ----------------- |
| operation(): void |
| ----------------- |

The following interleaving leads to the error:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|  Thread 1   |                                                                                   Thread 2                                                                                    |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| operation() |                                                                                                                                                                               |
|             | run()                                                                                                                                                                         |
|             |   ThreadSafeCollectionMutedRepresentationTest#1.concurrentMap.put(1, 2): 1 at ThreadSafeCollectionMutedRepresentationTest$operation$1.invoke(StdLibRepresentationTests.kt:23) |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                             Thread 1                                                              |                                                                                   Thread 2                                                                                    |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| operation()                                                                                                                       |                                                                                                                                                                               |
|   thread(block = operation$1): Thread#2 at ThreadSafeCollectionMutedRepresentationTest.operation(StdLibRepresentationTests.kt:22) |                                                                                                                                                                               |
|   concurrentMap.put(1, 1): null at ThreadSafeCollectionMutedRepresentationTest.operation(StdLibRepresentationTests.kt:25)         |                                                                                                                                                                               |
|     putVal(1, 1, false): null at ConcurrentHashMap.put(ConcurrentHashMap.java:1006)                                               |                                                                                                                                                                               |
|       table ➜ null at ConcurrentHashMap.putVal(ConcurrentHashMap.java:1014)                                                       |                                                                                                                                                                               |
|       initTable(): Array<Node>#1 at ConcurrentHashMap.putVal(ConcurrentHashMap.java:1017)                                         |                                                                                                                                                                               |
|         table ➜ null at ConcurrentHashMap.initTable(ConcurrentHashMap.java:2293)                                                  |                                                                                                                                                                               |
|         sizeCtl ➜ 0 at ConcurrentHashMap.initTable(ConcurrentHashMap.java:2294)                                                   |                                                                                                                                                                               |
|         sizeCtl.compareAndSetInt(0, -1): true at ConcurrentHashMap.initTable(ConcurrentHashMap.java:2296)                         |                                                                                                                                                                               |
|         table ➜ null at ConcurrentHashMap.initTable(ConcurrentHashMap.java:2298)                                                  |                                                                                                                                                                               |
|         table = Array<Node>#1 at ConcurrentHashMap.initTable(ConcurrentHashMap.java:2302)                                         |                                                                                                                                                                               |
|         sizeCtl = 12 at ConcurrentHashMap.initTable(ConcurrentHashMap.java:2306)                                                  |                                                                                                                                                                               |
|       ConcurrentHashMap.tabAt(Array<Node>#1, 1): null at ConcurrentHashMap.putVal(ConcurrentHashMap.java:1018)                    |                                                                                                                                                                               |
|         Array<Node>#1[1].getReferenceAcquire(): null at ConcurrentHashMap.tabAt(ConcurrentHashMap.java:760)                       |                                                                                                                                                                               |
|       ConcurrentHashMap.casTabAt(Array<Node>#1, 1, null, Node#1): true at ConcurrentHashMap.putVal(ConcurrentHashMap.java:1019)   |                                                                                                                                                                               |
|         Array<Node>#1[1].compareAndSetReference(null, Node#1): true at ConcurrentHashMap.casTabAt(ConcurrentHashMap.java:765)     |                                                                                                                                                                               |
|       addCount(1, 0) at ConcurrentHashMap.putVal(ConcurrentHashMap.java:1075)                                                     |                                                                                                                                                                               |
|         counterCells ➜ null at ConcurrentHashMap.addCount(ConcurrentHashMap.java:2326)                                            |                                                                                                                                                                               |
|         baseCount ➜ 0 at ConcurrentHashMap.addCount(ConcurrentHashMap.java:2326)                                                  |                                                                                                                                                                               |
|         baseCount.compareAndSetLong(0, 1): true at ConcurrentHashMap.addCount(ConcurrentHashMap.java:2327)                        |                                                                                                                                                                               |
|         sizeCtl ➜ 12 at ConcurrentHashMap.addCount(ConcurrentHashMap.java:2343)                                                   |                                                                                                                                                                               |
|   a ➜ 1 at ThreadSafeCollectionMutedRepresentationTest.operation(StdLibRepresentationTests.kt:26)                                 |                                                                                                                                                                               |
|   a = 2 at ThreadSafeCollectionMutedRepresentationTest.operation(StdLibRepresentationTests.kt:26)                                 |                                                                                                                                                                               |
|   concurrentMap.get(1): 1 at ThreadSafeCollectionMutedRepresentationTest.operation(StdLibRepresentationTests.kt:27)               |                                                                                                                                                                               |
|     table ➜ Array<Node>#1 at ConcurrentHashMap.get(ConcurrentHashMap.java:937)                                                    |                                                                                                                                                                               |
|     ConcurrentHashMap.tabAt(Array<Node>#1, 1): Node#1 at ConcurrentHashMap.get(ConcurrentHashMap.java:938)                        |                                                                                                                                                                               |
|       Array<Node>#1[1].getReferenceAcquire(): Node#1 at ConcurrentHashMap.tabAt(ConcurrentHashMap.java:760)                       |                                                                                                                                                                               |
|     n.val ➜ 1 at ConcurrentHashMap.get(ConcurrentHashMap.java:941)                                                                |                                                                                                                                                                               |
|   result: void                                                                                                                    |                                                                                                                                                                               |
|                                                                                                                                   | run()                                                                                                                                                                         |
|                                                                                                                                   |   ThreadSafeCollectionMutedRepresentationTest#1.concurrentMap.put(1, 2): 1 at ThreadSafeCollectionMutedRepresentationTest$operation$1.invoke(StdLibRepresentationTests.kt:23) |
|                                                                                                                                   |     putVal(1, 2, false): 1 at ConcurrentHashMap.put(ConcurrentHashMap.java:1006)                                                                                              |
|                                                                                                                                   |       table ➜ Array<Node>#1 at ConcurrentHashMap.putVal(ConcurrentHashMap.java:1014)                                                                                          |
|                                                                                                                                   |       ConcurrentHashMap.tabAt(Array<Node>#1, 1): Node#1 at ConcurrentHashMap.putVal(ConcurrentHashMap.java:1018)                                                              |
|                                                                                                                                   |         Array<Node>#1[1].getReferenceAcquire(): Node#1 at ConcurrentHashMap.tabAt(ConcurrentHashMap.java:760)                                                                 |
|                                                                                                                                   |       MONITORENTER at ConcurrentHashMap.putVal(ConcurrentHashMap.java:1031)                                                                                                   |
|                                                                                                                                   |       ConcurrentHashMap.tabAt(Array<Node>#1, 1): Node#1 at ConcurrentHashMap.putVal(ConcurrentHashMap.java:1032)                                                              |
|                                                                                                                                   |         Array<Node>#1[1].getReferenceAcquire(): Node#1 at ConcurrentHashMap.tabAt(ConcurrentHashMap.java:760)                                                                 |
|                                                                                                                                   |       i.val ➜ 1 at ConcurrentHashMap.putVal(ConcurrentHashMap.java:1040)                                                                                                      |
|                                                                                                                                   |       i.val = 2 at ConcurrentHashMap.putVal(ConcurrentHashMap.java:1042)                                                                                                      |
|                                                                                                                                   |       MONITOREXIT at ConcurrentHashMap.putVal(ConcurrentHashMap.java:1065)                                                                                                    |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
