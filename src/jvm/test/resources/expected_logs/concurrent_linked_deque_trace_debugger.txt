= Invalid execution results =
| ------------------------------------ |
|     Thread 1     |     Thread 2      |
| ------------------------------------ |
| addLast(1): void |                   |
| ------------------------------------ |
| pollFirst(): 1   | addFirst(0): void |
|                  | peekLast(): 1     |
| ------------------------------------ |

---
All operations above the horizontal line | ----- | happen before those below the line
---

The following interleaving leads to the error:
| ------------------------------------------------------------------------------------------------------------------------------- |
|                                                    Thread 1                                                     |   Thread 2    |
| ------------------------------------------------------------------------------------------------------------------------------- |
| addLast(1)                                                                                                      |               |
| ------------------------------------------------------------------------------------------------------------------------------- |
| pollFirst(): 1                                                                                                  |               |
|   deque.pollFirst(): 1 at ConcurrentLinkedDequeTest.pollFirst(ConcurrentLinkedDequeTest.kt:30)                  |               |
|     first(): Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:915)                          |               |
|     first = Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:915)                           |               |
|     first ➜ Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:915)                           |               |
|     p = Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:915)                               |               |
|     p ➜ Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:917)                               |               |
|     Node#2.item ➜ null at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:917)                       |               |
|     item = null at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:917)                              |               |
|     p ➜ Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:925)                               |               |
|     p ➜ Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:925)                               |               |
|     Node#2.next ➜ Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:925)                     |               |
|     p = Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:925)                               |               |
|     p ➜ Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:926)                               |               |
|     p ➜ Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:917)                               |               |
|     Node#1.item ➜ 1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:917)                          |               |
|     item = 1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:917)                                 |               |
|     first ➜ Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:919)                           |               |
|     Node#2.prev ➜ null at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:919)                       |               |
|     p ➜ Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:920)                               |               |
|     item ➜ 1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:920)                                 |               |
|     switch                                                                                                      |               |
|                                                                                                                 | addFirst(0)   |
|                                                                                                                 | peekLast(): 1 |
|     Node#1.item.compareAndSet(1, null): true at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:920) |               |
|     p ➜ Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:921)                               |               |
|     unlink(Node#1) at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:921)                           |               |
|     item ➜ 1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:922)                                 |               |
|   result: 1                                                                                                     |               |
| ------------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                 Thread 1                                                                 |                                                        Thread 2                                                        |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| addLast(1)                                                                                                                               |                                                                                                                        |
|   e ➜ 1 at ConcurrentLinkedDequeTest.addLast(ConcurrentLinkedDequeTest.kt:27)                                                            |                                                                                                                        |
|   deque.addLast(1) at ConcurrentLinkedDequeTest.addLast(ConcurrentLinkedDequeTest.kt:27)                                                 |                                                                                                                        |
|     e ➜ 1 at ConcurrentLinkedDeque.addLast(ConcurrentLinkedDeque.java:840)                                                               |                                                                                                                        |
|     linkLast(1) at ConcurrentLinkedDeque.addLast(ConcurrentLinkedDeque.java:840)                                                         |                                                                                                                        |
|       e ➜ 1 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:347)                                                            |                                                                                                                        |
|       ConcurrentLinkedDeque.newNode(1): Node#1 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:347)                         |                                                                                                                        |
|         node = Node#1 at ConcurrentLinkedDeque.newNode(ConcurrentLinkedDeque.java:306)                                                   |                                                                                                                        |
|         node ➜ Node#1 at ConcurrentLinkedDeque.newNode(ConcurrentLinkedDeque.java:307)                                                   |                                                                                                                        |
|         item ➜ 1 at ConcurrentLinkedDeque.newNode(ConcurrentLinkedDeque.java:307)                                                        |                                                                                                                        |
|         Node#1.item.set(1) at ConcurrentLinkedDeque.newNode(ConcurrentLinkedDeque.java:307)                                              |                                                                                                                        |
|         node ➜ Node#1 at ConcurrentLinkedDeque.newNode(ConcurrentLinkedDeque.java:308)                                                   |                                                                                                                        |
|       newNode = Node#1 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:347)                                                 |                                                                                                                        |
|       tail ➜ Node#2 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:351)                                                    |                                                                                                                        |
|       t = Node#2 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:351)                                                       |                                                                                                                        |
|       t ➜ Node#2 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:351)                                                       |                                                                                                                        |
|       p = Node#2 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:351)                                                       |                                                                                                                        |
|       p ➜ Node#2 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:352)                                                       |                                                                                                                        |
|       Node#2.next ➜ null at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:352)                                               |                                                                                                                        |
|       q = null at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:352)                                                         |                                                                                                                        |
|       p ➜ Node#2 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:357)                                                       |                                                                                                                        |
|       Node#2.prev ➜ null at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:357)                                               |                                                                                                                        |
|       p ➜ Node#2 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:357)                                                       |                                                                                                                        |
|       newNode ➜ Node#1 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:361)                                                 |                                                                                                                        |
|       p ➜ Node#2 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:361)                                                       |                                                                                                                        |
|       Node#1.prev.set(Node#2) at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:361)                                          |                                                                                                                        |
|       p ➜ Node#2 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:362)                                                       |                                                                                                                        |
|       newNode ➜ Node#1 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:362)                                                 |                                                                                                                        |
|       Node#2.next.compareAndSet(null, Node#1): true at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:362)                    |                                                                                                                        |
|       p ➜ Node#2 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:366)                                                       |                                                                                                                        |
|       t ➜ Node#2 at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:366)                                                       |                                                                                                                        |
|   result: void                                                                                                                           |                                                                                                                        |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| pollFirst(): 1                                                                                                                           |                                                                                                                        |
|   deque.pollFirst(): 1 at ConcurrentLinkedDequeTest.pollFirst(ConcurrentLinkedDequeTest.kt:30)                                           |                                                                                                                        |
|     first(): Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:915)                                                   |                                                                                                                        |
|       head ➜ Node#2 at ConcurrentLinkedDeque.first(ConcurrentLinkedDeque.java:712)                                                       |                                                                                                                        |
|       h = Node#2 at ConcurrentLinkedDeque.first(ConcurrentLinkedDeque.java:712)                                                          |                                                                                                                        |
|       h ➜ Node#2 at ConcurrentLinkedDeque.first(ConcurrentLinkedDeque.java:712)                                                          |                                                                                                                        |
|       p = Node#2 at ConcurrentLinkedDeque.first(ConcurrentLinkedDeque.java:712)                                                          |                                                                                                                        |
|       p ➜ Node#2 at ConcurrentLinkedDeque.first(ConcurrentLinkedDeque.java:713)                                                          |                                                                                                                        |
|       Node#2.prev ➜ null at ConcurrentLinkedDeque.first(ConcurrentLinkedDeque.java:713)                                                  |                                                                                                                        |
|       q = null at ConcurrentLinkedDeque.first(ConcurrentLinkedDeque.java:713)                                                            |                                                                                                                        |
|       p ➜ Node#2 at ConcurrentLinkedDeque.first(ConcurrentLinkedDeque.java:718)                                                          |                                                                                                                        |
|       h ➜ Node#2 at ConcurrentLinkedDeque.first(ConcurrentLinkedDeque.java:718)                                                          |                                                                                                                        |
|       p ➜ Node#2 at ConcurrentLinkedDeque.first(ConcurrentLinkedDeque.java:722)                                                          |                                                                                                                        |
|     first = Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:915)                                                    |                                                                                                                        |
|     first ➜ Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:915)                                                    |                                                                                                                        |
|     p = Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:915)                                                        |                                                                                                                        |
|     p ➜ Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:917)                                                        |                                                                                                                        |
|     Node#2.item ➜ null at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:917)                                                |                                                                                                                        |
|     item = null at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:917)                                                       |                                                                                                                        |
|     p ➜ Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:925)                                                        |                                                                                                                        |
|     p ➜ Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:925)                                                        |                                                                                                                        |
|     Node#2.next ➜ Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:925)                                              |                                                                                                                        |
|     p = Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:925)                                                        |                                                                                                                        |
|     p ➜ Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:926)                                                        |                                                                                                                        |
|     p ➜ Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:917)                                                        |                                                                                                                        |
|     Node#1.item ➜ 1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:917)                                                   |                                                                                                                        |
|     item = 1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:917)                                                          |                                                                                                                        |
|     first ➜ Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:919)                                                    |                                                                                                                        |
|     Node#2.prev ➜ null at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:919)                                                |                                                                                                                        |
|     p ➜ Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:920)                                                        |                                                                                                                        |
|     item ➜ 1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:920)                                                          |                                                                                                                        |
|     switch                                                                                                                               |                                                                                                                        |
|                                                                                                                                          | addFirst(0)                                                                                                            |
|                                                                                                                                          |   e ➜ 0 at ConcurrentLinkedDequeTest.addFirst(ConcurrentLinkedDequeTest.kt:24)                                         |
|                                                                                                                                          |   deque.addFirst(0) at ConcurrentLinkedDequeTest.addFirst(ConcurrentLinkedDequeTest.kt:24)                             |
|                                                                                                                                          |     e ➜ 0 at ConcurrentLinkedDeque.addFirst(ConcurrentLinkedDeque.java:827)                                            |
|                                                                                                                                          |     linkFirst(0) at ConcurrentLinkedDeque.addFirst(ConcurrentLinkedDeque.java:827)                                     |
|                                                                                                                                          |       e ➜ 0 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:315)                                         |
|                                                                                                                                          |       ConcurrentLinkedDeque.newNode(0): Node#3 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:315)      |
|                                                                                                                                          |         node = Node#3 at ConcurrentLinkedDeque.newNode(ConcurrentLinkedDeque.java:306)                                 |
|                                                                                                                                          |         node ➜ Node#3 at ConcurrentLinkedDeque.newNode(ConcurrentLinkedDeque.java:307)                                 |
|                                                                                                                                          |         item ➜ 0 at ConcurrentLinkedDeque.newNode(ConcurrentLinkedDeque.java:307)                                      |
|                                                                                                                                          |         Node#3.item.set(0) at ConcurrentLinkedDeque.newNode(ConcurrentLinkedDeque.java:307)                            |
|                                                                                                                                          |         node ➜ Node#3 at ConcurrentLinkedDeque.newNode(ConcurrentLinkedDeque.java:308)                                 |
|                                                                                                                                          |       newNode = Node#3 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:315)                              |
|                                                                                                                                          |       head ➜ Node#2 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:319)                                 |
|                                                                                                                                          |       h = Node#2 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:319)                                    |
|                                                                                                                                          |       h ➜ Node#2 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:319)                                    |
|                                                                                                                                          |       p = Node#2 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:319)                                    |
|                                                                                                                                          |       p ➜ Node#2 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:320)                                    |
|                                                                                                                                          |       Node#2.prev ➜ null at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:320)                            |
|                                                                                                                                          |       q = null at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:320)                                      |
|                                                                                                                                          |       p ➜ Node#2 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:325)                                    |
|                                                                                                                                          |       Node#2.next ➜ Node#1 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:325)                          |
|                                                                                                                                          |       p ➜ Node#2 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:325)                                    |
|                                                                                                                                          |       newNode ➜ Node#3 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:329)                              |
|                                                                                                                                          |       p ➜ Node#2 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:329)                                    |
|                                                                                                                                          |       Node#3.next.set(Node#2) at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:329)                       |
|                                                                                                                                          |       p ➜ Node#2 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:330)                                    |
|                                                                                                                                          |       newNode ➜ Node#3 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:330)                              |
|                                                                                                                                          |       Node#2.prev.compareAndSet(null, Node#3): true at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:330) |
|                                                                                                                                          |       p ➜ Node#2 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:334)                                    |
|                                                                                                                                          |       h ➜ Node#2 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:334)                                    |
|                                                                                                                                          |   result: void                                                                                                         |
|                                                                                                                                          | peekLast(): 1                                                                                                          |
|                                                                                                                                          |   deque.peekLast(): 1 at ConcurrentLinkedDequeTest.peekLast(ConcurrentLinkedDequeTest.kt:39)                           |
|                                                                                                                                          |     last(): Node#1 at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:887)                                   |
|                                                                                                                                          |       tail ➜ Node#2 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:737)                                      |
|                                                                                                                                          |       t = Node#2 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:737)                                         |
|                                                                                                                                          |       t ➜ Node#2 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:737)                                         |
|                                                                                                                                          |       p = Node#2 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:737)                                         |
|                                                                                                                                          |       p ➜ Node#2 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:738)                                         |
|                                                                                                                                          |       Node#2.next ➜ Node#1 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:738)                               |
|                                                                                                                                          |       q = Node#1 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:738)                                         |
|                                                                                                                                          |       q ➜ Node#1 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:738)                                         |
|                                                                                                                                          |       p = Node#1 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:738)                                         |
|                                                                                                                                          |       Node#1.next ➜ null at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:738)                                 |
|                                                                                                                                          |       q = null at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:738)                                           |
|                                                                                                                                          |       p ➜ Node#1 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:743)                                         |
|                                                                                                                                          |       t ➜ Node#2 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:743)                                         |
|                                                                                                                                          |       t ➜ Node#2 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:743)                                         |
|                                                                                                                                          |       p ➜ Node#1 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:743)                                         |
|                                                                                                                                          |       tail.compareAndSet(Node#2, Node#1): true at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:746)           |
|                                                                                                                                          |       p ➜ Node#1 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:747)                                         |
|                                                                                                                                          |     item = Node#1 at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:887)                                    |
|                                                                                                                                          |     item ➜ Node#1 at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:887)                                    |
|                                                                                                                                          |     last = Node#1 at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:887)                                    |
|                                                                                                                                          |     last ➜ Node#1 at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:888)                                    |
|                                                                                                                                          |     Node#1.item ➜ 1 at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:888)                                  |
|                                                                                                                                          |     p = 1 at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:888)                                            |
|                                                                                                                                          |     item ➜ Node#1 at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:894)                                    |
|                                                                                                                                          |     Node#1.next ➜ null at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:894)                               |
|                                                                                                                                          |     p ➜ 1 at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:895)                                            |
|                                                                                                                                          |   result: 1                                                                                                            |
|     Node#1.item.compareAndSet(1, null): true at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:920)                          |                                                                                                                        |
|     p ➜ Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:921)                                                        |                                                                                                                        |
|     unlink(Node#1) at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:921)                                                    |                                                                                                                        |
|       x ➜ Node#1 at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:386)                                                         |                                                                                                                        |
|       Node#1.prev ➜ Node#2 at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:386)                                               |                                                                                                                        |
|       prev = Node#2 at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:386)                                                      |                                                                                                                        |
|       x ➜ Node#1 at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:387)                                                         |                                                                                                                        |
|       Node#1.next ➜ null at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:387)                                                 |                                                                                                                        |
|       next = null at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:387)                                                        |                                                                                                                        |
|       prev ➜ Node#2 at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:388)                                                      |                                                                                                                        |
|       next ➜ null at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:390)                                                        |                                                                                                                        |
|       x ➜ Node#1 at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:391)                                                         |                                                                                                                        |
|       prev ➜ Node#2 at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:391)                                                      |                                                                                                                        |
|       unlinkLast(Node#1, Node#2) at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:391)                                         |                                                                                                                        |
|         o = null at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:530)                                                     |                                                                                                                        |
|         prev ➜ Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:530)                                                |                                                                                                                        |
|         p = Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:530)                                                   |                                                                                                                        |
|         p ➜ Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:531)                                                   |                                                                                                                        |
|         Node#2.item ➜ null at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:531)                                           |                                                                                                                        |
|         p ➜ Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:531)                                                   |                                                                                                                        |
|         Node#2.prev ➜ Node#3 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:531)                                         |                                                                                                                        |
|         q = Node#3 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:531)                                                   |                                                                                                                        |
|         p ➜ Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:549)                                                   |                                                                                                                        |
|         q ➜ Node#3 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:549)                                                   |                                                                                                                        |
|         p ➜ Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:552)                                                   |                                                                                                                        |
|         o = Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:552)                                                   |                                                                                                                        |
|         q ➜ Node#3 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:553)                                                   |                                                                                                                        |
|         p = Node#3 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:553)                                                   |                                                                                                                        |
|         p ➜ Node#3 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:531)                                                   |                                                                                                                        |
|         Node#3.item ➜ 0 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:531)                                              |                                                                                                                        |
|         o ➜ Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:532)                                                   |                                                                                                                        |
|         p ➜ Node#3 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:532)                                                   |                                                                                                                        |
|         Node#3.next ➜ Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:532)                                         |                                                                                                                        |
|         p ➜ Node#3 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:532)                                                   |                                                                                                                        |
|         last ➜ Node#1 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:532)                                                |                                                                                                                        |
|         prev ➜ Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:532)                                                |                                                                                                                        |
|         p ➜ Node#3 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:532)                                                   |                                                                                                                        |
|         Node#1.prev.compareAndSet(Node#2, Node#3): true at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:533)              |                                                                                                                        |
|         p ➜ Node#3 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:534)                                                   |                                                                                                                        |
|         skipDeletedSuccessors(Node#3) at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:534)                                |                                                                                                                        |
|           x ➜ Node#3 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:652)                                      |                                                                                                                        |
|           Node#3.next ➜ Node#2 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:652)                            |                                                                                                                        |
|           next = Node#2 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:652)                                   |                                                                                                                        |
|           next ➜ Node#2 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:656)                                   |                                                                                                                        |
|           p = Node#2 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:656)                                      |                                                                                                                        |
|           p ➜ Node#2 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:659)                                      |                                                                                                                        |
|           Node#2.item ➜ null at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:659)                              |                                                                                                                        |
|           p ➜ Node#2 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:661)                                      |                                                                                                                        |
|           Node#2.next ➜ Node#1 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:661)                            |                                                                                                                        |
|           q = Node#1 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:661)                                      |                                                                                                                        |
|           q ➜ Node#1 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:662)                                      |                                                                                                                        |
|           p ➜ Node#2 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:667)                                      |                                                                                                                        |
|           q ➜ Node#1 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:667)                                      |                                                                                                                        |
|           q ➜ Node#1 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:670)                                      |                                                                                                                        |
|           p = Node#1 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:670)                                      |                                                                                                                        |
|           p ➜ Node#1 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:659)                                      |                                                                                                                        |
|           Node#1.item ➜ null at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:659)                              |                                                                                                                        |
|           p ➜ Node#1 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:661)                                      |                                                                                                                        |
|           Node#1.next ➜ null at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:661)                              |                                                                                                                        |
|           q = null at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:661)                                        |                                                                                                                        |
|           q ➜ null at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:662)                                        |                                                                                                                        |
|           p ➜ Node#1 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:663)                                      |                                                                                                                        |
|           Node#1.prev ➜ Node#3 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:663)                            |                                                                                                                        |
|           p ➜ Node#1 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:663)                                      |                                                                                                                        |
|           next ➜ Node#2 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:674)                                   |                                                                                                                        |
|           p ➜ Node#1 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:674)                                      |                                                                                                                        |
|           x ➜ Node#3 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:674)                                      |                                                                                                                        |
|           next ➜ Node#2 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:674)                                   |                                                                                                                        |
|           p ➜ Node#1 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:674)                                      |                                                                                                                        |
|           Node#3.next.compareAndSet(Node#2, Node#1): true at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:674) |                                                                                                                        |
|         last ➜ Node#1 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:535)                                                |                                                                                                                        |
|         Node#1.next ➜ null at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:535)                                           |                                                                                                                        |
|         p ➜ Node#3 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:535)                                                   |                                                                                                                        |
|         Node#3.prev ➜ null at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:535)                                           |                                                                                                                        |
|         p ➜ Node#3 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:535)                                                   |                                                                                                                        |
|         Node#3.next ➜ Node#1 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:535)                                         |                                                                                                                        |
|         last ➜ Node#1 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:535)                                                |                                                                                                                        |
|         updateHead() at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:539)                                                 |                                                                                                                        |
|           head ➜ Node#2 at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:569)                                              |                                                                                                                        |
|           h = Node#2 at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:569)                                                 |                                                                                                                        |
|           Node#2.item ➜ null at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:569)                                         |                                                                                                                        |
|           h ➜ Node#2 at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:569)                                                 |                                                                                                                        |
|           Node#2.prev ➜ Node#3 at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:569)                                       |                                                                                                                        |
|           p = Node#3 at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:569)                                                 |                                                                                                                        |
|           p ➜ Node#3 at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:571)                                                 |                                                                                                                        |
|           Node#3.prev ➜ null at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:571)                                         |                                                                                                                        |
|           q = null at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:571)                                                   |                                                                                                                        |
|           h ➜ Node#2 at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:575)                                                 |                                                                                                                        |
|           p ➜ Node#3 at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:575)                                                 |                                                                                                                        |
|           head.compareAndSet(Node#2, Node#3): true at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:575)                   |                                                                                                                        |
|         updateTail() at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:540)                                                 |                                                                                                                        |
|           tail ➜ Node#1 at ConcurrentLinkedDeque.updateTail(ConcurrentLinkedDeque.java:599)                                              |                                                                                                                        |
|           t = Node#1 at ConcurrentLinkedDeque.updateTail(ConcurrentLinkedDeque.java:599)                                                 |                                                                                                                        |
|           Node#1.item ➜ null at ConcurrentLinkedDeque.updateTail(ConcurrentLinkedDeque.java:599)                                         |                                                                                                                        |
|           t ➜ Node#1 at ConcurrentLinkedDeque.updateTail(ConcurrentLinkedDeque.java:599)                                                 |                                                                                                                        |
|           Node#1.next ➜ null at ConcurrentLinkedDeque.updateTail(ConcurrentLinkedDeque.java:599)                                         |                                                                                                                        |
|           p = null at ConcurrentLinkedDeque.updateTail(ConcurrentLinkedDeque.java:599)                                                   |                                                                                                                        |
|         o ➜ Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:543)                                                   |                                                                                                                        |
|         o ➜ Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:543)                                                   |                                                                                                                        |
|         Node#2.prev.setRelease(Node#2) at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:543)                               |                                                                                                                        |
|         o ➜ Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:544)                                                   |                                                                                                                        |
|         Node#2.next.setRelease(Node#4) at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:544)                               |                                                                                                                        |
|     item ➜ 1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:922)                                                          |                                                                                                                        |
|   result: 1                                                                                                                              |                                                                                                                        |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
