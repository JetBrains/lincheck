= Invalid execution results =
| ------------------------------- |
|    Thread 1    |    Thread 2    |
| ------------------------------- |
| STATE: 0                        |
| ------------------------------- |
| operation(): 2 | operation(): 3 |
| ------------------------------- |
| STATE: 4                        |
| ------------------------------- |

The following interleaving leads to the error:
| ---------------------------------------------------------------------------------------------------------------------------- |
|    Thread 1    |                                                  Thread 2                                                   |
| ---------------------------------------------------------------------------------------------------------------------------- |
|                | operation(): 3                                                                                              |
|                |   counter.READ: AtomicInteger@1 at ModelCheckingStateReportingTest.operation(StateRepresentationTest.kt:35) |
|                |   incrementAndGet(): 1 at ModelCheckingStateReportingTest.operation(StateRepresentationTest.kt:35)          |
|                |   STATE: 1                                                                                                  |
|                |   counter.READ: AtomicInteger@1 at ModelCheckingStateReportingTest.operation(StateRepresentationTest.kt:36) |
|                |   switch                                                                                                    |
| operation(): 2 |                                                                                                             |
| STATE: 3       |                                                                                                             |
|                |   getAndIncrement(): 3 at ModelCheckingStateReportingTest.operation(StateRepresentationTest.kt:36)          |
|                |   STATE: 4                                                                                                  |
|                |   result: 3                                                                                                 |
| ---------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                  Thread 1                                                   |                                                  Thread 2                                                   |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                             | operation(): 3                                                                                              |
|                                                                                                             |   counter.READ: AtomicInteger@1 at ModelCheckingStateReportingTest.operation(StateRepresentationTest.kt:35) |
|                                                                                                             |   incrementAndGet(): 1 at ModelCheckingStateReportingTest.operation(StateRepresentationTest.kt:35)          |
|                                                                                                             |   STATE: 1                                                                                                  |
|                                                                                                             |   counter.READ: AtomicInteger@1 at ModelCheckingStateReportingTest.operation(StateRepresentationTest.kt:36) |
|                                                                                                             |   switch                                                                                                    |
| operation(): 2                                                                                              |                                                                                                             |
|   counter.READ: AtomicInteger@1 at ModelCheckingStateReportingTest.operation(StateRepresentationTest.kt:35) |                                                                                                             |
|   incrementAndGet(): 2 at ModelCheckingStateReportingTest.operation(StateRepresentationTest.kt:35)          |                                                                                                             |
|   STATE: 2                                                                                                  |                                                                                                             |
|   counter.READ: AtomicInteger@1 at ModelCheckingStateReportingTest.operation(StateRepresentationTest.kt:36) |                                                                                                             |
|   getAndIncrement(): 2 at ModelCheckingStateReportingTest.operation(StateRepresentationTest.kt:36)          |                                                                                                             |
|   STATE: 3                                                                                                  |                                                                                                             |
|   result: 2                                                                                                 |                                                                                                             |
|                                                                                                             |   getAndIncrement(): 3 at ModelCheckingStateReportingTest.operation(StateRepresentationTest.kt:36)          |
|                                                                                                             |   STATE: 4                                                                                                  |
|                                                                                                             |   result: 3                                                                                                 |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |


= To reproduce exactly this test execution with the same scenarios, you can add this setting in your testing options configuration =
.withReproduceSettings("eyJyYW5kb21TZWVkR2VuZXJhdG9yU2VlZCI6NDQ5ODM4NDAwMzMwODU3NDYyNn0=")

= You can add this scenario as a custom test. Insert this code in your testing options configuration =
.addCustomScenario {
	parallel {
		thread {
			actor(::operation)
		}
		thread {
			actor(::operation)
		}
	}
}
