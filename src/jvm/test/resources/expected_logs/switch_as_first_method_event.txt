= Invalid execution results =
| ----------------------------------------- |
|      Thread 1       |      Thread 2       |
| ----------------------------------------- |
| incTwiceAndGet(): 3 | incTwiceAndGet(): 4 |
| ----------------------------------------- |

The following interleaving leads to the error:
| ------------------------------------------------------------------------------------------------------------------------- |
|      Thread 1       |                                              Thread 2                                               |
| ------------------------------------------------------------------------------------------------------------------------- |
|                     | incTwiceAndGet(): 4                                                                                 |
|                     |   incAndGet(): 1 at SwitchAsFirstMethodEventTest.incTwiceAndGet(SwitchAsFirstMethodEventTest.kt:54) |
|                     |   switch                                                                                            |
| incTwiceAndGet(): 3 |                                                                                                     |
|                     |   incAndGet(): 4 at SwitchAsFirstMethodEventTest.incTwiceAndGet(SwitchAsFirstMethodEventTest.kt:55) |
|                     |   result: 4                                                                                         |
| ------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                           Thread 1                                                            |                                                           Thread 2                                                            |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                               | incTwiceAndGet(): 4                                                                                                           |
|                                                                                                                               |   incAndGet(): 1 at SwitchAsFirstMethodEventTest.incTwiceAndGet(SwitchAsFirstMethodEventTest.kt:54)                           |
|                                                                                                                               |     incAndGetImpl(): 1 at SwitchAsFirstMethodEventTest.incAndGet(SwitchAsFirstMethodEventTest.kt:58)                          |
|                                                                                                                               |       counter$volatile.incrementAndGet(): 1 at SwitchAsFirstMethodEventTest.incAndGetImpl(SwitchAsFirstMethodEventTest.kt:60) |
|                                                                                                                               |   switch                                                                                                                      |
| incTwiceAndGet(): 3                                                                                                           |                                                                                                                               |
|   incAndGet(): 2 at SwitchAsFirstMethodEventTest.incTwiceAndGet(SwitchAsFirstMethodEventTest.kt:54)                           |                                                                                                                               |
|     incAndGetImpl(): 2 at SwitchAsFirstMethodEventTest.incAndGet(SwitchAsFirstMethodEventTest.kt:58)                          |                                                                                                                               |
|       counter$volatile.incrementAndGet(): 2 at SwitchAsFirstMethodEventTest.incAndGetImpl(SwitchAsFirstMethodEventTest.kt:60) |                                                                                                                               |
|   incAndGet(): 3 at SwitchAsFirstMethodEventTest.incTwiceAndGet(SwitchAsFirstMethodEventTest.kt:55)                           |                                                                                                                               |
|     incAndGetImpl(): 3 at SwitchAsFirstMethodEventTest.incAndGet(SwitchAsFirstMethodEventTest.kt:58)                          |                                                                                                                               |
|       counter$volatile.incrementAndGet(): 3 at SwitchAsFirstMethodEventTest.incAndGetImpl(SwitchAsFirstMethodEventTest.kt:60) |                                                                                                                               |
|   result: 3                                                                                                                   |                                                                                                                               |
|                                                                                                                               |   incAndGet(): 4 at SwitchAsFirstMethodEventTest.incTwiceAndGet(SwitchAsFirstMethodEventTest.kt:55)                           |
|                                                                                                                               |     incAndGetImpl(): 4 at SwitchAsFirstMethodEventTest.incAndGet(SwitchAsFirstMethodEventTest.kt:58)                          |
|                                                                                                                               |       counter$volatile.incrementAndGet(): 4 at SwitchAsFirstMethodEventTest.incAndGetImpl(SwitchAsFirstMethodEventTest.kt:60) |
|                                                                                                                               |   result: 4                                                                                                                   |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
