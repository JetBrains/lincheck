= The execution has hung, see the thread dump =
| ------------------- |
| Thread 1 | Thread 2 |
| ------------------- |
| one()    |          |
| one()    |          |
| one()    |          |
| one()    |          |
| two()    |          |
| ------------------- |
| two()    | two()    |
| two()    | two()    |
| two()    | two()    |
| two()    | one()    |
| one()    | one()    |
| ------------------- |
| two()    |          |
| two()    |          |
| two()    |          |
| two()    |          |
| two()    |          |
| ------------------- |


The following interleaving leads to the error:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                              Thread 1                                               |                                              Thread 2                                               |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|   one()                                                                                             |                                                                                                     |
|   one()                                                                                             |                                                                                                     |
|   one()                                                                                             |                                                                                                     |
|   one()                                                                                             |                                                                                                     |
|   two()                                                                                             |                                                                                                     |
|                                                                                                     |   two()                                                                                             |
|                                                                                                     |   two()                                                                                             |
|                                                                                                     |   two()                                                                                             |
|                                                                                                     |   one()                                                                                             |
|                                                                                                     |   one()                                                                                             |
|                                                                                                     |     compareAndSet(false,true): true at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:140)  |
|                                                                                                     |     switch                                                                                          |
|   two()                                                                                             |                                                                                                     |
|     compareAndSet(false,true): true at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:154)  |                                                                                                     |
|     /* The following events repeat infinitely: */                                                   |                                                                                                     |
| ┌╶> compareAndSet(false,true): false at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:157) |                                                                                                     |
| |   meaninglessActions() at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:158)             |                                                                                                     |
| └╶╶╶/* The next call would cause infinite spin-cycle, switch to avoid it */                         |                                                                                                     |
|     switch (reason: active lock detected)                                                           |                                                                                                     |
|                                                                                                     |     /* The following events repeat infinitely: */                                                   |
|                                                                                                     | ┌╶> compareAndSet(false,true): false at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:143) |
|                                                                                                     | |   meaninglessActions() at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:144)             |
|                                                                                                     | └╶╶╶/* The next call would cause infinite spin-cycle, switch to avoid it */                         |
|                                                                                                     |     switch (reason: active lock detected)                                                           |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock

Detailed trace:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                 Thread 1                                                  |                                                 Thread 2                                                  |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|   one()                                                                                                   |                                                                                                           |
|     compareAndSet(false,true): true at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:140)        |                                                                                                           |
|     compareAndSet(false,true): true at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:143)        |                                                                                                           |
|     set(false) at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:146)                             |                                                                                                           |
|     set(false) at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:147)                             |                                                                                                           |
|   one()                                                                                                   |                                                                                                           |
|     compareAndSet(false,true): true at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:140)        |                                                                                                           |
|     compareAndSet(false,true): true at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:143)        |                                                                                                           |
|     set(false) at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:146)                             |                                                                                                           |
|     set(false) at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:147)                             |                                                                                                           |
|   one()                                                                                                   |                                                                                                           |
|     compareAndSet(false,true): true at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:140)        |                                                                                                           |
|     compareAndSet(false,true): true at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:143)        |                                                                                                           |
|     set(false) at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:146)                             |                                                                                                           |
|     set(false) at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:147)                             |                                                                                                           |
|   one()                                                                                                   |                                                                                                           |
|     compareAndSet(false,true): true at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:140)        |                                                                                                           |
|     compareAndSet(false,true): true at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:143)        |                                                                                                           |
|     set(false) at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:146)                             |                                                                                                           |
|     set(false) at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:147)                             |                                                                                                           |
|   two()                                                                                                   |                                                                                                           |
|     compareAndSet(false,true): true at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:154)        |                                                                                                           |
|     compareAndSet(false,true): true at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:157)        |                                                                                                           |
|     set(false) at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:160)                             |                                                                                                           |
|     set(false) at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:161)                             |                                                                                                           |
|                                                                                                           |   two()                                                                                                   |
|                                                                                                           |     compareAndSet(false,true): true at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:154)        |
|                                                                                                           |     compareAndSet(false,true): true at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:157)        |
|                                                                                                           |     set(false) at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:160)                             |
|                                                                                                           |     set(false) at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:161)                             |
|                                                                                                           |   two()                                                                                                   |
|                                                                                                           |     compareAndSet(false,true): true at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:154)        |
|                                                                                                           |     compareAndSet(false,true): true at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:157)        |
|                                                                                                           |     set(false) at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:160)                             |
|                                                                                                           |     set(false) at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:161)                             |
|                                                                                                           |   two()                                                                                                   |
|                                                                                                           |     compareAndSet(false,true): true at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:154)        |
|                                                                                                           |     compareAndSet(false,true): true at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:157)        |
|                                                                                                           |     set(false) at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:160)                             |
|                                                                                                           |     set(false) at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:161)                             |
|                                                                                                           |   one()                                                                                                   |
|                                                                                                           |     compareAndSet(false,true): true at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:140)        |
|                                                                                                           |     compareAndSet(false,true): true at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:143)        |
|                                                                                                           |     set(false) at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:146)                             |
|                                                                                                           |     set(false) at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:147)                             |
|                                                                                                           |   one()                                                                                                   |
|                                                                                                           |     compareAndSet(false,true): true at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:140)        |
|                                                                                                           |     switch                                                                                                |
|   two()                                                                                                   |                                                                                                           |
|     compareAndSet(false,true): true at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:154)        |                                                                                                           |
|     /* The following events repeat infinitely: */                                                         |                                                                                                           |
| ┌╶> compareAndSet(false,true): false at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:157)       |                                                                                                           |
| |   meaninglessActions() at AbstractSpinLivelockTest.two(SpinlockEventsCutTests.kt:158)                   |                                                                                                           |
| |     set(0,0) at SpinlockEventsCutLongCycleActionsTest.meaninglessActions(SpinlockEventsCutTests.kt:106) |                                                                                                           |
| |     set(1,0) at SpinlockEventsCutLongCycleActionsTest.meaninglessActions(SpinlockEventsCutTests.kt:107) |                                                                                                           |
| |     set(2,0) at SpinlockEventsCutLongCycleActionsTest.meaninglessActions(SpinlockEventsCutTests.kt:108) |                                                                                                           |
| |     set(3,0) at SpinlockEventsCutLongCycleActionsTest.meaninglessActions(SpinlockEventsCutTests.kt:109) |                                                                                                           |
| |     set(4,0) at SpinlockEventsCutLongCycleActionsTest.meaninglessActions(SpinlockEventsCutTests.kt:110) |                                                                                                           |
| |     set(5,0) at SpinlockEventsCutLongCycleActionsTest.meaninglessActions(SpinlockEventsCutTests.kt:111) |                                                                                                           |
| |     set(6,0) at SpinlockEventsCutLongCycleActionsTest.meaninglessActions(SpinlockEventsCutTests.kt:112) |                                                                                                           |
| └╶╶╶/* The next call would cause infinite spin-cycle, switch to avoid it */                               |                                                                                                           |
|     switch (reason: active lock detected)                                                                 |                                                                                                           |
|                                                                                                           |     /* The following events repeat infinitely: */                                                         |
|                                                                                                           | ┌╶> compareAndSet(false,true): false at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:143)       |
|                                                                                                           | |   meaninglessActions() at AbstractSpinLivelockTest.one(SpinlockEventsCutTests.kt:144)                   |
|                                                                                                           | |     set(0,0) at SpinlockEventsCutLongCycleActionsTest.meaninglessActions(SpinlockEventsCutTests.kt:106) |
|                                                                                                           | |     set(1,0) at SpinlockEventsCutLongCycleActionsTest.meaninglessActions(SpinlockEventsCutTests.kt:107) |
|                                                                                                           | |     set(2,0) at SpinlockEventsCutLongCycleActionsTest.meaninglessActions(SpinlockEventsCutTests.kt:108) |
|                                                                                                           | |     set(3,0) at SpinlockEventsCutLongCycleActionsTest.meaninglessActions(SpinlockEventsCutTests.kt:109) |
|                                                                                                           | |     set(4,0) at SpinlockEventsCutLongCycleActionsTest.meaninglessActions(SpinlockEventsCutTests.kt:110) |
|                                                                                                           | |     set(5,0) at SpinlockEventsCutLongCycleActionsTest.meaninglessActions(SpinlockEventsCutTests.kt:111) |
|                                                                                                           | |     set(6,0) at SpinlockEventsCutLongCycleActionsTest.meaninglessActions(SpinlockEventsCutTests.kt:112) |
|                                                                                                           | └╶╶╶/* The next call would cause infinite spin-cycle, switch to avoid it */                               |
|                                                                                                           |     switch (reason: active lock detected)                                                                 |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock
