= Invalid execution results =
| ------------------------------- |
|    Thread 1    |    Thread 2    |
| ------------------------------- |
| increment(): 0 | increment(): 0 |
| ------------------------------- |

The following interleaving leads to the error:
| ------------------------------------------------------------------------------------------------------------------------------------------------- |
|    Thread 1    |                                                             Thread 2                                                             |
| ------------------------------------------------------------------------------------------------------------------------------------------------- |
|                | increment(): 0                                                                                                                   |
|                |   counter.READ: 0 at AtomicUpdaterTraceRepresentationTest.increment(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:132)       |
|                |   switch                                                                                                                         |
| increment(): 0 |                                                                                                                                  |
|                |   counter.WRITE(1) at AtomicUpdaterTraceRepresentationTest.increment(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:132)      |
|                |   actionsJustForTrace() at AtomicUpdaterTraceRepresentationTest.increment(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:133) |
|                |   result: 0                                                                                                                      |
| ------------------------------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                            Thread 1                                                                            |                                                                            Thread 2                                                                            |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                                                | increment(): 0                                                                                                                                                 |
|                                                                                                                                                                |   counter.READ: 0 at AtomicUpdaterTraceRepresentationTest.increment(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:132)                                     |
|                                                                                                                                                                |   switch                                                                                                                                                       |
| increment(): 0                                                                                                                                                 |                                                                                                                                                                |
|   counter.READ: 0 at AtomicUpdaterTraceRepresentationTest.increment(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:132)                                     |                                                                                                                                                                |
|   counter.WRITE(1) at AtomicUpdaterTraceRepresentationTest.increment(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:132)                                    |                                                                                                                                                                |
|   actionsJustForTrace() at AtomicUpdaterTraceRepresentationTest.increment(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:133)                               |                                                                                                                                                                |
|     node.READ: Node#1 at AtomicUpdaterTraceRepresentationTest.actionsJustForTrace(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:148)                       |                                                                                                                                                                |
|     node.compareAndSet(Node#1,Node#2): true at AtomicUpdaterTraceRepresentationTest.actionsJustForTrace(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:148) |                                                                                                                                                                |
|     node.set(Node#3) at AtomicUpdaterTraceRepresentationTest.actionsJustForTrace(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:149)                        |                                                                                                                                                                |
|   result: 0                                                                                                                                                    |                                                                                                                                                                |
|                                                                                                                                                                |   counter.WRITE(1) at AtomicUpdaterTraceRepresentationTest.increment(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:132)                                    |
|                                                                                                                                                                |   actionsJustForTrace() at AtomicUpdaterTraceRepresentationTest.increment(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:133)                               |
|                                                                                                                                                                |     node.READ: Node#3 at AtomicUpdaterTraceRepresentationTest.actionsJustForTrace(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:148)                       |
|                                                                                                                                                                |     node.compareAndSet(Node#3,Node#4): true at AtomicUpdaterTraceRepresentationTest.actionsJustForTrace(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:148) |
|                                                                                                                                                                |     node.set(Node#5) at AtomicUpdaterTraceRepresentationTest.actionsJustForTrace(UnsafeUpdaterVarHandleTraceRepresentationTests.kt:149)                        |
|                                                                                                                                                                |   result: 0                                                                                                                                                    |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
