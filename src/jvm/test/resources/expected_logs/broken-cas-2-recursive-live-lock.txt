= The execution has hung, see the thread dump =
| --------------------------------------------------- |
|         Thread 1         |         Thread 2         |
| --------------------------------------------------- |
| cas2_0(0, 0, 2, 1, 0, 3) | cas2_1(0, 0, 4, 1, 0, 5) |
| --------------------------------------------------- |


The following interleaving leads to the error:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                Thread 1                                                                 |                                                                Thread 2                                                                 |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                         | cas2_1(0, 0, 4, 1, 0, 5)                                                                                                                |
|                                                                                                                                         |   cas2(0,0,4,1,0,5,1) at BrokenCas2RecursiveLiveLockTest.cas2_1(RecursiveSpinLocksTests.kt:135)                                         |
|                                                                                                                                         |     apply$default(Descriptor@1,false,1,false,5,null) at AtomicArrayWithCAS2.cas2(RecursiveSpinLocksTests.kt:181)                        |
|                                                                                                                                         |       apply(true,1,false) at AtomicArrayWithCAS2$Descriptor.apply$default(RecursiveSpinLocksTests.kt:207)                               |
|                                                                                                                                         |         installOrHelp$default(Descriptor@1,true,1,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:214) |
|                                                                                                                                         |           installOrHelp(true,1,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(RecursiveSpinLocksTests.kt:226)           |
|                                                                                                                                         |             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)          |
|                                                                                                                                         |             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)                        |
|                                                                                                                                         |             gate0.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:239)                              |
|                                                                                                                                         |             switch                                                                                                                      |
| cas2_0(0, 0, 2, 1, 0, 3)                                                                                                                |                                                                                                                                         |
|   cas2(0,0,2,1,0,3,0) at BrokenCas2RecursiveLiveLockTest.cas2_0(RecursiveSpinLocksTests.kt:129)                                         |                                                                                                                                         |
|     apply$default(Descriptor@3,false,0,false,5,null) at AtomicArrayWithCAS2.cas2(RecursiveSpinLocksTests.kt:181)                        |                                                                                                                                         |
|       apply(true,0,false) at AtomicArrayWithCAS2$Descriptor.apply$default(RecursiveSpinLocksTests.kt:207)                               |                                                                                                                                         |
|         installOrHelp$default(Descriptor@3,true,0,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:214) |                                                                                                                                         |
|           installOrHelp(true,0,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(RecursiveSpinLocksTests.kt:226)           |                                                                                                                                         |
|             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)          |                                                                                                                                         |
|             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)                        |                                                                                                                                         |
|             gate1.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:247)                              |                                                                                                                                         |
|             gate0.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:248)                               |                                                                                                                                         |
|             /* The following events recursively repeat infinitely: */                                                                   |                                                                                                                                         |
|         ┌╶> apply(false,0,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:249)                         |                                                                                                                                         |
|         |     status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:209)                             |                                                                                                                                         |
|         |     status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:210)     |                                                                                                                                         |
|         |     installOrHelp(true,0,true) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:211)                        |                                                                                                                                         |
|         |       array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)      |                                                                                                                                         |
|         |       get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)                    |                                                                                                                                         |
|         └╶╶╶╶╶╶╶/* The next call would cause infinite recursion spin-lock, switch to avoid it */                                        |                                                                                                                                         |
|                 switch (reason: active recursive lock detected)                                                                         |                                                                                                                                         |
|                                                                                                                                         |             gate1.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:240)                               |
|                                                                                                                                         |             /* The following events recursively repeat infinitely: */                                                                   |
|                                                                                                                                         |         ┌╶> apply(false,1,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:241)                         |
|                                                                                                                                         |         |     status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:209)                             |
|                                                                                                                                         |         |     status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:210)     |
|                                                                                                                                         |         |     installOrHelp(true,1,true) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:211)                        |
|                                                                                                                                         |         |       array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)      |
|                                                                                                                                         |         |       get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)                    |
|                                                                                                                                         |         └╶╶╶╶╶╶╶/* The next call would cause infinite recursion spin-lock, switch to avoid it */                                        |
|                                                                                                                                         |                 switch (reason: active recursive lock detected)                                                                         |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock

Detailed trace:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                Thread 1                                                                 |                                                                Thread 2                                                                 |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                         | cas2_1(0, 0, 4, 1, 0, 5)                                                                                                                |
|                                                                                                                                         |   cas2(0,0,4,1,0,5,1) at BrokenCas2RecursiveLiveLockTest.cas2_1(RecursiveSpinLocksTests.kt:135)                                         |
|                                                                                                                                         |     apply$default(Descriptor@1,false,1,false,5,null) at AtomicArrayWithCAS2.cas2(RecursiveSpinLocksTests.kt:181)                        |
|                                                                                                                                         |       apply(true,1,false) at AtomicArrayWithCAS2$Descriptor.apply$default(RecursiveSpinLocksTests.kt:207)                               |
|                                                                                                                                         |         installOrHelp$default(Descriptor@1,true,1,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:214) |
|                                                                                                                                         |           installOrHelp(true,1,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(RecursiveSpinLocksTests.kt:226)           |
|                                                                                                                                         |             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)          |
|                                                                                                                                         |             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)                        |
|                                                                                                                                         |             gate0.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:239)                              |
|                                                                                                                                         |             switch                                                                                                                      |
| cas2_0(0, 0, 2, 1, 0, 3)                                                                                                                |                                                                                                                                         |
|   cas2(0,0,2,1,0,3,0) at BrokenCas2RecursiveLiveLockTest.cas2_0(RecursiveSpinLocksTests.kt:129)                                         |                                                                                                                                         |
|     apply$default(Descriptor@3,false,0,false,5,null) at AtomicArrayWithCAS2.cas2(RecursiveSpinLocksTests.kt:181)                        |                                                                                                                                         |
|       apply(true,0,false) at AtomicArrayWithCAS2$Descriptor.apply$default(RecursiveSpinLocksTests.kt:207)                               |                                                                                                                                         |
|         installOrHelp$default(Descriptor@3,true,0,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:214) |                                                                                                                                         |
|           installOrHelp(true,0,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(RecursiveSpinLocksTests.kt:226)           |                                                                                                                                         |
|             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)          |                                                                                                                                         |
|             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)                        |                                                                                                                                         |
|             gate1.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:247)                              |                                                                                                                                         |
|             gate0.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:248)                               |                                                                                                                                         |
|             /* The following events recursively repeat infinitely: */                                                                   |                                                                                                                                         |
|         ┌╶> apply(false,0,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:249)                         |                                                                                                                                         |
|         |     status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:209)                             |                                                                                                                                         |
|         |     status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:210)     |                                                                                                                                         |
|         |     installOrHelp(true,0,true) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:211)                        |                                                                                                                                         |
|         |       array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)      |                                                                                                                                         |
|         |       get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)                    |                                                                                                                                         |
|         └╶╶╶╶╶╶╶/* The next call would cause infinite recursion spin-lock, switch to avoid it */                                        |                                                                                                                                         |
|                 switch (reason: active recursive lock detected)                                                                         |                                                                                                                                         |
|                                                                                                                                         |             gate1.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:240)                               |
|                                                                                                                                         |             /* The following events recursively repeat infinitely: */                                                                   |
|                                                                                                                                         |         ┌╶> apply(false,1,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:241)                         |
|                                                                                                                                         |         |     status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:209)                             |
|                                                                                                                                         |         |     status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:210)     |
|                                                                                                                                         |         |     installOrHelp(true,1,true) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLocksTests.kt:211)                        |
|                                                                                                                                         |         |       array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)      |
|                                                                                                                                         |         |       get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLocksTests.kt:231)                    |
|                                                                                                                                         |         └╶╶╶╶╶╶╶/* The next call would cause infinite recursion spin-lock, switch to avoid it */                                        |
|                                                                                                                                         |                 switch (reason: active recursive lock detected)                                                                         |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock
