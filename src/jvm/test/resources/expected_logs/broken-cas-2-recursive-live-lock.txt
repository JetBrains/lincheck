= The execution has hung, see the thread dump =
| --------------------------------------------------- |
|         Thread 1         |         Thread 2         |
| --------------------------------------------------- |
| cas2_0(0, 0, 2, 1, 0, 3) | cas2_1(0, 0, 4, 1, 0, 5) |
| --------------------------------------------------- |


The following interleaving leads to the error:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                Thread 1                                                                |                                                                Thread 2                                                                |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                        | cas2_1(0, 0, 4, 1, 0, 5)                                                                                                               |
|                                                                                                                                        |   cas2(0,0,4,1,0,5,1) at BrokenCas2RecursiveLiveLockTest.cas2_1(RecursiveSpinLockTests.kt:88)                                          |
|                                                                                                                                        |     apply$default(Descriptor@1,false,1,false,5,null) at AtomicArrayWithCAS2.cas2(RecursiveSpinLockTests.kt:134)                        |
|                                                                                                                                        |       apply(true,1,false) at AtomicArrayWithCAS2$Descriptor.apply$default(RecursiveSpinLockTests.kt:160)                               |
|                                                                                                                                        |         installOrHelp$default(Descriptor@1,true,1,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:167) |
|                                                                                                                                        |           installOrHelp(true,1,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(RecursiveSpinLockTests.kt:179)           |
|                                                                                                                                        |             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)          |
|                                                                                                                                        |             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)                        |
|                                                                                                                                        |             gate0.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:192)                              |
|                                                                                                                                        |             switch                                                                                                                     |
| cas2_0(0, 0, 2, 1, 0, 3)                                                                                                               |                                                                                                                                        |
|   cas2(0,0,2,1,0,3,0) at BrokenCas2RecursiveLiveLockTest.cas2_0(RecursiveSpinLockTests.kt:82)                                          |                                                                                                                                        |
|     apply$default(Descriptor@3,false,0,false,5,null) at AtomicArrayWithCAS2.cas2(RecursiveSpinLockTests.kt:134)                        |                                                                                                                                        |
|       apply(true,0,false) at AtomicArrayWithCAS2$Descriptor.apply$default(RecursiveSpinLockTests.kt:160)                               |                                                                                                                                        |
|         installOrHelp$default(Descriptor@3,true,0,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:167) |                                                                                                                                        |
|           installOrHelp(true,0,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(RecursiveSpinLockTests.kt:179)           |                                                                                                                                        |
|             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)          |                                                                                                                                        |
|             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)                        |                                                                                                                                        |
|             gate1.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:200)                              |                                                                                                                                        |
|             gate0.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:201)                               |                                                                                                                                        |
|             /* The following events repeat infinitely: */                                                                              |                                                                                                                                        |
|         ┌╶> apply(false,0,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:202)                         |                                                                                                                                        |
|         |     status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:162)                             |                                                                                                                                        |
|         |     status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:163)     |                                                                                                                                        |
|         |     installOrHelp(true,0,true) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:164)                        |                                                                                                                                        |
|         |       array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)      |                                                                                                                                        |
|         |       get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)                    |                                                                                                                                        |
|         └╶╶╶╶╶╶ switch (reason: active recursive lock detected)                                                                        |                                                                                                                                        |
|                                                                                                                                        |             gate1.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:193)                               |
|                                                                                                                                        |             /* The following events repeat infinitely: */                                                                              |
|                                                                                                                                        |         ┌╶> apply(false,1,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:194)                         |
|                                                                                                                                        |         |     status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:162)                             |
|                                                                                                                                        |         |     status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:163)     |
|                                                                                                                                        |         |     installOrHelp(true,1,true) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:164)                        |
|                                                                                                                                        |         |       array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)      |
|                                                                                                                                        |         |       get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)                    |
|                                                                                                                                        |         └╶╶╶╶╶╶ switch (reason: active recursive lock detected)                                                                        |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock

Detailed trace:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                Thread 1                                                                |                                                                Thread 2                                                                |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                        | cas2_1(0, 0, 4, 1, 0, 5)                                                                                                               |
|                                                                                                                                        |   cas2(0,0,4,1,0,5,1) at BrokenCas2RecursiveLiveLockTest.cas2_1(RecursiveSpinLockTests.kt:88)                                          |
|                                                                                                                                        |     apply$default(Descriptor@1,false,1,false,5,null) at AtomicArrayWithCAS2.cas2(RecursiveSpinLockTests.kt:134)                        |
|                                                                                                                                        |       apply(true,1,false) at AtomicArrayWithCAS2$Descriptor.apply$default(RecursiveSpinLockTests.kt:160)                               |
|                                                                                                                                        |         installOrHelp$default(Descriptor@1,true,1,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:167) |
|                                                                                                                                        |           installOrHelp(true,1,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(RecursiveSpinLockTests.kt:179)           |
|                                                                                                                                        |             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)          |
|                                                                                                                                        |             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)                        |
|                                                                                                                                        |             gate0.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:192)                              |
|                                                                                                                                        |             switch                                                                                                                     |
| cas2_0(0, 0, 2, 1, 0, 3)                                                                                                               |                                                                                                                                        |
|   cas2(0,0,2,1,0,3,0) at BrokenCas2RecursiveLiveLockTest.cas2_0(RecursiveSpinLockTests.kt:82)                                          |                                                                                                                                        |
|     apply$default(Descriptor@3,false,0,false,5,null) at AtomicArrayWithCAS2.cas2(RecursiveSpinLockTests.kt:134)                        |                                                                                                                                        |
|       apply(true,0,false) at AtomicArrayWithCAS2$Descriptor.apply$default(RecursiveSpinLockTests.kt:160)                               |                                                                                                                                        |
|         installOrHelp$default(Descriptor@3,true,0,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:167) |                                                                                                                                        |
|           installOrHelp(true,0,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(RecursiveSpinLockTests.kt:179)           |                                                                                                                                        |
|             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)          |                                                                                                                                        |
|             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)                        |                                                                                                                                        |
|             gate1.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:200)                              |                                                                                                                                        |
|             gate0.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:201)                               |                                                                                                                                        |
|             /* The following events repeat infinitely: */                                                                              |                                                                                                                                        |
|         ┌╶> apply(false,0,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:202)                         |                                                                                                                                        |
|         |     status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:162)                             |                                                                                                                                        |
|         |     status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:163)     |                                                                                                                                        |
|         |     installOrHelp(true,0,true) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:164)                        |                                                                                                                                        |
|         |       array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)      |                                                                                                                                        |
|         |       get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)                    |                                                                                                                                        |
|         └╶╶╶╶╶╶ switch (reason: active recursive lock detected)                                                                        |                                                                                                                                        |
|                                                                                                                                        |             gate1.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:193)                               |
|                                                                                                                                        |             /* The following events repeat infinitely: */                                                                              |
|                                                                                                                                        |         ┌╶> apply(false,1,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:194)                         |
|                                                                                                                                        |         |     status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:162)                             |
|                                                                                                                                        |         |     status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:163)     |
|                                                                                                                                        |         |     installOrHelp(true,1,true) at AtomicArrayWithCAS2$Descriptor.apply(RecursiveSpinLockTests.kt:164)                        |
|                                                                                                                                        |         |       array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)      |
|                                                                                                                                        |         |       get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(RecursiveSpinLockTests.kt:184)                    |
|                                                                                                                                        |         └╶╶╶╶╶╶ switch (reason: active recursive lock detected)                                                                        |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock
