= Validation function validateWithError has failed =
| --------------------------------- |
|      Thread 1       |  Thread 2   |
| --------------------------------- |
| operation()         |             |
| --------------------------------- |
| operation()         | operation() |
| --------------------------------- |
| operation()         |             |
| --------------------------------- |
| validate()          |             |
| validateWithError() |             |
| --------------------------------- |


java.lang.IllegalStateException: Validation works!
	at org.jetbrains.kotlinx.lincheck_test.representation.ValidateFunctionTest.validateWithError(ValidateFunctionTest.kt:43)


The following interleaving leads to the error:
| -------------------------------------------------------- |
|                  Thread 1                  |  Thread 2   |
| -------------------------------------------------------- |
| operation()                                |             |
| -------------------------------------------------------- |
|                                            | operation() |
| operation()                                |             |
| -------------------------------------------------------- |
| operation()                                |             |
| -------------------------------------------------------- |
| validate()                                 |             |
| validateWithError(): IllegalStateException |             |
| -------------------------------------------------------- |

Detailed trace:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|                                             Thread 1                                             |                                        Thread 2                                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| operation()                                                                                      |                                                                                         |
|   validateInvoked.READ: 0 at ValidateFunctionTest.operation(ValidateFunctionTest.kt:30)          |                                                                                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|                                                                                                  | operation()                                                                             |
|                                                                                                  |   validateInvoked.READ: 0 at ValidateFunctionTest.operation(ValidateFunctionTest.kt:30) |
| operation()                                                                                      |                                                                                         |
|   validateInvoked.READ: 0 at ValidateFunctionTest.operation(ValidateFunctionTest.kt:30)          |                                                                                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| operation()                                                                                      |                                                                                         |
|   validateInvoked.READ: 0 at ValidateFunctionTest.operation(ValidateFunctionTest.kt:30)          |                                                                                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| validate()                                                                                       |                                                                                         |
|   validateInvoked.READ: 0 at ValidateFunctionTest.validate(ValidateFunctionTest.kt:37)           |                                                                                         |
| validateWithError(): IllegalStateException                                                       |                                                                                         |
|   validateInvoked.READ: 0 at ValidateFunctionTest.validateWithError(ValidateFunctionTest.kt:42)  |                                                                                         |
|   validateInvoked.WRITE(1) at ValidateFunctionTest.validateWithError(ValidateFunctionTest.kt:42) |                                                                                         |
|   validateInvoked.READ: 1 at ValidateFunctionTest.validateWithError(ValidateFunctionTest.kt:43)  |                                                                                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
