= Invalid execution results =
| ------------------------------- |
|    Thread 1    |    Thread 2    |
| ------------------------------- |
| increment(): 0 | increment(): 0 |
| ------------------------------- |

The following interleaving leads to the error:
| ---------------------------------------------------------------------------------------- |
|    Thread 1    |                                Thread 2                                 |
| ---------------------------------------------------------------------------------------- |
|                | increment(): 0                                                          |
|                |   counter.READ: 0 at BaseFailingTest.increment(BaseFailingTest.kt:30)   |
|                |   switch                                                                |
| increment(): 0 |                                                                         |
|                |   counter.WRITE(1) at BaseFailingTest.increment(BaseFailingTest.kt:30)  |
|                |   actionsForTrace() at BaseFailingTest.increment(BaseFailingTest.kt:31) |
|                |   result: 0                                                             |
| ---------------------------------------------------------------------------------------- |

Detailed trace:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                              Thread 1                                                                                              |                                                                                               Thread 2                                                                                               |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                                                                                    | increment(): 0                                                                                                                                                                                       |
|                                                                                                                                                                                                    |   counter.READ: 0 at BaseFailingTest.increment(BaseFailingTest.kt:30)                                                                                                                                |
|                                                                                                                                                                                                    |   switch                                                                                                                                                                                             |
| increment(): 0                                                                                                                                                                                     |                                                                                                                                                                                                      |
|   counter.READ: 0 at BaseFailingTest.increment(BaseFailingTest.kt:30)                                                                                                                              |                                                                                                                                                                                                      |
|   counter.WRITE(1) at BaseFailingTest.increment(BaseFailingTest.kt:30)                                                                                                                             |                                                                                                                                                                                                      |
|   actionsForTrace() at BaseFailingTest.increment(BaseFailingTest.kt:31)                                                                                                                            |                                                                                                                                                                                                      |
|     wrapper.READ: IntWrapper#1 at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:25)                                                                         |                                                                                                                                                                                                      |
|     wrapper.compareAndSet(IntWrapper#1,IntWrapper#2): true at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:25)                                             |                                                                                                                                                                                                      |
|     wrapper.set(IntWrapper#3) at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:26)                                                                          |                                                                                                                                                                                                      |
|     wrapper.READ: IntWrapper#3 at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:28)                                                                         |                                                                                                                                                                                                      |
|     VarHandleReferenceRepresentationTest.staticWrapper.compareAndSet(IntWrapper#3,IntWrapper#4): false at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:28) |                                                                                                                                                                                                      |
|     VarHandleReferenceRepresentationTest.staticWrapper.set(IntWrapper#5) at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:29)                               |                                                                                                                                                                                                      |
|     array.READ: Array<IntWrapper>#1 at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:31)                                                                    |                                                                                                                                                                                                      |
|     Array<IntWrapper>#1[1].compareAndSet(IntWrapper#6,IntWrapper#7): false at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:31)                             |                                                                                                                                                                                                      |
|     array.READ: Array<IntWrapper>#1 at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:32)                                                                    |                                                                                                                                                                                                      |
|     Array<IntWrapper>#1[1].set(IntWrapper#8) at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:32)                                                           |                                                                                                                                                                                                      |
|     Wrapper#1.value.compareAndSet(1,2): true at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:34)                                                           |                                                                                                                                                                                                      |
|     Wrapper#1.value.set(3) at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:35)                                                                             |                                                                                                                                                                                                      |
|   result: 0                                                                                                                                                                                        |                                                                                                                                                                                                      |
|                                                                                                                                                                                                    |   counter.WRITE(1) at BaseFailingTest.increment(BaseFailingTest.kt:30)                                                                                                                               |
|                                                                                                                                                                                                    |   actionsForTrace() at BaseFailingTest.increment(BaseFailingTest.kt:31)                                                                                                                              |
|                                                                                                                                                                                                    |     wrapper.READ: IntWrapper#3 at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:25)                                                                           |
|                                                                                                                                                                                                    |     wrapper.compareAndSet(IntWrapper#3,IntWrapper#9): true at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:25)                                               |
|                                                                                                                                                                                                    |     wrapper.set(IntWrapper#10) at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:26)                                                                           |
|                                                                                                                                                                                                    |     wrapper.READ: IntWrapper#10 at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:28)                                                                          |
|                                                                                                                                                                                                    |     VarHandleReferenceRepresentationTest.staticWrapper.compareAndSet(IntWrapper#10,IntWrapper#11): false at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:28) |
|                                                                                                                                                                                                    |     VarHandleReferenceRepresentationTest.staticWrapper.set(IntWrapper#12) at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:29)                                |
|                                                                                                                                                                                                    |     array.READ: Array<IntWrapper>#1 at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:31)                                                                      |
|                                                                                                                                                                                                    |     Array<IntWrapper>#1[1].compareAndSet(IntWrapper#13,IntWrapper#14): false at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:31)                             |
|                                                                                                                                                                                                    |     array.READ: Array<IntWrapper>#1 at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:32)                                                                      |
|                                                                                                                                                                                                    |     Array<IntWrapper>#1[1].set(IntWrapper#15) at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:32)                                                            |
|                                                                                                                                                                                                    |     Wrapper#1.value.compareAndSet(1,2): false at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:34)                                                            |
|                                                                                                                                                                                                    |     Wrapper#1.value.set(3) at VarHandleReferenceRepresentationTest.actionsForTrace(VarHandleRepresentationTests.kt:35)                                                                               |
|                                                                                                                                                                                                    |   result: 0                                                                                                                                                                                          |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
