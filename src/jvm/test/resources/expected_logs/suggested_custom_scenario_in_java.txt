
= Invalid execution results =
Init part:
[operation2(1, -2.040109464E9, -2.04010944E9, true, 0): void, operation1(0, 5x, 0): 1]
Parallel part:
| operationNoArguments(): void         | operation1(0, qx, -1):                                   1    [1,-,2] | operation2(0, -2.0401094642E9, -2.04010944E9, false, 1):  IllegalStateException [1,-,-] |
| operation1(0, CKA, 1):  1    [1,-,-] | operation2(1, -2.040109464E9, -2.04010944E9, false, -1): void [1,1,2] | operation2(-1, -2.0401094642E9, -2.04010944E9, true, -1): IllegalStateException [1,-,1] |
Post part:
[operation2(1, -2.0401094642E9, -2.04010944E9, true, -1): void, operation1(-1, 5WAP, -1): 1]

---
values in "[..]" brackets indicate the number of completed operations
in each of the parallel threads seen at the beginning of the current operation
---

= The following interleaving leads to the error =
Parallel part trace:
| operationNoArguments(): void                                                                                                                             |                                                               |                                                                                 |
| operation1(0, CKA, 1)                                                                                                                                    |                                                               |                                                                                 |
|   canEnterForbiddenSection.WRITE(true) at CustomScenarioTestSuggestionInOutputJavaTest.operation1(CustomScenarioTestSuggestionInOutputJavaTest.java:31)  |                                                               |                                                                                 |
|   switch                                                                                                                                                 |                                                               |                                                                                 |
|                                                                                                                                                          |                                                               | operation2(0, -2.0401094642E9, -2.04010944E9, false, 1): IllegalStateException  |
|                                                                                                                                                          |                                                               | operation2(-1, -2.0401094642E9, -2.04010944E9, true, -1): IllegalStateException |
|                                                                                                                                                          |                                                               |   thread is finished                                                            |
|                                                                                                                                                          | operation1(0, qx, -1): 1                                      |                                                                                 |
|                                                                                                                                                          | operation2(1, -2.040109464E9, -2.04010944E9, false, -1): void |                                                                                 |
|                                                                                                                                                          |   thread is finished                                          |                                                                                 |
|   canEnterForbiddenSection.WRITE(false) at CustomScenarioTestSuggestionInOutputJavaTest.operation1(CustomScenarioTestSuggestionInOutputJavaTest.java:32) |                                                               |                                                                                 |
|   result: 1                                                                                                                                              |                                                               |                                                                                 |
|   thread is finished                                                                                                                                     |                                                               |                                                                                 |

Detailed parallel part trace:
| operationNoArguments(): void                                                                                                                             |                                                                                                                                                          |                                                                                                                                                        |
| operation1(0, CKA, 1)                                                                                                                                    |                                                                                                                                                          |                                                                                                                                                        |
|   canEnterForbiddenSection.WRITE(true) at CustomScenarioTestSuggestionInOutputJavaTest.operation1(CustomScenarioTestSuggestionInOutputJavaTest.java:31)  |                                                                                                                                                          |                                                                                                                                                        |
|   switch                                                                                                                                                 |                                                                                                                                                          |                                                                                                                                                        |
|                                                                                                                                                          |                                                                                                                                                          | operation2(0, -2.0401094642E9, -2.04010944E9, false, 1)                                                                                                |
|                                                                                                                                                          |                                                                                                                                                          |   canEnterForbiddenSection.READ: true at CustomScenarioTestSuggestionInOutputJavaTest.operation2(CustomScenarioTestSuggestionInOutputJavaTest.java:39) |
|                                                                                                                                                          |                                                                                                                                                          |   result: IllegalStateException                                                                                                                        |
|                                                                                                                                                          |                                                                                                                                                          | operation2(-1, -2.0401094642E9, -2.04010944E9, true, -1)                                                                                               |
|                                                                                                                                                          |                                                                                                                                                          |   canEnterForbiddenSection.READ: true at CustomScenarioTestSuggestionInOutputJavaTest.operation2(CustomScenarioTestSuggestionInOutputJavaTest.java:39) |
|                                                                                                                                                          |                                                                                                                                                          |   result: IllegalStateException                                                                                                                        |
|                                                                                                                                                          |                                                                                                                                                          |   thread is finished                                                                                                                                   |
|                                                                                                                                                          | operation1(0, qx, -1)                                                                                                                                    |                                                                                                                                                        |
|                                                                                                                                                          |   canEnterForbiddenSection.WRITE(true) at CustomScenarioTestSuggestionInOutputJavaTest.operation1(CustomScenarioTestSuggestionInOutputJavaTest.java:31)  |                                                                                                                                                        |
|                                                                                                                                                          |   canEnterForbiddenSection.WRITE(false) at CustomScenarioTestSuggestionInOutputJavaTest.operation1(CustomScenarioTestSuggestionInOutputJavaTest.java:32) |                                                                                                                                                        |
|                                                                                                                                                          |   result: 1                                                                                                                                              |                                                                                                                                                        |
|                                                                                                                                                          | operation2(1, -2.040109464E9, -2.04010944E9, false, -1)                                                                                                  |                                                                                                                                                        |
|                                                                                                                                                          |   canEnterForbiddenSection.READ: false at CustomScenarioTestSuggestionInOutputJavaTest.operation2(CustomScenarioTestSuggestionInOutputJavaTest.java:39)  |                                                                                                                                                        |
|                                                                                                                                                          |   result: void                                                                                                                                           |                                                                                                                                                        |
|                                                                                                                                                          |   thread is finished                                                                                                                                     |                                                                                                                                                        |
|   canEnterForbiddenSection.WRITE(false) at CustomScenarioTestSuggestionInOutputJavaTest.operation1(CustomScenarioTestSuggestionInOutputJavaTest.java:32) |                                                                                                                                                          |                                                                                                                                                        |
|   result: 1                                                                                                                                              |                                                                                                                                                          |                                                                                                                                                        |
|   thread is finished                                                                                                                                     |                                                                                                                                                          |                                                                                                                                                        |

= To reproduce exactly this test execution with the same scenarios, you can add this setting in your testing options configuration =
.withReproduceSettings("eyJyYW5kb21TZWVkR2VuZXJhdG9yU2VlZCI6LTE2ODUyMTM1MzIxNDc4NzE3MzR9")

= You can add this scenario as a custom test. Insert this code in your testing options configuration =
.addCustomScenario(
	new ScenarioBuilder(this.getClass())
		.initial(
			actor("operation2", 1, -2.040109464E9, -2.04010944E9F, true, 0L),
			actor("operation1", 0, "5x", 0)
		)
		.parallel(
			thread(
				actor("operationNoArguments"),
				actor("operation1", 0, "CKA", 1)
			),
			thread(
				actor("operation1", 0, "qx", -1),
				actor("operation2", 1, -2.040109464E9, -2.04010944E9F, false, -1L)
			),
			thread(
				actor("operation2", 0, -2.0401094642E9, -2.04010944E9F, false, 1L),
				actor("operation2", -1, -2.0401094642E9, -2.04010944E9F, true, -1L)
			)
		)
		.post(
			actor("operation2", 1, -2.0401094642E9, -2.04010944E9F, true, -1L),
			actor("operation1", -1, "5WAP", -1)
		)
	.build()
)
