= Invalid execution results =
| -------------------------------------------- |
|        Thread 1         |      Thread 2      |
| -------------------------------------------- |
| deposit(1, 6): 6        |                    |
| -------------------------------------------- |
| transfer(1, 2, 5): void | withdraw(1, 4): -3 |
| -------------------------------------------- |

---
All operations above the horizontal line | ----- | happen before those below the line
---

The following interleaving leads to the error:
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                   Thread 1                                                   |                                                                                 Thread 2                                                                                  |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| deposit(1, 6): 6                                                                                             |                                                                                                                                                                           |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| transfer(1, 2, 5)                                                                                            |                                                                                                                                                                           |
|   lock.lock() at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:59)                   |                                                                                                                                                                           |
|   Array<Number>#1[1] ➜ Number#1 at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:60) |                                                                                                                                                                           |
|   Array<Number>#1[2] ➜ Number#2 at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:61) |                                                                                                                                                                           |
|   from.getValue(): 6 at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:62)            |                                                                                                                                                                           |
|   switch                                                                                                     |                                                                                                                                                                           |
|                                                                                                              | withdraw(1, 4): -3                                                                                                                                                        |
|                                                                                                              |   Array<Number>#1[1] ➜ Number#1 at EmptyColumnAfterMinimizeTest.withdraw(EmptyColumnAfterMinimizeTest.kt:50)                                                              |
|                                                                                                              |   account.getValue(): 6 at EmptyColumnAfterMinimizeTest.withdraw(EmptyColumnAfterMinimizeTest.kt:51)                                                                      |
|                                                                                                              |   lock.lock() at EmptyColumnAfterMinimizeTest.withdraw(EmptyColumnAfterMinimizeTest.kt:52)                                                                                |
|                                                                                                              |     sync.lock() at ReentrantLock.lock(ReentrantLock.java:285)                                                                                                             |
|                                                                                                              |       compareAndSetState(0, 1): false at ReentrantLock$NonfairSync.lock(ReentrantLock.java:206)                                                                           |
|                                                                                                              |       acquire(1) at ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)                                                                                                |
|                                                                                                              |         tryAcquire(1): false at AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1198)                                                                  |
|                                                                                                              |         addWaiter(null): Node#1 at AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)                                                               |
|                                                                                                              |         acquireQueued(Node#1, 1): false at AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)                                                       |
|                                                                                                              |           tail.predecessor(): Node#2 at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:862)                                                     |
|                                                                                                              |           head ➜ Node#2 at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:863)                                                                  |
|                                                                                                              |           tryAcquire(1): false at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:863)                                                           |
|                                                                                                              |           AbstractQueuedSynchronizer.shouldParkAfterFailedAcquire(Node#2, Node#1): false at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:869) |
|                                                                                                              |           /* The following events repeat infinitely: */                                                                                                                   |
|                                                                                                              |       ┌╶> tail.predecessor(): Node#2 at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:862)                                                     |
|                                                                                                              |       |   head ➜ Node#2 at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:863)                                                                  |
|                                                                                                              |       |   tryAcquire(1): false at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:863)                                                           |
|                                                                                                              |       |   AbstractQueuedSynchronizer.shouldParkAfterFailedAcquire(Node#2, Node#1): true at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:869)  |
|                                                                                                              |       |   parkAndCheckInterrupt(): false at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)                                                 |
|                                                                                                              |       └╶╶ switch (reason: active lock detected)                                                                                                                           |
|   from.getValue(): 6 at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:63)            |                                                                                                                                                                           |
|   from.setValue(1) at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:63)              |                                                                                                                                                                           |
|   to.getValue(): 0 at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:64)              |                                                                                                                                                                           |
|   to.setValue(5) at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:64)                |                                                                                                                                                                           |
|   lock.unlock() at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:59)                 |                                                                                                                                                                           |
|   result: void                                                                                               |                                                                                                                                                                           |
|                                                                                                              |           tail.predecessor(): Node#2 at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:862)                                                     |
|                                                                                                              |           head ➜ Node#2 at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:863)                                                                  |
|                                                                                                              |           tryAcquire(1): true at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:863)                                                            |
|                                                                                                              |           setHead(Node#1) at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:864)                                                                |
|                                                                                                              |           head.next = null at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:865)                                                               |
|                                                                                                              |   account.getValue(): 1 at EmptyColumnAfterMinimizeTest.withdraw(EmptyColumnAfterMinimizeTest.kt:53)                                                                      |
|                                                                                                              |   account.setValue(-3) at EmptyColumnAfterMinimizeTest.withdraw(EmptyColumnAfterMinimizeTest.kt:53)                                                                       |
|                                                                                                              |   account.getValue(): -3 at EmptyColumnAfterMinimizeTest.withdraw(EmptyColumnAfterMinimizeTest.kt:54)                                                                     |
|                                                                                                              |   lock.unlock() at EmptyColumnAfterMinimizeTest.withdraw(EmptyColumnAfterMinimizeTest.kt:54)                                                                              |
|                                                                                                              |   result: -3                                                                                                                                                              |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                              Thread 1                                                                              |                                                                                      Thread 2                                                                                       |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| deposit(1, 6): 6                                                                                                                                                   |                                                                                                                                                                                     |
|   lock.lock() at EmptyColumnAfterMinimizeTest.deposit(EmptyColumnAfterMinimizeTest.kt:41)                                                                          |                                                                                                                                                                                     |
|     sync.lock() at ReentrantLock.lock(ReentrantLock.java:285)                                                                                                      |                                                                                                                                                                                     |
|       compareAndSetState(0, 1): true at ReentrantLock$NonfairSync.lock(ReentrantLock.java:206)                                                                     |                                                                                                                                                                                     |
|         Unsafe#1.compareAndSwapInt(NonfairSync#1, 16, 0, 1): true at AbstractQueuedSynchronizer.compareAndSetState(AbstractQueuedSynchronizer.java:566)            |                                                                                                                                                                                     |
|       setExclusiveOwnerThread(Thread#1) at ReentrantLock$NonfairSync.lock(ReentrantLock.java:207)                                                                  |                                                                                                                                                                                     |
|         exclusiveOwnerThread = Thread#1 at AbstractOwnableSynchronizer.setExclusiveOwnerThread(AbstractOwnableSynchronizer.java:74)                                |                                                                                                                                                                                     |
|   Array<Number>#1[1] ➜ Number#1 at EmptyColumnAfterMinimizeTest.deposit(EmptyColumnAfterMinimizeTest.kt:43)                                                        |                                                                                                                                                                                     |
|   account.getValue(): 0 at EmptyColumnAfterMinimizeTest.deposit(EmptyColumnAfterMinimizeTest.kt:44)                                                                |                                                                                                                                                                                     |
|     value ➜ 0 at EmptyColumnAfterMinimizeTest$Number.getValue(EmptyColumnAfterMinimizeTest.kt:67)                                                                  |                                                                                                                                                                                     |
|   account.setValue(6) at EmptyColumnAfterMinimizeTest.deposit(EmptyColumnAfterMinimizeTest.kt:44)                                                                  |                                                                                                                                                                                     |
|     value = 6 at EmptyColumnAfterMinimizeTest$Number.setValue(EmptyColumnAfterMinimizeTest.kt:67)                                                                  |                                                                                                                                                                                     |
|   account.getValue(): 6 at EmptyColumnAfterMinimizeTest.deposit(EmptyColumnAfterMinimizeTest.kt:45)                                                                |                                                                                                                                                                                     |
|     value ➜ 6 at EmptyColumnAfterMinimizeTest$Number.getValue(EmptyColumnAfterMinimizeTest.kt:67)                                                                  |                                                                                                                                                                                     |
|   lock.unlock() at EmptyColumnAfterMinimizeTest.deposit(EmptyColumnAfterMinimizeTest.kt:45)                                                                        |                                                                                                                                                                                     |
|     sync.release(1): true at ReentrantLock.unlock(ReentrantLock.java:457)                                                                                          |                                                                                                                                                                                     |
|       tryRelease(1): true at AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1261)                                                              |                                                                                                                                                                                     |
|         getState(): 1 at ReentrantLock$Sync.tryRelease(ReentrantLock.java:149)                                                                                     |                                                                                                                                                                                     |
|           state ➜ 1 at AbstractQueuedSynchronizer.getState(AbstractQueuedSynchronizer.java:541)                                                                    |                                                                                                                                                                                     |
|         getExclusiveOwnerThread(): Thread#1 at ReentrantLock$Sync.tryRelease(ReentrantLock.java:150)                                                               |                                                                                                                                                                                     |
|           exclusiveOwnerThread ➜ Thread#1 at AbstractOwnableSynchronizer.getExclusiveOwnerThread(AbstractOwnableSynchronizer.java:84)                              |                                                                                                                                                                                     |
|         setExclusiveOwnerThread(null) at ReentrantLock$Sync.tryRelease(ReentrantLock.java:155)                                                                     |                                                                                                                                                                                     |
|           exclusiveOwnerThread = null at AbstractOwnableSynchronizer.setExclusiveOwnerThread(AbstractOwnableSynchronizer.java:74)                                  |                                                                                                                                                                                     |
|         setState(0) at ReentrantLock$Sync.tryRelease(ReentrantLock.java:157)                                                                                       |                                                                                                                                                                                     |
|           state = 0 at AbstractQueuedSynchronizer.setState(AbstractQueuedSynchronizer.java:550)                                                                    |                                                                                                                                                                                     |
|       head ➜ null at AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1262)                                                                      |                                                                                                                                                                                     |
|   result: 6                                                                                                                                                        |                                                                                                                                                                                     |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| transfer(1, 2, 5)                                                                                                                                                  |                                                                                                                                                                                     |
|   lock.lock() at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:59)                                                                         |                                                                                                                                                                                     |
|     sync.lock() at ReentrantLock.lock(ReentrantLock.java:285)                                                                                                      |                                                                                                                                                                                     |
|       compareAndSetState(0, 1): true at ReentrantLock$NonfairSync.lock(ReentrantLock.java:206)                                                                     |                                                                                                                                                                                     |
|         Unsafe#1.compareAndSwapInt(NonfairSync#1, 16, 0, 1): true at AbstractQueuedSynchronizer.compareAndSetState(AbstractQueuedSynchronizer.java:566)            |                                                                                                                                                                                     |
|       setExclusiveOwnerThread(Thread#1) at ReentrantLock$NonfairSync.lock(ReentrantLock.java:207)                                                                  |                                                                                                                                                                                     |
|         exclusiveOwnerThread = Thread#1 at AbstractOwnableSynchronizer.setExclusiveOwnerThread(AbstractOwnableSynchronizer.java:74)                                |                                                                                                                                                                                     |
|   Array<Number>#1[1] ➜ Number#1 at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:60)                                                       |                                                                                                                                                                                     |
|   Array<Number>#1[2] ➜ Number#2 at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:61)                                                       |                                                                                                                                                                                     |
|   from.getValue(): 6 at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:62)                                                                  |                                                                                                                                                                                     |
|     value ➜ 6 at EmptyColumnAfterMinimizeTest$Number.getValue(EmptyColumnAfterMinimizeTest.kt:67)                                                                  |                                                                                                                                                                                     |
|   switch                                                                                                                                                           |                                                                                                                                                                                     |
|                                                                                                                                                                    | withdraw(1, 4): -3                                                                                                                                                                  |
|                                                                                                                                                                    |   Array<Number>#1[1] ➜ Number#1 at EmptyColumnAfterMinimizeTest.withdraw(EmptyColumnAfterMinimizeTest.kt:50)                                                                        |
|                                                                                                                                                                    |   account.getValue(): 6 at EmptyColumnAfterMinimizeTest.withdraw(EmptyColumnAfterMinimizeTest.kt:51)                                                                                |
|                                                                                                                                                                    |     value ➜ 6 at EmptyColumnAfterMinimizeTest$Number.getValue(EmptyColumnAfterMinimizeTest.kt:67)                                                                                   |
|                                                                                                                                                                    |   lock.lock() at EmptyColumnAfterMinimizeTest.withdraw(EmptyColumnAfterMinimizeTest.kt:52)                                                                                          |
|                                                                                                                                                                    |     sync.lock() at ReentrantLock.lock(ReentrantLock.java:285)                                                                                                                       |
|                                                                                                                                                                    |       compareAndSetState(0, 1): false at ReentrantLock$NonfairSync.lock(ReentrantLock.java:206)                                                                                     |
|                                                                                                                                                                    |         Unsafe#1.compareAndSwapInt(NonfairSync#1, 16, 0, 1): false at AbstractQueuedSynchronizer.compareAndSetState(AbstractQueuedSynchronizer.java:566)                            |
|                                                                                                                                                                    |       acquire(1) at ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)                                                                                                          |
|                                                                                                                                                                    |         tryAcquire(1): false at AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1198)                                                                            |
|                                                                                                                                                                    |           nonfairTryAcquire(1): false at ReentrantLock$NonfairSync.tryAcquire(ReentrantLock.java:213)                                                                               |
|                                                                                                                                                                    |             getState(): 1 at ReentrantLock$Sync.nonfairTryAcquire(ReentrantLock.java:131)                                                                                           |
|                                                                                                                                                                    |               state ➜ 1 at AbstractQueuedSynchronizer.getState(AbstractQueuedSynchronizer.java:541)                                                                                 |
|                                                                                                                                                                    |             getExclusiveOwnerThread(): Thread#1 at ReentrantLock$Sync.nonfairTryAcquire(ReentrantLock.java:138)                                                                     |
|                                                                                                                                                                    |               exclusiveOwnerThread ➜ Thread#1 at AbstractOwnableSynchronizer.getExclusiveOwnerThread(AbstractOwnableSynchronizer.java:84)                                           |
|                                                                                                                                                                    |         addWaiter(null): Node#1 at AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)                                                                         |
|                                                                                                                                                                    |           tail ➜ null at AbstractQueuedSynchronizer.addWaiter(AbstractQueuedSynchronizer.java:608)                                                                                  |
|                                                                                                                                                                    |           enq(Node#1): Node#2 at AbstractQueuedSynchronizer.addWaiter(AbstractQueuedSynchronizer.java:616)                                                                          |
|                                                                                                                                                                    |             tail ➜ null at AbstractQueuedSynchronizer.enq(AbstractQueuedSynchronizer.java:585)                                                                                      |
|                                                                                                                                                                    |             compareAndSetHead(Node#2): true at AbstractQueuedSynchronizer.enq(AbstractQueuedSynchronizer.java:587)                                                                  |
|                                                                                                                                                                    |               Unsafe#1.compareAndSwapObject(NonfairSync#1, 20, null, Node#2): true at AbstractQueuedSynchronizer.compareAndSetHead(AbstractQueuedSynchronizer.java:2287)            |
|                                                                                                                                                                    |             head ➜ Node#2 at AbstractQueuedSynchronizer.enq(AbstractQueuedSynchronizer.java:588)                                                                                    |
|                                                                                                                                                                    |             tail = Node#2 at AbstractQueuedSynchronizer.enq(AbstractQueuedSynchronizer.java:588)                                                                                    |
|                                                                                                                                                                    |             tail ➜ Node#2 at AbstractQueuedSynchronizer.enq(AbstractQueuedSynchronizer.java:585)                                                                                    |
|                                                                                                                                                                    |             Node#1.prev = Node#2 at AbstractQueuedSynchronizer.enq(AbstractQueuedSynchronizer.java:590)                                                                             |
|                                                                                                                                                                    |             compareAndSetTail(Node#2, Node#1): true at AbstractQueuedSynchronizer.enq(AbstractQueuedSynchronizer.java:591)                                                          |
|                                                                                                                                                                    |               Unsafe#1.compareAndSwapObject(NonfairSync#1, 24, Node#2, Node#1): true at AbstractQueuedSynchronizer.compareAndSetTail(AbstractQueuedSynchronizer.java:2294)          |
|                                                                                                                                                                    |             head.next = Node#1 at AbstractQueuedSynchronizer.enq(AbstractQueuedSynchronizer.java:592)                                                                               |
|                                                                                                                                                                    |         acquireQueued(Node#1, 1): false at AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)                                                                 |
|                                                                                                                                                                    |           tail.predecessor(): Node#2 at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:862)                                                               |
|                                                                                                                                                                    |             prev ➜ Node#2 at AbstractQueuedSynchronizer$Node.predecessor(AbstractQueuedSynchronizer.java:495)                                                                       |
|                                                                                                                                                                    |           head ➜ Node#2 at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:863)                                                                            |
|                                                                                                                                                                    |           tryAcquire(1): false at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:863)                                                                     |
|                                                                                                                                                                    |             nonfairTryAcquire(1): false at ReentrantLock$NonfairSync.tryAcquire(ReentrantLock.java:213)                                                                             |
|                                                                                                                                                                    |               getState(): 1 at ReentrantLock$Sync.nonfairTryAcquire(ReentrantLock.java:131)                                                                                         |
|                                                                                                                                                                    |                 state ➜ 1 at AbstractQueuedSynchronizer.getState(AbstractQueuedSynchronizer.java:541)                                                                               |
|                                                                                                                                                                    |               getExclusiveOwnerThread(): Thread#1 at ReentrantLock$Sync.nonfairTryAcquire(ReentrantLock.java:138)                                                                   |
|                                                                                                                                                                    |                 exclusiveOwnerThread ➜ Thread#1 at AbstractOwnableSynchronizer.getExclusiveOwnerThread(AbstractOwnableSynchronizer.java:84)                                         |
|                                                                                                                                                                    |           AbstractQueuedSynchronizer.shouldParkAfterFailedAcquire(Node#2, Node#1): false at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:869)           |
|                                                                                                                                                                    |             head.waitStatus ➜ 0 at AbstractQueuedSynchronizer.shouldParkAfterFailedAcquire(AbstractQueuedSynchronizer.java:796)                                                     |
|                                                                                                                                                                    |             AbstractQueuedSynchronizer.compareAndSetWaitStatus(Node#2, 0, -1): true at AbstractQueuedSynchronizer.shouldParkAfterFailedAcquire(AbstractQueuedSynchronizer.java:818) |
|                                                                                                                                                                    |               head.waitStatus.compareAndSwapInt(0, -1): true at AbstractQueuedSynchronizer.compareAndSetWaitStatus(AbstractQueuedSynchronizer.java:2303)                            |
|                                                                                                                                                                    |           /* The following events repeat infinitely: */                                                                                                                             |
|                                                                                                                                                                    |       ┌╶> tail.predecessor(): Node#2 at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:862)                                                               |
|                                                                                                                                                                    |       |     prev ➜ Node#2 at AbstractQueuedSynchronizer$Node.predecessor(AbstractQueuedSynchronizer.java:495)                                                                       |
|                                                                                                                                                                    |       |   head ➜ Node#2 at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:863)                                                                            |
|                                                                                                                                                                    |       |   tryAcquire(1): false at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:863)                                                                     |
|                                                                                                                                                                    |       |     nonfairTryAcquire(1): false at ReentrantLock$NonfairSync.tryAcquire(ReentrantLock.java:213)                                                                             |
|                                                                                                                                                                    |       |       getState(): 1 at ReentrantLock$Sync.nonfairTryAcquire(ReentrantLock.java:131)                                                                                         |
|                                                                                                                                                                    |       |         state ➜ 1 at AbstractQueuedSynchronizer.getState(AbstractQueuedSynchronizer.java:541)                                                                               |
|                                                                                                                                                                    |       |       getExclusiveOwnerThread(): Thread#1 at ReentrantLock$Sync.nonfairTryAcquire(ReentrantLock.java:138)                                                                   |
|                                                                                                                                                                    |       |         exclusiveOwnerThread ➜ Thread#1 at AbstractOwnableSynchronizer.getExclusiveOwnerThread(AbstractOwnableSynchronizer.java:84)                                         |
|                                                                                                                                                                    |       |   AbstractQueuedSynchronizer.shouldParkAfterFailedAcquire(Node#2, Node#1): true at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:869)            |
|                                                                                                                                                                    |       |     head.waitStatus ➜ -1 at AbstractQueuedSynchronizer.shouldParkAfterFailedAcquire(AbstractQueuedSynchronizer.java:796)                                                    |
|                                                                                                                                                                    |       |   parkAndCheckInterrupt(): false at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)                                                           |
|                                                                                                                                                                    |       |     LockSupport.park(NonfairSync#1) at AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)                                                |
|                                                                                                                                                                    |       |       LockSupport.setBlocker(Thread#2, NonfairSync#1) at LockSupport.park(LockSupport.java:174)                                                                             |
|                                                                                                                                                                    |       |         Unsafe#1.putObject(Thread#2, 88, NonfairSync#1) at LockSupport.setBlocker(LockSupport.java:125)                                                                     |
|                                                                                                                                                                    |       |       PARK at LockSupport.park(LockSupport.java:175)                                                                                                                        |
|                                                                                                                                                                    |       |       LockSupport.setBlocker(Thread#2, null) at LockSupport.park(LockSupport.java:176)                                                                                      |
|                                                                                                                                                                    |       |         Unsafe#1.putObject(Thread#2, 88, null) at LockSupport.setBlocker(LockSupport.java:125)                                                                              |
|                                                                                                                                                                    |       └╶╶ switch (reason: active lock detected)                                                                                                                                     |
|   from.getValue(): 6 at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:63)                                                                  |                                                                                                                                                                                     |
|     value ➜ 6 at EmptyColumnAfterMinimizeTest$Number.getValue(EmptyColumnAfterMinimizeTest.kt:67)                                                                  |                                                                                                                                                                                     |
|   from.setValue(1) at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:63)                                                                    |                                                                                                                                                                                     |
|     value = 1 at EmptyColumnAfterMinimizeTest$Number.setValue(EmptyColumnAfterMinimizeTest.kt:67)                                                                  |                                                                                                                                                                                     |
|   to.getValue(): 0 at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:64)                                                                    |                                                                                                                                                                                     |
|     value ➜ 0 at EmptyColumnAfterMinimizeTest$Number.getValue(EmptyColumnAfterMinimizeTest.kt:67)                                                                  |                                                                                                                                                                                     |
|   to.setValue(5) at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:64)                                                                      |                                                                                                                                                                                     |
|     value = 5 at EmptyColumnAfterMinimizeTest$Number.setValue(EmptyColumnAfterMinimizeTest.kt:67)                                                                  |                                                                                                                                                                                     |
|   lock.unlock() at EmptyColumnAfterMinimizeTest.transfer(EmptyColumnAfterMinimizeTest.kt:59)                                                                       |                                                                                                                                                                                     |
|     sync.release(1): true at ReentrantLock.unlock(ReentrantLock.java:457)                                                                                          |                                                                                                                                                                                     |
|       tryRelease(1): true at AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1261)                                                              |                                                                                                                                                                                     |
|         getState(): 1 at ReentrantLock$Sync.tryRelease(ReentrantLock.java:149)                                                                                     |                                                                                                                                                                                     |
|           state ➜ 1 at AbstractQueuedSynchronizer.getState(AbstractQueuedSynchronizer.java:541)                                                                    |                                                                                                                                                                                     |
|         getExclusiveOwnerThread(): Thread#1 at ReentrantLock$Sync.tryRelease(ReentrantLock.java:150)                                                               |                                                                                                                                                                                     |
|           exclusiveOwnerThread ➜ Thread#1 at AbstractOwnableSynchronizer.getExclusiveOwnerThread(AbstractOwnableSynchronizer.java:84)                              |                                                                                                                                                                                     |
|         setExclusiveOwnerThread(null) at ReentrantLock$Sync.tryRelease(ReentrantLock.java:155)                                                                     |                                                                                                                                                                                     |
|           exclusiveOwnerThread = null at AbstractOwnableSynchronizer.setExclusiveOwnerThread(AbstractOwnableSynchronizer.java:74)                                  |                                                                                                                                                                                     |
|         setState(0) at ReentrantLock$Sync.tryRelease(ReentrantLock.java:157)                                                                                       |                                                                                                                                                                                     |
|           state = 0 at AbstractQueuedSynchronizer.setState(AbstractQueuedSynchronizer.java:550)                                                                    |                                                                                                                                                                                     |
|       head ➜ Node#2 at AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1262)                                                                    |                                                                                                                                                                                     |
|       head.waitStatus ➜ -1 at AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1263)                                                             |                                                                                                                                                                                     |
|       unparkSuccessor(Node#2) at AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1264)                                                          |                                                                                                                                                                                     |
|         head.waitStatus ➜ -1 at AbstractQueuedSynchronizer.unparkSuccessor(AbstractQueuedSynchronizer.java:644)                                                    |                                                                                                                                                                                     |
|         AbstractQueuedSynchronizer.compareAndSetWaitStatus(Node#2, -1, 0): true at AbstractQueuedSynchronizer.unparkSuccessor(AbstractQueuedSynchronizer.java:646) |                                                                                                                                                                                     |
|           head.waitStatus.compareAndSwapInt(-1, 0): true at AbstractQueuedSynchronizer.compareAndSetWaitStatus(AbstractQueuedSynchronizer.java:2303)               |                                                                                                                                                                                     |
|         head.next ➜ Node#1 at AbstractQueuedSynchronizer.unparkSuccessor(AbstractQueuedSynchronizer.java:654)                                                      |                                                                                                                                                                                     |
|         tail.waitStatus ➜ 0 at AbstractQueuedSynchronizer.unparkSuccessor(AbstractQueuedSynchronizer.java:655)                                                     |                                                                                                                                                                                     |
|         tail.thread ➜ Thread#2 at AbstractQueuedSynchronizer.unparkSuccessor(AbstractQueuedSynchronizer.java:662)                                                  |                                                                                                                                                                                     |
|         LockSupport.unpark(Thread#2) at AbstractQueuedSynchronizer.unparkSuccessor(AbstractQueuedSynchronizer.java:662)                                            |                                                                                                                                                                                     |
|           UNPARK at LockSupport.unpark(LockSupport.java:141)                                                                                                       |                                                                                                                                                                                     |
|   result: void                                                                                                                                                     |                                                                                                                                                                                     |
|                                                                                                                                                                    |           tail.predecessor(): Node#2 at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:862)                                                               |
|                                                                                                                                                                    |             prev ➜ Node#2 at AbstractQueuedSynchronizer$Node.predecessor(AbstractQueuedSynchronizer.java:495)                                                                       |
|                                                                                                                                                                    |           head ➜ Node#2 at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:863)                                                                            |
|                                                                                                                                                                    |           tryAcquire(1): true at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:863)                                                                      |
|                                                                                                                                                                    |             nonfairTryAcquire(1): true at ReentrantLock$NonfairSync.tryAcquire(ReentrantLock.java:213)                                                                              |
|                                                                                                                                                                    |               getState(): 0 at ReentrantLock$Sync.nonfairTryAcquire(ReentrantLock.java:131)                                                                                         |
|                                                                                                                                                                    |                 state ➜ 0 at AbstractQueuedSynchronizer.getState(AbstractQueuedSynchronizer.java:541)                                                                               |
|                                                                                                                                                                    |               compareAndSetState(0, 1): true at ReentrantLock$Sync.nonfairTryAcquire(ReentrantLock.java:133)                                                                        |
|                                                                                                                                                                    |                 Unsafe#1.compareAndSwapInt(NonfairSync#1, 16, 0, 1): true at AbstractQueuedSynchronizer.compareAndSetState(AbstractQueuedSynchronizer.java:566)                     |
|                                                                                                                                                                    |               setExclusiveOwnerThread(Thread#2) at ReentrantLock$Sync.nonfairTryAcquire(ReentrantLock.java:134)                                                                     |
|                                                                                                                                                                    |                 exclusiveOwnerThread = Thread#2 at AbstractOwnableSynchronizer.setExclusiveOwnerThread(AbstractOwnableSynchronizer.java:74)                                         |
|                                                                                                                                                                    |           setHead(Node#1) at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:864)                                                                          |
|                                                                                                                                                                    |             head = Node#1 at AbstractQueuedSynchronizer.setHead(AbstractQueuedSynchronizer.java:628)                                                                                |
|                                                                                                                                                                    |             head.thread = null at AbstractQueuedSynchronizer.setHead(AbstractQueuedSynchronizer.java:629)                                                                           |
|                                                                                                                                                                    |             head.prev = null at AbstractQueuedSynchronizer.setHead(AbstractQueuedSynchronizer.java:630)                                                                             |
|                                                                                                                                                                    |           head.next = null at AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:865)                                                                         |
|                                                                                                                                                                    |   account.getValue(): 1 at EmptyColumnAfterMinimizeTest.withdraw(EmptyColumnAfterMinimizeTest.kt:53)                                                                                |
|                                                                                                                                                                    |     value ➜ 1 at EmptyColumnAfterMinimizeTest$Number.getValue(EmptyColumnAfterMinimizeTest.kt:67)                                                                                   |
|                                                                                                                                                                    |   account.setValue(-3) at EmptyColumnAfterMinimizeTest.withdraw(EmptyColumnAfterMinimizeTest.kt:53)                                                                                 |
|                                                                                                                                                                    |     value = -3 at EmptyColumnAfterMinimizeTest$Number.setValue(EmptyColumnAfterMinimizeTest.kt:67)                                                                                  |
|                                                                                                                                                                    |   account.getValue(): -3 at EmptyColumnAfterMinimizeTest.withdraw(EmptyColumnAfterMinimizeTest.kt:54)                                                                               |
|                                                                                                                                                                    |     value ➜ -3 at EmptyColumnAfterMinimizeTest$Number.getValue(EmptyColumnAfterMinimizeTest.kt:67)                                                                                  |
|                                                                                                                                                                    |   lock.unlock() at EmptyColumnAfterMinimizeTest.withdraw(EmptyColumnAfterMinimizeTest.kt:54)                                                                                        |
|                                                                                                                                                                    |     sync.release(1): true at ReentrantLock.unlock(ReentrantLock.java:457)                                                                                                           |
|                                                                                                                                                                    |       tryRelease(1): true at AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1261)                                                                               |
|                                                                                                                                                                    |         getState(): 1 at ReentrantLock$Sync.tryRelease(ReentrantLock.java:149)                                                                                                      |
|                                                                                                                                                                    |           state ➜ 1 at AbstractQueuedSynchronizer.getState(AbstractQueuedSynchronizer.java:541)                                                                                     |
|                                                                                                                                                                    |         getExclusiveOwnerThread(): Thread#2 at ReentrantLock$Sync.tryRelease(ReentrantLock.java:150)                                                                                |
|                                                                                                                                                                    |           exclusiveOwnerThread ➜ Thread#2 at AbstractOwnableSynchronizer.getExclusiveOwnerThread(AbstractOwnableSynchronizer.java:84)                                               |
|                                                                                                                                                                    |         setExclusiveOwnerThread(null) at ReentrantLock$Sync.tryRelease(ReentrantLock.java:155)                                                                                      |
|                                                                                                                                                                    |           exclusiveOwnerThread = null at AbstractOwnableSynchronizer.setExclusiveOwnerThread(AbstractOwnableSynchronizer.java:74)                                                   |
|                                                                                                                                                                    |         setState(0) at ReentrantLock$Sync.tryRelease(ReentrantLock.java:157)                                                                                                        |
|                                                                                                                                                                    |           state = 0 at AbstractQueuedSynchronizer.setState(AbstractQueuedSynchronizer.java:550)                                                                                     |
|                                                                                                                                                                    |       head ➜ Node#1 at AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1262)                                                                                     |
|                                                                                                                                                                    |       head.waitStatus ➜ 0 at AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1263)                                                                               |
|                                                                                                                                                                    |   result: -3                                                                                                                                                                        |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
