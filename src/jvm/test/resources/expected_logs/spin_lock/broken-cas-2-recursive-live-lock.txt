= The execution has hung =
| ------------------------------------------------------------------- |
|             Thread 1             |             Thread 2             |
| ------------------------------------------------------------------- |
| cas2_0(0, 0, 2, 1, 0, 3): <hung> | cas2_1(0, 0, 4, 1, 0, 5): <hung> |
| ------------------------------------------------------------------- |


The following interleaving leads to the error:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                      Thread 1                                                                      |                                                                      Thread 2                                                                      |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                                    | cas2_1(0, 0, 4, 1, 0, 5): <hung>                                                                                                                   |
|                                                                                                                                                    |   array.cas2(0, 0, 4, 1, 0, 5, 1) at AtomicArrayWithCAS2LiveLockTest.cas2_1(AtomicArrayWithCAS2LiveLockTest.kt:45)                                 |
|                                                                                                                                                    |     AtomicArrayWithCAS2$Descriptor.apply(true, 1, false) at AtomicArrayWithCAS2.cas2(AtomicArrayWithCAS2LiveLockTest.kt:91)                        |
|                                                                                                                                                    |       AtomicArrayWithCAS2$Descriptor.installOrHelp(true, 1, false) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:124) |
|                                                                                                                                                    |         this$0.array ➜ AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)              |
|                                                                                                                                                    |         AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)      |
|                                                                                                                                                    |         this$0.gate0 = 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:149)                                   |
|                                                                                                                                                    |         switch                                                                                                                                     |
| cas2_0(0, 0, 2, 1, 0, 3): <hung>                                                                                                                   |                                                                                                                                                    |
|   array.cas2(0, 0, 2, 1, 0, 3, 0) at AtomicArrayWithCAS2LiveLockTest.cas2_0(AtomicArrayWithCAS2LiveLockTest.kt:39)                                 |                                                                                                                                                    |
|     AtomicArrayWithCAS2$Descriptor.apply(true, 0, false) at AtomicArrayWithCAS2.cas2(AtomicArrayWithCAS2LiveLockTest.kt:91)                        |                                                                                                                                                    |
|       AtomicArrayWithCAS2$Descriptor.installOrHelp(true, 0, false) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:124) |                                                                                                                                                    |
|         this$0.array ➜ AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)              |                                                                                                                                                    |
|         AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)      |                                                                                                                                                    |
|         this$0.gate1 = 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:157)                                   |                                                                                                                                                    |
|         this$0.gate0 ➜ 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:158)                                   |                                                                                                                                                    |
|         /* The following events repeat infinitely: */                                                                                              |                                                                                                                                                    |
|     ┌╶> Descriptor#2.apply(false, 0, true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:159)                 |                                                                                                                                                    |
|     |     status ➜ SUCCESS at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:119)                                         |                                                                                                                                                    |
|     |     status.compareAndSet(SUCCESS, SUCCESS): true at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:120)             |                                                                                                                                                    |
|     |     installOrHelp(true, 0, true) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:121)                             |                                                                                                                                                    |
|     |       this$0.array ➜ AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)          |                                                                                                                                                    |
|     |       AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)  |                                                                                                                                                    |
|     └╶╶╶╶╶╶ switch (reason: active lock detected)                                                                                                  |                                                                                                                                                    |
|                                                                                                                                                    |         this$0.gate1 ➜ 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:150)                                   |
|                                                                                                                                                    |         /* The following events repeat infinitely: */                                                                                              |
|                                                                                                                                                    |     ┌╶> Descriptor#2.apply(false, 1, true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:151)                 |
|                                                                                                                                                    |     |     status ➜ SUCCESS at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:119)                                         |
|                                                                                                                                                    |     |     status.compareAndSet(SUCCESS, SUCCESS): true at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:120)             |
|                                                                                                                                                    |     |     installOrHelp(true, 1, true) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:121)                             |
|                                                                                                                                                    |     |       this$0.array ➜ AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)          |
|                                                                                                                                                    |     |       AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)  |
|                                                                                                                                                    |     └╶╶╶╶╶╶ switch (reason: active lock detected)                                                                                                  |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock

Detailed trace:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                      Thread 1                                                                      |                                                                      Thread 2                                                                      |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                                    | cas2_1(0, 0, 4, 1, 0, 5): <hung>                                                                                                                   |
|                                                                                                                                                    |   array.cas2(0, 0, 4, 1, 0, 5, 1) at AtomicArrayWithCAS2LiveLockTest.cas2_1(AtomicArrayWithCAS2LiveLockTest.kt:45)                                 |
|                                                                                                                                                    |     AtomicArrayWithCAS2$Descriptor.apply(true, 1, false) at AtomicArrayWithCAS2.cas2(AtomicArrayWithCAS2LiveLockTest.kt:91)                        |
|                                                                                                                                                    |       AtomicArrayWithCAS2$Descriptor.installOrHelp(true, 1, false) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:124) |
|                                                                                                                                                    |         this$0.array ➜ AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)              |
|                                                                                                                                                    |         AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)      |
|                                                                                                                                                    |         this$0.gate0 = 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:149)                                   |
|                                                                                                                                                    |         switch                                                                                                                                     |
| cas2_0(0, 0, 2, 1, 0, 3): <hung>                                                                                                                   |                                                                                                                                                    |
|   array.cas2(0, 0, 2, 1, 0, 3, 0) at AtomicArrayWithCAS2LiveLockTest.cas2_0(AtomicArrayWithCAS2LiveLockTest.kt:39)                                 |                                                                                                                                                    |
|     AtomicArrayWithCAS2$Descriptor.apply(true, 0, false) at AtomicArrayWithCAS2.cas2(AtomicArrayWithCAS2LiveLockTest.kt:91)                        |                                                                                                                                                    |
|       AtomicArrayWithCAS2$Descriptor.installOrHelp(true, 0, false) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:124) |                                                                                                                                                    |
|         this$0.array ➜ AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)              |                                                                                                                                                    |
|         AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)      |                                                                                                                                                    |
|         this$0.gate1 = 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:157)                                   |                                                                                                                                                    |
|         this$0.gate0 ➜ 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:158)                                   |                                                                                                                                                    |
|         /* The following events repeat infinitely: */                                                                                              |                                                                                                                                                    |
|     ┌╶> Descriptor#2.apply(false, 0, true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:159)                 |                                                                                                                                                    |
|     |     status ➜ SUCCESS at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:119)                                         |                                                                                                                                                    |
|     |     status.compareAndSet(SUCCESS, SUCCESS): true at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:120)             |                                                                                                                                                    |
|     |     installOrHelp(true, 0, true) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:121)                             |                                                                                                                                                    |
|     |       this$0.array ➜ AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)          |                                                                                                                                                    |
|     |       AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)  |                                                                                                                                                    |
|     └╶╶╶╶╶╶ switch (reason: active lock detected)                                                                                                  |                                                                                                                                                    |
|                                                                                                                                                    |         this$0.gate1 ➜ 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:150)                                   |
|                                                                                                                                                    |         /* The following events repeat infinitely: */                                                                                              |
|                                                                                                                                                    |     ┌╶> Descriptor#2.apply(false, 1, true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:151)                 |
|                                                                                                                                                    |     |     status ➜ SUCCESS at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:119)                                         |
|                                                                                                                                                    |     |     status.compareAndSet(SUCCESS, SUCCESS): true at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:120)             |
|                                                                                                                                                    |     |     installOrHelp(true, 1, true) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:121)                             |
|                                                                                                                                                    |     |       this$0.array ➜ AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)          |
|                                                                                                                                                    |     |       AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)  |
|                                                                                                                                                    |     └╶╶╶╶╶╶ switch (reason: active lock detected)                                                                                                  |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock
