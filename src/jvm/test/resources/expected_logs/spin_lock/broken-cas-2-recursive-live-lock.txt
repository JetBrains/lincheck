= The execution has hung =
| ------------------------------------------------------------------- |
|             Thread 1             |             Thread 2             |
| ------------------------------------------------------------------- |
| cas2_0(0, 0, 2, 1, 0, 3): <hung> | cas2_1(0, 0, 4, 1, 0, 5): <hung> |
| ------------------------------------------------------------------- |


The following interleaving leads to the error:
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                      Thread 1                                                                                      |                                                                                      Thread 2                                                                                      |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                                                                    | cas2_1(0, 0, 4, 1, 0, 5): <hung>                                                                                                                                                   |
|                                                                                                                                                                                    |   array.cas2(0,0,4,1,0,5,1) at AtomicArrayWithCAS2LiveLockTest.cas2_1(AtomicArrayWithCAS2LiveLockTest.kt:39)                                                                       |
|                                                                                                                                                                                    |     AtomicArrayWithCAS2$Descriptor.apply$default(Descriptor#1,false,1,false,5,null) at AtomicArrayWithCAS2.cas2(AtomicArrayWithCAS2LiveLockTest.kt:85)                             |
|                                                                                                                                                                                    |       Descriptor#1.apply(true,1,false) at AtomicArrayWithCAS2$Descriptor.apply$default(AtomicArrayWithCAS2LiveLockTest.kt:111)                                                     |
|                                                                                                                                                                                    |         AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Descriptor#1,true,1,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:118)     |
|                                                                                                                                                                                    |           Descriptor#1.installOrHelp(true,1,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(AtomicArrayWithCAS2LiveLockTest.kt:130)                                 |
|                                                                                                                                                                                    |             AtomicArrayWithCAS2LiveLockTest#1.array.array.READ: AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135)     |
|                                                                                                                                                                                    |             AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135)                                  |
|                                                                                                                                                                                    |             AtomicArrayWithCAS2LiveLockTest#1.array.gate0.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:143)                         |
|                                                                                                                                                                                    |             switch                                                                                                                                                                 |
| cas2_0(0, 0, 2, 1, 0, 3): <hung>                                                                                                                                                   |                                                                                                                                                                                    |
|   array.cas2(0,0,2,1,0,3,0) at AtomicArrayWithCAS2LiveLockTest.cas2_0(AtomicArrayWithCAS2LiveLockTest.kt:33)                                                                       |                                                                                                                                                                                    |
|     AtomicArrayWithCAS2$Descriptor.apply$default(Descriptor#3,false,0,false,5,null) at AtomicArrayWithCAS2.cas2(AtomicArrayWithCAS2LiveLockTest.kt:85)                             |                                                                                                                                                                                    |
|       Descriptor#3.apply(true,0,false) at AtomicArrayWithCAS2$Descriptor.apply$default(AtomicArrayWithCAS2LiveLockTest.kt:111)                                                     |                                                                                                                                                                                    |
|         AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Descriptor#3,true,0,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:118)     |                                                                                                                                                                                    |
|           Descriptor#3.installOrHelp(true,0,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(AtomicArrayWithCAS2LiveLockTest.kt:130)                                 |                                                                                                                                                                                    |
|             AtomicArrayWithCAS2LiveLockTest#1.array.array.READ: AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135)     |                                                                                                                                                                                    |
|             AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135)                                  |                                                                                                                                                                                    |
|             AtomicArrayWithCAS2LiveLockTest#1.array.gate1.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:151)                         |                                                                                                                                                                                    |
|             AtomicArrayWithCAS2LiveLockTest#1.array.gate0.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:152)                          |                                                                                                                                                                                    |
|             /* The following events repeat infinitely: */                                                                                                                          |                                                                                                                                                                                    |
|         ┌╶> Descriptor#2.apply(false,0,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:153)                                               |                                                                                                                                                                                    |
|         |     status.READ: SUCCESS at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:113)                                                                 |                                                                                                                                                                                    |
|         |     status.compareAndSet(SUCCESS,SUCCESS): true at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:114)                                          |                                                                                                                                                                                    |
|         |     installOrHelp(true,0,true) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:115)                                                           |                                                                                                                                                                                    |
|         |       AtomicArrayWithCAS2LiveLockTest#1.array.array.READ: AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135) |                                                                                                                                                                                    |
|         |       AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135)                              |                                                                                                                                                                                    |
|         └╶╶╶╶╶╶ switch (reason: active lock detected)                                                                                                                              |                                                                                                                                                                                    |
|                                                                                                                                                                                    |             AtomicArrayWithCAS2LiveLockTest#1.array.gate1.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:144)                          |
|                                                                                                                                                                                    |             /* The following events repeat infinitely: */                                                                                                                          |
|                                                                                                                                                                                    |         ┌╶> Descriptor#2.apply(false,1,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:145)                                               |
|                                                                                                                                                                                    |         |     status.READ: SUCCESS at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:113)                                                                 |
|                                                                                                                                                                                    |         |     status.compareAndSet(SUCCESS,SUCCESS): true at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:114)                                          |
|                                                                                                                                                                                    |         |     installOrHelp(true,1,true) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:115)                                                           |
|                                                                                                                                                                                    |         |       AtomicArrayWithCAS2LiveLockTest#1.array.array.READ: AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135) |
|                                                                                                                                                                                    |         |       AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135)                              |
|                                                                                                                                                                                    |         └╶╶╶╶╶╶ switch (reason: active lock detected)                                                                                                                              |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock

Detailed trace:
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                      Thread 1                                                                                      |                                                                                      Thread 2                                                                                      |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                                                                    | cas2_1(0, 0, 4, 1, 0, 5): <hung>                                                                                                                                                   |
|                                                                                                                                                                                    |   array.cas2(0,0,4,1,0,5,1) at AtomicArrayWithCAS2LiveLockTest.cas2_1(AtomicArrayWithCAS2LiveLockTest.kt:39)                                                                       |
|                                                                                                                                                                                    |     AtomicArrayWithCAS2$Descriptor.apply$default(Descriptor#1,false,1,false,5,null) at AtomicArrayWithCAS2.cas2(AtomicArrayWithCAS2LiveLockTest.kt:85)                             |
|                                                                                                                                                                                    |       Descriptor#1.apply(true,1,false) at AtomicArrayWithCAS2$Descriptor.apply$default(AtomicArrayWithCAS2LiveLockTest.kt:111)                                                     |
|                                                                                                                                                                                    |         AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Descriptor#1,true,1,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:118)     |
|                                                                                                                                                                                    |           Descriptor#1.installOrHelp(true,1,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(AtomicArrayWithCAS2LiveLockTest.kt:130)                                 |
|                                                                                                                                                                                    |             AtomicArrayWithCAS2LiveLockTest#1.array.array.READ: AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135)     |
|                                                                                                                                                                                    |             AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135)                                  |
|                                                                                                                                                                                    |             AtomicArrayWithCAS2LiveLockTest#1.array.gate0.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:143)                         |
|                                                                                                                                                                                    |             switch                                                                                                                                                                 |
| cas2_0(0, 0, 2, 1, 0, 3): <hung>                                                                                                                                                   |                                                                                                                                                                                    |
|   array.cas2(0,0,2,1,0,3,0) at AtomicArrayWithCAS2LiveLockTest.cas2_0(AtomicArrayWithCAS2LiveLockTest.kt:33)                                                                       |                                                                                                                                                                                    |
|     AtomicArrayWithCAS2$Descriptor.apply$default(Descriptor#3,false,0,false,5,null) at AtomicArrayWithCAS2.cas2(AtomicArrayWithCAS2LiveLockTest.kt:85)                             |                                                                                                                                                                                    |
|       Descriptor#3.apply(true,0,false) at AtomicArrayWithCAS2$Descriptor.apply$default(AtomicArrayWithCAS2LiveLockTest.kt:111)                                                     |                                                                                                                                                                                    |
|         AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Descriptor#3,true,0,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:118)     |                                                                                                                                                                                    |
|           Descriptor#3.installOrHelp(true,0,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(AtomicArrayWithCAS2LiveLockTest.kt:130)                                 |                                                                                                                                                                                    |
|             AtomicArrayWithCAS2LiveLockTest#1.array.array.READ: AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135)     |                                                                                                                                                                                    |
|             AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135)                                  |                                                                                                                                                                                    |
|             AtomicArrayWithCAS2LiveLockTest#1.array.gate1.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:151)                         |                                                                                                                                                                                    |
|             AtomicArrayWithCAS2LiveLockTest#1.array.gate0.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:152)                          |                                                                                                                                                                                    |
|             /* The following events repeat infinitely: */                                                                                                                          |                                                                                                                                                                                    |
|         ┌╶> Descriptor#2.apply(false,0,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:153)                                               |                                                                                                                                                                                    |
|         |     status.READ: SUCCESS at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:113)                                                                 |                                                                                                                                                                                    |
|         |     status.compareAndSet(SUCCESS,SUCCESS): true at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:114)                                          |                                                                                                                                                                                    |
|         |     installOrHelp(true,0,true) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:115)                                                           |                                                                                                                                                                                    |
|         |       AtomicArrayWithCAS2LiveLockTest#1.array.array.READ: AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135) |                                                                                                                                                                                    |
|         |       AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135)                              |                                                                                                                                                                                    |
|         └╶╶╶╶╶╶ switch (reason: active lock detected)                                                                                                                              |                                                                                                                                                                                    |
|                                                                                                                                                                                    |             AtomicArrayWithCAS2LiveLockTest#1.array.gate1.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:144)                          |
|                                                                                                                                                                                    |             /* The following events repeat infinitely: */                                                                                                                          |
|                                                                                                                                                                                    |         ┌╶> Descriptor#2.apply(false,1,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:145)                                               |
|                                                                                                                                                                                    |         |     status.READ: SUCCESS at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:113)                                                                 |
|                                                                                                                                                                                    |         |     status.compareAndSet(SUCCESS,SUCCESS): true at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:114)                                          |
|                                                                                                                                                                                    |         |     installOrHelp(true,1,true) at AtomicArrayWithCAS2$Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:115)                                                           |
|                                                                                                                                                                                    |         |       AtomicArrayWithCAS2LiveLockTest#1.array.array.READ: AtomicReferenceArray#1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135) |
|                                                                                                                                                                                    |         |       AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:135)                              |
|                                                                                                                                                                                    |         └╶╶╶╶╶╶ switch (reason: active lock detected)                                                                                                                              |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock
