= The execution has hung =
| ------------------------------------------------------------------- |
|             Thread 1             |             Thread 2             |
| ------------------------------------------------------------------- |
| cas2_0(0, 0, 2, 1, 0, 3): <hung> | cas2_1(0, 0, 4, 1, 0, 5): <hung> |
| ------------------------------------------------------------------- |


The following interleaving leads to the error:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|                                                                      Thread 1                                                                      |                                                                                 Thread 2                                                                                  |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|                                                                                                                                                    | cas2_1(0, 0, 4, 1, 0, 5): <hung>                                                                                                                                          |
|                                                                                                                                                    |   array.cas2(0, 0, 4, 1, 0, 5, 1) at AtomicArrayWithCAS2LiveLockTest.cas2_1(AtomicArrayWithCAS2LiveLockTest.kt:45)                                                        |
|                                                                                                                                                    |     AtomicArrayWithCAS2.Descriptor.apply(true, 1, false) at AtomicArrayWithCAS2.cas2(AtomicArrayWithCAS2LiveLockTest.kt:91)                                               |
|                                                                                                                                                    |       status$volatile.get(): UNDECIDED at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:123)                                                    |
|                                                                                                                                                    |       AtomicArrayWithCAS2.Descriptor.installOrHelp(true, 1, false): true at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:124)                  |
|                                                                                                                                                    |         AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)                             |
|                                                                                                                                                    |         gate0$volatile.set(1) at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:149)                                                     |
|                                                                                                                                                    |         gate1$volatile.get(): 0 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:150)                                                   |
|                                                                                                                                                    |         switch                                                                                                                                                            |
| cas2_0(0, 0, 2, 1, 0, 3): <hung>                                                                                                                   |                                                                                                                                                                           |
|   array.cas2(0, 0, 2, 1, 0, 3, 0) at AtomicArrayWithCAS2LiveLockTest.cas2_0(AtomicArrayWithCAS2LiveLockTest.kt:39)                                 |                                                                                                                                                                           |
|     AtomicArrayWithCAS2.Descriptor.apply(true, 0, false) at AtomicArrayWithCAS2.cas2(AtomicArrayWithCAS2LiveLockTest.kt:91)                        |                                                                                                                                                                           |
|       status$volatile.get(): UNDECIDED at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:123)                             |                                                                                                                                                                           |
|       AtomicArrayWithCAS2.Descriptor.installOrHelp(true, 0, false) at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:124) |                                                                                                                                                                           |
|         AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)      |                                                                                                                                                                           |
|         gate1$volatile.set(1) at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:157)                              |                                                                                                                                                                           |
|         gate0$volatile.get(): 1 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:158)                            |                                                                                                                                                                           |
|         /* The following events repeat infinitely: */                                                                                              |                                                                                                                                                                           |
|     ┌╶> current.apply(false, 0, true) at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:159)                      |                                                                                                                                                                           |
|     |     status$volatile.get(): SUCCESS at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:119)                           |                                                                                                                                                                           |
|     |     status$volatile.compareAndSet(SUCCESS, SUCCESS): true at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:120)    |                                                                                                                                                                           |
|     |     installOrHelp(true, 0, true) at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:121)                             |                                                                                                                                                                           |
|     |       AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)  |                                                                                                                                                                           |
|     └╶╶╶╶╶╶ switch (reason: active lock detected)                                                                                                  |                                                                                                                                                                           |
|                                                                                                                                                    |         gate0$volatile.set(0) at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:153)                                                     |
|                                                                                                                                                    |         AtomicArrayWithCAS2.Descriptor.apply(false, 1, false) at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:167)                     |
|                                                                                                                                                    |         current.read(0): 0 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:168)                                                        |
|                                                                                                                                                    |         status$volatile.get(): UNDECIDED at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:172)                                          |
|                                                                                                                                                    |         AtomicReferenceArray#1[0].compareAndSet(Descriptor#2, Descriptor#1): true at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:173) |
|                                                                                                                                                    |       AtomicArrayWithCAS2.Descriptor.installOrHelp(false, 1, false) at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:125)                       |
|                                                                                                                                                    |         AtomicReferenceArray#1[1].get(): Descriptor#4 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)                             |
|                                                                                                                                                    |         gate0$volatile.set(1) at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:149)                                                     |
|                                                                                                                                                    |         gate1$volatile.get(): 1 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:150)                                                   |
|                                                                                                                                                    |         /* The following events repeat infinitely: */                                                                                                                     |
|                                                                                                                                                    |     ┌╶> current.apply(false, 1, true) at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:151)                                             |
|                                                                                                                                                    |     |     status$volatile.get(): SUCCESS at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:119)                                                  |
|                                                                                                                                                    |     |     status$volatile.compareAndSet(SUCCESS, SUCCESS): true at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:120)                           |
|                                                                                                                                                    |     |     installOrHelp(true, 1, true) at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:121)                                                    |
|                                                                                                                                                    |     |       AtomicReferenceArray#1[1].get(): Descriptor#4 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)                         |
|                                                                                                                                                    |     └╶╶╶╶╶╶ switch (reason: active lock detected)                                                                                                                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
All unfinished threads are in deadlock

Detailed trace:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|                                                                      Thread 1                                                                      |                                                                                 Thread 2                                                                                  |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|                                                                                                                                                    | cas2_1(0, 0, 4, 1, 0, 5): <hung>                                                                                                                                          |
|                                                                                                                                                    |   array.cas2(0, 0, 4, 1, 0, 5, 1) at AtomicArrayWithCAS2LiveLockTest.cas2_1(AtomicArrayWithCAS2LiveLockTest.kt:45)                                                        |
|                                                                                                                                                    |     AtomicArrayWithCAS2.Descriptor.apply(true, 1, false) at AtomicArrayWithCAS2.cas2(AtomicArrayWithCAS2LiveLockTest.kt:91)                                               |
|                                                                                                                                                    |       status$volatile.get(): UNDECIDED at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:123)                                                    |
|                                                                                                                                                    |       AtomicArrayWithCAS2.Descriptor.installOrHelp(true, 1, false): true at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:124)                  |
|                                                                                                                                                    |         AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)                             |
|                                                                                                                                                    |         gate0$volatile.set(1) at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:149)                                                     |
|                                                                                                                                                    |         gate1$volatile.get(): 0 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:150)                                                   |
|                                                                                                                                                    |         switch                                                                                                                                                            |
| cas2_0(0, 0, 2, 1, 0, 3): <hung>                                                                                                                   |                                                                                                                                                                           |
|   array.cas2(0, 0, 2, 1, 0, 3, 0) at AtomicArrayWithCAS2LiveLockTest.cas2_0(AtomicArrayWithCAS2LiveLockTest.kt:39)                                 |                                                                                                                                                                           |
|     AtomicArrayWithCAS2.Descriptor.apply(true, 0, false) at AtomicArrayWithCAS2.cas2(AtomicArrayWithCAS2LiveLockTest.kt:91)                        |                                                                                                                                                                           |
|       status$volatile.get(): UNDECIDED at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:123)                             |                                                                                                                                                                           |
|       AtomicArrayWithCAS2.Descriptor.installOrHelp(true, 0, false) at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:124) |                                                                                                                                                                           |
|         AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)      |                                                                                                                                                                           |
|         gate1$volatile.set(1) at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:157)                              |                                                                                                                                                                           |
|         gate0$volatile.get(): 1 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:158)                            |                                                                                                                                                                           |
|         /* The following events repeat infinitely: */                                                                                              |                                                                                                                                                                           |
|     ┌╶> current.apply(false, 0, true) at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:159)                      |                                                                                                                                                                           |
|     |     status$volatile.get(): SUCCESS at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:119)                           |                                                                                                                                                                           |
|     |     status$volatile.compareAndSet(SUCCESS, SUCCESS): true at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:120)    |                                                                                                                                                                           |
|     |     installOrHelp(true, 0, true) at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:121)                             |                                                                                                                                                                           |
|     |       AtomicReferenceArray#1[0].get(): Descriptor#2 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)  |                                                                                                                                                                           |
|     └╶╶╶╶╶╶ switch (reason: active lock detected)                                                                                                  |                                                                                                                                                                           |
|                                                                                                                                                    |         gate0$volatile.set(0) at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:153)                                                     |
|                                                                                                                                                    |         AtomicArrayWithCAS2.Descriptor.apply(false, 1, false) at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:167)                     |
|                                                                                                                                                    |           status$volatile.get(): SUCCESS at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:123)                                                  |
|                                                                                                                                                    |         current.read(0): 0 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:168)                                                        |
|                                                                                                                                                    |           status$volatile.get(): SUCCESS at AtomicArrayWithCAS2.Descriptor.read(AtomicArrayWithCAS2LiveLockTest.kt:107)                                                   |
|                                                                                                                                                    |         status$volatile.get(): UNDECIDED at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:172)                                          |
|                                                                                                                                                    |         AtomicReferenceArray#1[0].compareAndSet(Descriptor#2, Descriptor#1): true at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:173) |
|                                                                                                                                                    |       AtomicArrayWithCAS2.Descriptor.installOrHelp(false, 1, false) at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:125)                       |
|                                                                                                                                                    |         AtomicReferenceArray#1[1].get(): Descriptor#4 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)                             |
|                                                                                                                                                    |         gate0$volatile.set(1) at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:149)                                                     |
|                                                                                                                                                    |         gate1$volatile.get(): 1 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:150)                                                   |
|                                                                                                                                                    |         /* The following events repeat infinitely: */                                                                                                                     |
|                                                                                                                                                    |     ┌╶> current.apply(false, 1, true) at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:151)                                             |
|                                                                                                                                                    |     |     status$volatile.get(): SUCCESS at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:119)                                                  |
|                                                                                                                                                    |     |     status$volatile.compareAndSet(SUCCESS, SUCCESS): true at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:120)                           |
|                                                                                                                                                    |     |     installOrHelp(true, 1, true) at AtomicArrayWithCAS2.Descriptor.apply(AtomicArrayWithCAS2LiveLockTest.kt:121)                                                    |
|                                                                                                                                                    |     |       AtomicReferenceArray#1[1].get(): Descriptor#4 at AtomicArrayWithCAS2.Descriptor.installOrHelp(AtomicArrayWithCAS2LiveLockTest.kt:141)                         |
|                                                                                                                                                    |     └╶╶╶╶╶╶ switch (reason: active lock detected)                                                                                                                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
All unfinished threads are in deadlock
