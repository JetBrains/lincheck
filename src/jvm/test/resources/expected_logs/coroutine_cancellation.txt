= Invalid execution results =
Parallel part:
| cancelledOp() + cancel: SUSPENDED + CANCELLED | isAbsurd(): true |

= The following interleaving leads to the error =
Parallel part trace:
|                                                                                                                                                  | isAbsurd()                                                                                                               |
|                                                                                                                                                  |   correct.READ: true at CoroutineCancellationTraceReportingTest.isAbsurd(CoroutineCancellationTraceReportingTest.kt:34)  |
|                                                                                                                                                  |   switch                                                                                                                 |
| cancelledOp() + cancel                                                                                                                           |                                                                                                                          |
|   invokeOnCancellation(@1) at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:27)                 |                                                                                                                          |
|   getResult(): CoroutineSingletons@1 at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:55)       |                                                                                                                          |
|     trySuspend(): true at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:260)                                              |                                                                                                                          |
|   CANCELLED BEFORE RESUMPTION                                                                                                                    |                                                                                                                          |
|   _state.compareAndSet(InvokeOnCancel@1,CancelledContinuation@1): true at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:178) |                                                                                                                          |
|   callCancelHandler(InvokeOnCancel@1,Exception@1) at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:180)                      |                                                                                                                          |
|   result: SUSPENDED + CANCELLED                                                                                                                  |                                                                                                                          |
|   thread is finished                                                                                                                             |                                                                                                                          |
|                                                                                                                                                  |   correct.READ: false at CoroutineCancellationTraceReportingTest.isAbsurd(CoroutineCancellationTraceReportingTest.kt:34) |
|                                                                                                                                                  |   result: true                                                                                                           |
|                                                                                                                                                  |   thread is finished                                                                                                     |

Detailed parallel part trace:
|                                                                                                                                                   | isAbsurd()                                                                                                               |
|                                                                                                                                                   |   correct.READ: true at CoroutineCancellationTraceReportingTest.isAbsurd(CoroutineCancellationTraceReportingTest.kt:34)  |
|                                                                                                                                                   |   switch                                                                                                                 |
| cancelledOp() + cancel                                                                                                                            |                                                                                                                          |
|   invokeOnCancellation(@1) at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:27)                  |                                                                                                                          |
|     _state.compareAndSet(Active@1,InvokeOnCancel@1): true at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:338) |                                                                                                                          |
|   getResult(): CoroutineSingletons@1 at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:55)        |                                                                                                                          |
|     trySuspend(): true at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:260)                                               |                                                                                                                          |
|       _decision.compareAndSet(0,1): true at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:238)                            |                                                                                                                          |
|   CANCELLED BEFORE RESUMPTION                                                                                                                     |                                                                                                                          |
|   _state.compareAndSet(InvokeOnCancel@1,CancelledContinuation@1): true at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:178)  |                                                                                                                          |
|   callCancelHandler(InvokeOnCancel@1,Exception@1) at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:180)                       |                                                                                                                          |
|     invoke(Exception@1) at CancellableContinuationImpl.callCancelHandler(CancellableContinuationImpl.kt:215)                                      |                                                                                                                          |
|       invoke(Exception@1): Unit@1 at InvokeOnCancel.invoke(CancellableContinuationImpl.kt:573)                                                    |                                                                                                                          |
|         invoke(Exception@1) at CoroutineCancellationTraceReportingTest$cancelledOp$2$1.invoke(CoroutineCancellationTraceReportingTest.kt:27)      |                                                                                                                          |
|           setCorrect(false) at CoroutineCancellationTraceReportingTest$cancelledOp$2$1.invoke(CoroutineCancellationTraceReportingTest.kt:28)      |                                                                                                                          |
|             correct.WRITE(false) at CoroutineCancellationTraceReportingTest.setCorrect(CoroutineCancellationTraceReportingTest.kt:21)             |                                                                                                                          |
|   result: SUSPENDED + CANCELLED                                                                                                                   |                                                                                                                          |
|   thread is finished                                                                                                                              |                                                                                                                          |
|                                                                                                                                                   |   correct.READ: false at CoroutineCancellationTraceReportingTest.isAbsurd(CoroutineCancellationTraceReportingTest.kt:34) |
|                                                                                                                                                   |   result: true                                                                                                           |
|                                                                                                                                                   |   thread is finished                                                                                                     |