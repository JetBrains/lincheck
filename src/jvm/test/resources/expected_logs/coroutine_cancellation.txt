= Invalid execution results =
| ---------------------------------------------------------------- |
|                   Thread 1                    |     Thread 2     |
| ---------------------------------------------------------------- |
| cancelledOp() + cancel: SUSPENDED + CANCELLED | isAbsurd(): true |
| ---------------------------------------------------------------- |

The following interleaving leads to the error:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                     Thread 1                                                                     |                                                         Thread 2                                                         |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                                  | isAbsurd(): true                                                                                                         |
|                                                                                                                                                  |   correct.READ: true at CoroutineCancellationTraceReportingTest.isAbsurd(CoroutineCancellationTraceReportingTest.kt:36)  |
|                                                                                                                                                  |   switch                                                                                                                 |
| cancelledOp() + cancel: SUSPENDED + CANCELLED                                                                                                    |                                                                                                                          |
|   invokeOnCancellation(@1) at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:29)                 |                                                                                                                          |
|   getResult(): CoroutineSingletons@1 at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:59)       |                                                                                                                          |
|     trySuspend(): true at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:260)                                              |                                                                                                                          |
|   CANCELLED BEFORE RESUMPTION                                                                                                                    |                                                                                                                          |
|   _state.compareAndSet(InvokeOnCancel@1,CancelledContinuation@1): true at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:178) |                                                                                                                          |
|   callCancelHandler(InvokeOnCancel@1,Exception@1) at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:180)                      |                                                                                                                          |
|   result: SUSPENDED + CANCELLED                                                                                                                  |                                                                                                                          |
|                                                                                                                                                  |   correct.READ: false at CoroutineCancellationTraceReportingTest.isAbsurd(CoroutineCancellationTraceReportingTest.kt:36) |
|                                                                                                                                                  |   result: true                                                                                                           |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                     Thread 1                                                                      |                                                         Thread 2                                                         |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                                                   | isAbsurd(): true                                                                                                         |
|                                                                                                                                                   |   correct.READ: true at CoroutineCancellationTraceReportingTest.isAbsurd(CoroutineCancellationTraceReportingTest.kt:36)  |
|                                                                                                                                                   |   switch                                                                                                                 |
| cancelledOp() + cancel: SUSPENDED + CANCELLED                                                                                                     |                                                                                                                          |
|   invokeOnCancellation(@1) at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:29)                  |                                                                                                                          |
|     _state.compareAndSet(Active@1,InvokeOnCancel@1): true at CancellableContinuationImpl.invokeOnCancellation(CancellableContinuationImpl.kt:338) |                                                                                                                          |
|   getResult(): CoroutineSingletons@1 at CoroutineCancellationTraceReportingTest.cancelledOp(CoroutineCancellationTraceReportingTest.kt:59)        |                                                                                                                          |
|     trySuspend(): true at CancellableContinuationImpl.getResult(CancellableContinuationImpl.kt:260)                                               |                                                                                                                          |
|       _decision.compareAndSet(0,1): true at CancellableContinuationImpl.trySuspend(CancellableContinuationImpl.kt:238)                            |                                                                                                                          |
|   CANCELLED BEFORE RESUMPTION                                                                                                                     |                                                                                                                          |
|   _state.compareAndSet(InvokeOnCancel@1,CancelledContinuation@1): true at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:178)  |                                                                                                                          |
|   callCancelHandler(InvokeOnCancel@1,Exception@1) at CancellableContinuationImpl.cancel(CancellableContinuationImpl.kt:180)                       |                                                                                                                          |
|     invoke(Exception@1) at CancellableContinuationImpl.callCancelHandler(CancellableContinuationImpl.kt:215)                                      |                                                                                                                          |
|       invoke(Exception@1): Unit@1 at InvokeOnCancel.invoke(CancellableContinuationImpl.kt:573)                                                    |                                                                                                                          |
|         invoke(Exception@1) at CoroutineCancellationTraceReportingTest$cancelledOp$2$1.invoke(CoroutineCancellationTraceReportingTest.kt:29)      |                                                                                                                          |
|           setCorrect(false) at CoroutineCancellationTraceReportingTest$cancelledOp$2$1.invoke(CoroutineCancellationTraceReportingTest.kt:30)      |                                                                                                                          |
|             correct.WRITE(false) at CoroutineCancellationTraceReportingTest.setCorrect(CoroutineCancellationTraceReportingTest.kt:23)             |                                                                                                                          |
|   result: SUSPENDED + CANCELLED                                                                                                                   |                                                                                                                          |
|                                                                                                                                                   |   correct.READ: false at CoroutineCancellationTraceReportingTest.isAbsurd(CoroutineCancellationTraceReportingTest.kt:36) |
|                                                                                                                                                   |   result: true                                                                                                           |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
