= The execution has hung, see the thread dump =
| --------------------------------------------------- |
|         Thread 1         |         Thread 2         |
| --------------------------------------------------- |
| cas2_0(0, 0, 2, 1, 0, 3) | cas2_1(0, 0, 4, 1, 0, 5) |
| --------------------------------------------------- |


The following interleaving leads to the error:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                         Thread 1                                                         |                                                         Thread 2                                                         |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                          | cas2_1(0, 0, 4, 1, 0, 5)                                                                                                 |
|                                                                                                                          |   cas2(0,0,4,1,0,5,1) at AtomicArrayWithCAS2Test.cas2_1(Cas2Test.kt:46)                                                  |
|                                                                                                                          |     apply$default(Descriptor@1,false,1,false,5,null) at AtomicArrayWithCAS2.cas2(Cas2Test.kt:106)                        |
|                                                                                                                          |       apply(true,1,false) at AtomicArrayWithCAS2$Descriptor.apply$default(Cas2Test.kt:129)                               |
|                                                                                                                          |         installOrHelp$default(Descriptor@1,true,1,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:136) |
|                                                                                                                          |           installOrHelp(true,1,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Cas2Test.kt:145)           |
|                                                                                                                          |             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)          |
|                                                                                                                          |             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)                        |
|                                                                                                                          |             gate0.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:158)                              |
|                                                                                                                          |             switch                                                                                                       |
| cas2_0(0, 0, 2, 1, 0, 3)                                                                                                 |                                                                                                                          |
|   cas2(0,0,2,1,0,3,0) at AtomicArrayWithCAS2Test.cas2_0(Cas2Test.kt:40)                                                  |                                                                                                                          |
|     apply$default(Descriptor@3,false,0,false,5,null) at AtomicArrayWithCAS2.cas2(Cas2Test.kt:106)                        |                                                                                                                          |
|       apply(true,0,false) at AtomicArrayWithCAS2$Descriptor.apply$default(Cas2Test.kt:129)                               |                                                                                                                          |
|         installOrHelp$default(Descriptor@3,true,0,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:136) |                                                                                                                          |
|           installOrHelp(true,0,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Cas2Test.kt:145)           |                                                                                                                          |
|             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)          |                                                                                                                          |
|             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)                        |                                                                                                                          |
|             gate1.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:166)                              |                                                                                                                          |
|             gate0.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:167)                               |                                                                                                                          |
|             /* The following events recursively repeat infinitely: */                                                    |                                                                                                                          |
|             apply(false,0,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:168)                         |                                                                                                                          |
|               status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:131)                             |                                                                                                                          |
|               status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:132)     |                                                                                                                          |
|               installOrHelp(true,0,true) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:133)                        |                                                                                                                          |
|                 array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)      |                                                                                                                          |
|                 get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)                    |                                                                                                                          |
|                 switch (reason: active lock detected)                                                                    |                                                                                                                          |
|                                                                                                                          |             gate1.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:159)                               |
|                                                                                                                          |             /* The following events recursively repeat infinitely: */                                                    |
|                                                                                                                          |             apply(false,1,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:160)                         |
|                                                                                                                          |               status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:131)                             |
|                                                                                                                          |               status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:132)     |
|                                                                                                                          |               installOrHelp(true,1,true) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:133)                        |
|                                                                                                                          |                 array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)      |
|                                                                                                                          |                 get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)                    |
|                                                                                                                          |                 switch (reason: active lock detected)                                                                    |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock

Detailed trace:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                         Thread 1                                                         |                                                         Thread 2                                                         |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                          | cas2_1(0, 0, 4, 1, 0, 5)                                                                                                 |
|                                                                                                                          |   cas2(0,0,4,1,0,5,1) at AtomicArrayWithCAS2Test.cas2_1(Cas2Test.kt:46)                                                  |
|                                                                                                                          |     apply$default(Descriptor@1,false,1,false,5,null) at AtomicArrayWithCAS2.cas2(Cas2Test.kt:106)                        |
|                                                                                                                          |       apply(true,1,false) at AtomicArrayWithCAS2$Descriptor.apply$default(Cas2Test.kt:129)                               |
|                                                                                                                          |         installOrHelp$default(Descriptor@1,true,1,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:136) |
|                                                                                                                          |           installOrHelp(true,1,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Cas2Test.kt:145)           |
|                                                                                                                          |             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)          |
|                                                                                                                          |             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)                        |
|                                                                                                                          |             gate0.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:158)                              |
|                                                                                                                          |             switch                                                                                                       |
| cas2_0(0, 0, 2, 1, 0, 3)                                                                                                 |                                                                                                                          |
|   cas2(0,0,2,1,0,3,0) at AtomicArrayWithCAS2Test.cas2_0(Cas2Test.kt:40)                                                  |                                                                                                                          |
|     apply$default(Descriptor@3,false,0,false,5,null) at AtomicArrayWithCAS2.cas2(Cas2Test.kt:106)                        |                                                                                                                          |
|       apply(true,0,false) at AtomicArrayWithCAS2$Descriptor.apply$default(Cas2Test.kt:129)                               |                                                                                                                          |
|         installOrHelp$default(Descriptor@3,true,0,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:136) |                                                                                                                          |
|           installOrHelp(true,0,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Cas2Test.kt:145)           |                                                                                                                          |
|             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)          |                                                                                                                          |
|             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)                        |                                                                                                                          |
|             gate1.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:166)                              |                                                                                                                          |
|             gate0.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:167)                               |                                                                                                                          |
|             /* The following events recursively repeat infinitely: */                                                    |                                                                                                                          |
|             apply(false,0,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:168)                         |                                                                                                                          |
|               status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:131)                             |                                                                                                                          |
|               status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:132)     |                                                                                                                          |
|               installOrHelp(true,0,true) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:133)                        |                                                                                                                          |
|                 array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)      |                                                                                                                          |
|                 get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)                    |                                                                                                                          |
|                 switch (reason: active lock detected)                                                                    |                                                                                                                          |
|                                                                                                                          |             gate1.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:159)                               |
|                                                                                                                          |             /* The following events recursively repeat infinitely: */                                                    |
|                                                                                                                          |             apply(false,1,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:160)                         |
|                                                                                                                          |               status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:131)                             |
|                                                                                                                          |               status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:132)     |
|                                                                                                                          |               installOrHelp(true,1,true) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:133)                        |
|                                                                                                                          |                 array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)      |
|                                                                                                                          |                 get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:150)                    |
|                                                                                                                          |                 switch (reason: active lock detected)                                                                    |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock
