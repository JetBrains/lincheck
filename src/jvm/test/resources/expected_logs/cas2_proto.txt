

= The execution has hung, see the thread dump =
| --------------------------------------------------- |
|         Thread 1         |         Thread 2         |
| --------------------------------------------------- |
| cas2_0(0, 0, 2, 1, 0, 3) | cas2_1(0, 0, 4, 1, 0, 5) |
| --------------------------------------------------- |


The following interleaving leads to the error:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                         Thread 1                                                         |                                                         Thread 2                                                         |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                          | cas2_1(0, 0, 4, 1, 0, 5)                                                                                                 |
|                                                                                                                          |   cas2(0,0,4,1,0,5,1) at AtomicArrayWithCAS2Test.cas2_1(Cas2Test.kt:44)                                                  |
|                                                                                                                          |     apply$default(Descriptor@1,false,1,false,5,null) at AtomicArrayWithCAS2.cas2(Cas2Test.kt:103)                        |
|                                                                                                                          |       apply(true,1,false) at AtomicArrayWithCAS2$Descriptor.apply$default(Cas2Test.kt:126)                               |
|                                                                                                                          |         installOrHelp$default(Descriptor@1,true,1,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:133) |
|                                                                                                                          |           installOrHelp(true,1,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Cas2Test.kt:142)           |
|                                                                                                                          |             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)          |
|                                                                                                                          |             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                        |
|                                                                                                                          |             gate0.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:155)                              |
|                                                                                                                          |             switch                                                                                                       |
| cas2_0(0, 0, 2, 1, 0, 3)                                                                                                 |                                                                                                                          |
|   cas2(0,0,2,1,0,3,0) at AtomicArrayWithCAS2Test.cas2_0(Cas2Test.kt:38)                                                  |                                                                                                                          |
|     apply$default(Descriptor@3,false,0,false,5,null) at AtomicArrayWithCAS2.cas2(Cas2Test.kt:103)                        |                                                                                                                          |
|       apply(true,0,false) at AtomicArrayWithCAS2$Descriptor.apply$default(Cas2Test.kt:126)                               |                                                                                                                          |
|         installOrHelp$default(Descriptor@3,true,0,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:133) |                                                                                                                          |
|           installOrHelp(true,0,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Cas2Test.kt:142)           |                                                                                                                          |
|             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)          |                                                                                                                          |
|             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                        |                                                                                                                          |
|             gate1.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:163)                              |                                                                                                                          |
|             gate0.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:164)                               |                                                                                                                          |
|             /* The following events recursively repeat infinitely: */                                                    |                                                                                                                          |
|      ┌----> apply(false,0,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:165)                         |                                                                                                                          |
|      |        status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:128)                             |                                                                                                                          |
|      |        status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:129)     |                                                                                                                          |
|      |        installOrHelp(true,0,true) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:130)                        |                                                                                                                          |
|      |          array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)      |                                                                                                                          |
|      |          get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                    |                                                                                                                          |
|      └----------/* The next call apply(false,0,true) would cause infinite recursion spin-lock, switch to avoid it  */    |                                                                                                                          |
|                 switch (reason: active lock detected)                                                                    |                                                                                                                          |
|                                                                                                                          |             gate1.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:156)                               |
|                                                                                                                          |             /* The following events recursively repeat infinitely: */                                                    |
|                                                                                                                          |    ┌------> apply(false,1,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:157)                         |
|                                                                                                                          |    |          status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:128)                             |
|                                                                                                                          |    |          status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:129)     |
|                                                                                                                          |    |          installOrHelp(true,1,true) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:130)                        |
|                                                                                                                          |    |            array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)      |
|                                                                                                                          |    |            get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                    |
|                                                                                                                          |    └----------- /* The next call apply(false,0,true) would cause infinite recursion spin-lock, switch to avoid it  */    |                |
|                                                                                                                          |                 switch (reason: active lock detected)                                                                    |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock

Detailed trace:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                         Thread 1                                                         |                                                         Thread 2                                                         |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                          | cas2_1(0, 0, 4, 1, 0, 5)                                                                                                 |
|                                                                                                                          |   cas2(0,0,4,1,0,5,1) at AtomicArrayWithCAS2Test.cas2_1(Cas2Test.kt:44)                                                  |
|                                                                                                                          |     apply$default(Descriptor@1,false,1,false,5,null) at AtomicArrayWithCAS2.cas2(Cas2Test.kt:103)                        |
|                                                                                                                          |       apply(true,1,false) at AtomicArrayWithCAS2$Descriptor.apply$default(Cas2Test.kt:126)                               |
|                                                                                                                          |         installOrHelp$default(Descriptor@1,true,1,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:133) |
|                                                                                                                          |           installOrHelp(true,1,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Cas2Test.kt:142)           |
|                                                                                                                          |             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)          |
|                                                                                                                          |             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                        |
|                                                                                                                          |             gate0.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:155)                              |
|                                                                                                                          |             switch                                                                                                       |
| cas2_0(0, 0, 2, 1, 0, 3)                                                                                                 |                                                                                                                          |
|   cas2(0,0,2,1,0,3,0) at AtomicArrayWithCAS2Test.cas2_0(Cas2Test.kt:38)                                                  |                                                                                                                          |
|     apply$default(Descriptor@3,false,0,false,5,null) at AtomicArrayWithCAS2.cas2(Cas2Test.kt:103)                        |                                                                                                                          |
|       apply(true,0,false) at AtomicArrayWithCAS2$Descriptor.apply$default(Cas2Test.kt:126)                               |                                                                                                                          |
|         installOrHelp$default(Descriptor@3,true,0,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:133) |                                                                                                                          |
|           installOrHelp(true,0,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Cas2Test.kt:142)           |                                                                                                                          |
|             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)          |                                                                                                                          |
|             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                        |                                                                                                                          |
|             gate1.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:163)                              |                                                                                                                          |
|             gate0.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:164)                               |                                                                                                                          |
|             /* The following events recursively repeat infinitely: */                                                    |                                                                                                                          |
|             apply(false,0,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:165)                         |                                                                                                                          |
|               status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:128)                             |                                                                                                                          |
|               status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:129)     |                                                                                                                          |
|               installOrHelp(true,0,true) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:130)                        |                                                                                                                          |
|                 array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)      |                                                                                                                          |
|                 get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                    |                                                                                                                          |
|                 switch (reason: active lock detected)                                                                    |                                                                                                                          |
|                                                                                                                          |             gate1.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:156)                               |
|                                                                                                                          |             /* The following events recursively repeat infinitely: */                                                    |
|                                                                                                                          |             apply(false,1,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:157)                         |
|                                                                                                                          |               status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:128)                             |
|                                                                                                                          |               status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:129)     |
|                                                                                                                          |               installOrHelp(true,1,true) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:130)                        |
|                                                                                                                          |                 array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)      |
|                                                                                                                          |                 get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                    |
|                                                                                                                          |                 switch (reason: active lock detected)                                                                    |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock

org.jetbrains.kotlinx.lincheck.LincheckAssertionError:
= The execution has hung, see the thread dump =
| --------------------------------------------------- |
|         Thread 1         |         Thread 2         |
| --------------------------------------------------- |
| cas2_0(0, 0, 2, 1, 0, 3) | cas2_1(0, 0, 4, 1, 0, 5) |
| --------------------------------------------------- |


The following interleaving leads to the error:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                         Thread 1                                                         |                                                         Thread 2                                                         |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                          | cas2_1(0, 0, 4, 1, 0, 5)                                                                                                 |
|                                                                                                                          |   cas2(0,0,4,1,0,5,1) at AtomicArrayWithCAS2Test.cas2_1(Cas2Test.kt:44)                                                  |
|                                                                                                                          |     apply$default(Descriptor@1,false,1,false,5,null) at AtomicArrayWithCAS2.cas2(Cas2Test.kt:103)                        |
|                                                                                                                          |       apply(true,1,false) at AtomicArrayWithCAS2$Descriptor.apply$default(Cas2Test.kt:126)                               |
|                                                                                                                          |         installOrHelp$default(Descriptor@1,true,1,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:133) |
|                                                                                                                          |           installOrHelp(true,1,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Cas2Test.kt:142)           |
|                                                                                                                          |             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)          |
|                                                                                                                          |             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                        |
|                                                                                                                          |             gate0.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:155)                              |
|                                                                                                                          |             switch                                                                                                       |
| cas2_0(0, 0, 2, 1, 0, 3)                                                                                                 |                                                                                                                          |
|   cas2(0,0,2,1,0,3,0) at AtomicArrayWithCAS2Test.cas2_0(Cas2Test.kt:38)                                                  |                                                                                                                          |
|     apply$default(Descriptor@3,false,0,false,5,null) at AtomicArrayWithCAS2.cas2(Cas2Test.kt:103)                        |                                                                                                                          |
|       apply(true,0,false) at AtomicArrayWithCAS2$Descriptor.apply$default(Cas2Test.kt:126)                               |                                                                                                                          |
|         installOrHelp$default(Descriptor@3,true,0,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:133) |                                                                                                                          |
|           installOrHelp(true,0,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Cas2Test.kt:142)           |                                                                                                                          |
|             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)          |                                                                                                                          |
|             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                        |                                                                                                                          |
|             gate1.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:163)                              |                                                                                                                          |
|             gate0.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:164)                               |                                                                                                                          |
|             /* The following events recursively repeat infinitely: */                                                    |                                                                                                                          |
|             apply(false,0,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:165)                         |                                                                                                                          |
|               status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:128)                             |                                                                                                                          |
|               status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:129)     |                                                                                                                          |
|               installOrHelp(true,0,true) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:130)                        |                                                                                                                          |
|                 array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)      |                                                                                                                          |
|                 get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                    |                                                                                                                          |
|                 switch (reason: active lock detected)                                                                    |                                                                                                                          |
|                                                                                                                          |             gate1.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:156)                               |
|                                                                                                                          |             /* The following events recursively repeat infinitely: */                                                    |
|                                                                                                                          |             apply(false,1,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:157)                         |
|                                                                                                                          |               status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:128)                             |
|                                                                                                                          |               status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:129)     |
|                                                                                                                          |               installOrHelp(true,1,true) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:130)                        |
|                                                                                                                          |                 array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)      |
|                                                                                                                          |                 get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                    |
|                                                                                                                          |                 switch (reason: active lock detected)                                                                    |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock

Detailed trace:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                         Thread 1                                                         |                                                         Thread 2                                                         |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                                          | cas2_1(0, 0, 4, 1, 0, 5)                                                                                                 |
|                                                                                                                          |   cas2(0,0,4,1,0,5,1) at AtomicArrayWithCAS2Test.cas2_1(Cas2Test.kt:44)                                                  |
|                                                                                                                          |     apply$default(Descriptor@1,false,1,false,5,null) at AtomicArrayWithCAS2.cas2(Cas2Test.kt:103)                        |
|                                                                                                                          |       apply(true,1,false) at AtomicArrayWithCAS2$Descriptor.apply$default(Cas2Test.kt:126)                               |
|                                                                                                                          |         installOrHelp$default(Descriptor@1,true,1,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:133) |
|                                                                                                                          |           installOrHelp(true,1,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Cas2Test.kt:142)           |
|                                                                                                                          |             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)          |
|                                                                                                                          |             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                        |
|                                                                                                                          |             gate0.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:155)                              |
|                                                                                                                          |             switch                                                                                                       |
| cas2_0(0, 0, 2, 1, 0, 3)                                                                                                 |                                                                                                                          |
|   cas2(0,0,2,1,0,3,0) at AtomicArrayWithCAS2Test.cas2_0(Cas2Test.kt:38)                                                  |                                                                                                                          |
|     apply$default(Descriptor@3,false,0,false,5,null) at AtomicArrayWithCAS2.cas2(Cas2Test.kt:103)                        |                                                                                                                          |
|       apply(true,0,false) at AtomicArrayWithCAS2$Descriptor.apply$default(Cas2Test.kt:126)                               |                                                                                                                          |
|         installOrHelp$default(Descriptor@3,true,0,false,4,null) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:133) |                                                                                                                          |
|           installOrHelp(true,0,false) at AtomicArrayWithCAS2$Descriptor.installOrHelp$default(Cas2Test.kt:142)           |                                                                                                                          |
|             array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)          |                                                                                                                          |
|             get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                        |                                                                                                                          |
|             gate1.WRITE(1) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:163)                              |                                                                                                                          |
|             gate0.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:164)                               |                                                                                                                          |
|             /* The following events recursively repeat infinitely: */                                                    |                                                                                                                          |
|             apply(false,0,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:165)                         |                                                                                                                          |
|               status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:128)                             |                                                                                                                          |
|               status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:129)     |                                                                                                                          |
|               installOrHelp(true,0,true) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:130)                        |                                                                                                                          |
|                 array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)      |                                                                                                                          |
|                 get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                    |                                                                                                                          |
|                 switch (reason: active lock detected)                                                                    |                                                                                                                          |
|                                                                                                                          |             gate1.READ: 1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:156)                               |
|                                                                                                                          |             /* The following events recursively repeat infinitely: */                                                    |
|                                                                                                                          |             apply(false,1,true) at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:157)                         |
|                                                                                                                          |               status.READ: Status@1 at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:128)                             |
|                                                                                                                          |               status.compareAndSet(Status@1,Status@1): true at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:129)     |
|                                                                                                                          |               installOrHelp(true,1,true) at AtomicArrayWithCAS2$Descriptor.apply(Cas2Test.kt:130)                        |
|                                                                                                                          |                 array.READ: AtomicReferenceArray@1 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)      |
|                                                                                                                          |                 get(0): Descriptor@2 at AtomicArrayWithCAS2$Descriptor.installOrHelp(Cas2Test.kt:147)                    |
|                                                                                                                          |                 switch (reason: active lock detected)                                                                    |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
All unfinished threads are in deadlock

