= Invalid execution results =
| ------------------------------ |
|    Thread 1     |   Thread 2   |
| ------------------------------ |
| a(): void       | c(): void    |
| b(): void [1,0] | d(): 0 [2,1] |
| ------------------------------ |

---
Values in "[..]" brackets indicate the number of completed operations
in each of the parallel threads seen at the beginning of the current operation
---

The following interleaving leads to the error:
| -------------------------------------------------------------------------------------------------------------- |
| Thread 1 |                                              Thread 2                                               |
| -------------------------------------------------------------------------------------------------------------- |
|          | c()                                                                                                 |
|          |   /* The following events repeat infinitely: */                                                     |
|          |   bStarted.READ: false at SpinlockInIncorrectResultsWithClocksTest.c(SpinlockEventsCutTests.kt:190) |
|          |   switch (reason: active lock detected)                                                             |
| a()      |                                                                                                     |
| b()      |                                                                                                     |
|          |   bStarted.READ: true at SpinlockInIncorrectResultsWithClocksTest.c(SpinlockEventsCutTests.kt:190)  |
|          |   result: void                                                                                      |
| -------------------------------------------------------------------------------------------------------------- |

Detailed trace:
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                              Thread 1                                               |                                              Thread 2                                               |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                                                                     | c()                                                                                                 |
|                                                                                                     |   /* The following events repeat infinitely: */                                                     |
|                                                                                                     |   bStarted.READ: false at SpinlockInIncorrectResultsWithClocksTest.c(SpinlockEventsCutTests.kt:190) |
|                                                                                                     |   switch (reason: active lock detected)                                                             |
| a()                                                                                                 |                                                                                                     |
| b()                                                                                                 |                                                                                                     |
|   bStarted.WRITE(true) at SpinlockInIncorrectResultsWithClocksTest.b(SpinlockEventsCutTests.kt:185) |                                                                                                     |
|   result: void                                                                                      |                                                                                                     |
|                                                                                                     |   bStarted.READ: true at SpinlockInIncorrectResultsWithClocksTest.c(SpinlockEventsCutTests.kt:190)  |
|                                                                                                     |   result: void                                                                                      |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |


= To reproduce exactly this test execution with the same scenarios, you can add this setting in your testing options configuration =
.withReproduceSettings("eyJyYW5kb21TZWVkR2VuZXJhdG9yU2VlZCI6LTc5NTMwMzMwODA2NzkwMDg0ODB9")

= You can add this scenario as a custom test. Insert this code in your testing options configuration =
.addCustomScenario {
	parallel {
		thread {
			actor(::a)
			actor(::b)
		}
		thread {
			actor(::c)
			actor(::d)
		}
	}
}
